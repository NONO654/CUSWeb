define("DS/3DWorkbook/js/WkbHighlightUtil",["UWA/Core","UWA/Utils","UWA/Data"],function(g,d,b){var a={getTopAssemblyPath:function(l,m){var k,i,h=2;var j="//GranularObject[";j+="count(InstancePath/Instance)=1 and InstancePath/Instance[@ReferenceName='"+l+"'] ";j+="]/@HighlightPath";i=m.evaluate(j,m,null,h,null).stringValue;return i},getPathFromMap:function(q,h,j){var n,u,s,m,k,r;var p=2;var i=4;var t=h;var l="//GranularObject[";for(n=0;n<q.length;n++){if(n>0){l+=" and "}if(UWA.is(q[n].instName)){r=q[n].instName}else{r=q[n].getAttribute("data-prdInstance")}l+="InstancePath/Instance[@Index>='"+(n+j+1)+"' and @InstanceName='"+r+"']"}l+="and count(InstancePath/Instance)="+(q.length+j).toString();l+="]/@HighlightPath";m=h.evaluate("count("+l+")",t,null,XPathResult.ANY_TYPE,null);if(m.numberValue!==1){return null}s=h.evaluate(l,t,null,i,null);try{k=s.iterateNext();u=k.textContent}catch(o){console.log("Error: Document tree modified during iteration finding highlightId"+o)}return u},getPartPhysicalId:function e(m,n){var l,i;var h=2;var j="";var k="//GranularObject[";for(l=0;l<m.length;l++){if(l>0){k+=" and "}j=m[l].instName;k+="InstancePath/Instance[@Index>='"+(l+1)+"' and @InstanceName='"+j+"']"}k+="and count(InstancePath/Instance)="+(m.length).toString();k+="]/ProxyProduct/InstancePath/Instance[@Index='1']/@InstPhyID";i=n.evaluate(k,n,null,h,null).stringValue;return i},getPathFromMapConnected:function f(l,h,i){var k,p;var o=2;var n=l.getAttribute("data-phyid");var m=l.getElementsByTagName("li");var j="//GranularObject[";j+="InstancePath/Instance[@InstPhyID='"+n+"']";j+="and count(InstancePath/Instance)="+(m.length+i).toString();j+="]/ProxyProduct/InstancePath/Instance[@Index='1']/@InstPhyID";p=h.evaluate(j,h,null,o,null).stringValue;return p},getToolHighlightPath:function(v,l,h){var s=this;var p,o,m="",u=null,n=null,q=0;var r=v.dataset.referenceName;var k=l.getElementsByTagName("GranularObject");var t=(h==="Connected");for(p=0;p<k.length;p++){u=k[p];n=u.children[0].children;q=n.length-1;if(u.getAttribute("Type")==="Resource"&&q>-1){if(n[q].getAttribute("ReferenceName")===r){if(t){for(o=0;o<u.children.length;o+=1){if(u.children[o].nodeName==="ProxyProduct"){if(m.length>0){m+=";"}m+=u.children[o].children[0].children[0].getAttribute("InstPhyID")}}return m}else{return u.getAttribute("HighlightPath")}}}}return""},getInstancePath:function c(k,j){var m,p,r,s,l;var h=5;var o="//GranularObject[";o+="ProxyProduct/InstancePath/Instance[@InstPhyID='"+k+"']";o+=" and count(ProxyProduct/InstancePath/Instance)=1";o+="]/InstancePath";p=j.evaluate("count("+o+")",j,null,XPathResult.ANY_TYPE,null);if(p.numberValue!==1){return null}r=j.evaluate(o,j,null,h,null);try{m=r.iterateNext()}catch(q){console.log("Error: Document tree modified during iteration finding highlightId"+q)}if(m.children.length>0){var n=0;s=[];l={};for(n;n<m.children.length;n+=1){l={};l.index=m.children[n].getAttribute("Index");l.referenceName=m.children[n].getAttribute("ReferenceName");l.instanceName=m.children[n].getAttribute("InstanceName");l.referenceTitle=m.children[n].getAttribute("ReferenceTitle");l.instPhyID=m.children[n].getAttribute("InstPhyID");s.push(l)}}return s}};return a});
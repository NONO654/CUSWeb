var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();define("DS/SMAProcWebSupportabilityUtils/platform/SUPExchangeServiceError",["require","exports"],function(b,a){var c=(function(d){__extends(e,d);function e(){return d!==null&&d.apply(this,arguments)||this}return e}(Error));return c});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/platform/WebRequests",["require","exports","DS/SMAProcWebFetchUtils/requests"],function(b,a,c){return{fetch:function(e,d){return __awaiter(this,void 0,void 0,function(){var h,g,f,f;return __generator(this,function(i){switch(i.label){case 0:h={method:"GET",authenticated:false,allowCrossOriginRequest:true};g=Object.assign(h,d||{});if(!g.authenticated){return[3,2]}delete g.authenticated;return[4,c.fetchAuthenticatedRequest(e,g)];case 1:f=i.sent();return[2,f.body];case 2:delete g.authenticated;return[4,c.fetchRequest(e,g)];case 3:f=i.sent();return[2,f.body]}})})}}});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/utility/CachedData",["require","exports"],function(c,b){var a=(function(){function d(f,e){this.dataProducer=f;this.cacheDurationMs=e;this.data=undefined}d.prototype.getData=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(f){switch(f.label){case 0:if(this.data!==undefined){if(this.cacheDurationMs===undefined){return[2,this.data]}if((Date.now()-this.lastCacheTime)<=this.cacheDurationMs){return[2,this.data]}}e=this;return[4,this.dataProducer()];case 1:e.data=f.sent();this.lastCacheTime=Date.now();return[2,this.data]}})})};return d}());return a});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/logging/loggables/Screenshot",["require","exports"],function(b,a){var c=(function(){function d(){}d.prototype.getName=function(){return"Webpage HTML"};d.prototype.getDescription=function(){return""};d.prototype.getCategory=function(){return"Client traces"};d.prototype.isRunnable=function(){return Promise.resolve(true)};d.prototype.isSensitive=function(){return true};d.prototype.getLog=function(){return __awaiter(this,void 0,void 0,function(){var g,j,h,e,f;return __generator(this,function(i){g=document.getElementsByTagName("html")[0].innerHTML;j=document.createElement("div");j.innerHTML=g;h=j.getElementsByTagName("script");e=h.length;for(f=e-1;f>=0;f--){h[f].remove()}return[2,"<html>"+j.innerHTML+"</html>"]})})};return d}());return c});define("DS/SMAProcWebSupportabilityUtils/logging/loggables/SimulationData",["require","exports"],function(b,a){var c=(function(){function d(e){this.activities=e}d.prototype.getName=function(){return"Simulation data"};d.prototype.getDescription=function(){return"Includes simulation details"};d.prototype.getCategory=function(){return"Process"};d.prototype.isRunnable=function(){return Promise.resolve(true)};d.prototype.isSensitive=function(){return true};d.prototype.getLog=function(){var g=[];for(var f=0,e=this.activities;f<e.length;f++){var h=e[f];if(h.isActivity()){var i=h.getSimulationData();if(i){g.push(i)}}}return Promise.resolve(JSON.stringify(g,null,2))};return d}());return c});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/logging/loggables/StationsInfo",["require","exports","DS/SMAExeJsAPI/CosAPI"],function(c,a,b){var d=(function(){function e(f){this.session=f}e.prototype.getName=function(){return"Stations"};e.prototype.getDescription=function(){return"Includes username, details about stations"};e.prototype.getCategory=function(){return"Server details"};e.prototype.isRunnable=function(){return Promise.resolve(true)};e.prototype.isSensitive=function(){return true};e.prototype.getLog=function(){return __awaiter(this,void 0,void 0,function(){var h,i,g,j,f;return __generator(this,function(k){switch(k.label){case 0:h={};return[4,this.session.get3DSpaceURL()];case 1:i=k.sent();return[4,new Promise(function(m,l){b.initExplicit(i);b.listAllStationsJson({onComplete:function(n){return m(JSON.parse(n))},onFailure:l})})];case 2:g=k.sent();h.regular=g;k.label=3;case 3:k.trys.push([3,5,,6]);return[4,new Promise(function(m,l){b.initExplicit(i);b.getPrivateStationInfo({onComplete:m,onFailure:l})})];case 4:j=k.sent();h["private"]=j;return[3,6];case 5:f=k.sent();h["private"]=[];return[3,6];case 6:return[2,JSON.stringify(h,null,2)]}})})};return e}());return d});define("DS/SMAProcWebSupportabilityUtils/platform/Station",["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:true})});define("DS/SMAProcWebSupportabilityUtils/utility/FixedQueue",["require","exports"],function(c,b){var a=(function(){function d(e){this.queue=[];this.setMaxSize(e)}d.prototype.push=function(f){var e=false;if(this.queue.length===this.maxSize){this.queue.splice(0,1);e=true}this.queue.push(f);return e};d.prototype.pop=function(){if(this.queue.length===0){return null}return this.queue.splice(0,1)[0]};d.prototype.size=function(){return this.queue.length};d.prototype.getItems=function(){return this.queue.slice(0,this.queue.length)};d.prototype.getMaxSize=function(){return this.maxSize};d.prototype.setMaxSize=function(f){if(f<=0){throw new Error("Maximum size must be positive, but given "+f)}this.maxSize=f;var e=[];if(this.queue.length>f){e=this.queue.splice(0,this.queue.length-f)}return e};d.prototype.clear=function(){return this.queue.splice(0,this.queue.length)};return d}());return a});define("DS/SMAProcWebSupportabilityUtils/logging/LogFactory",["require","exports"],function(c,b){var a=(function(){function d(){}d.fromText=function(h,g,e,f){return{getLog:function(){return Promise.resolve(h)},getName:function(){return e},getDescription:function(){return f},getCategory:function(){return g},isSensitive:function(){return false},isRunnable:function(){return Promise.resolve(true)}}};d.fromBlob=function(e,h,f,g){return{getLog:function(){return Promise.resolve(e)},getName:function(){return f},getDescription:function(){return g},getCategory:function(){return h},isSensitive:function(){return false},isRunnable:function(){return Promise.resolve(true)}}};d.fromProducer=function(f,h,e,g){return{getLog:function(){return Promise.resolve(f())},getName:function(){return e},getDescription:function(){return g},getCategory:function(){return h},isSensitive:function(){return false},isRunnable:function(){return Promise.resolve(true)}}};d.fromPromise=function(h,g,e,f){return{getLog:function(){return h},getName:function(){return e},getDescription:function(){return f},getCategory:function(){return g},isSensitive:function(){return false},isRunnable:function(){return Promise.resolve(true)}}};d.fromPromiseProducer=function(f,h,e,g){return{getLog:f,getName:function(){return e},getDescription:function(){return g},getCategory:function(){return h},isSensitive:function(){return false},isRunnable:function(){return Promise.resolve(true)}}};return d}());return a});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/logging/loggables/ResourceTimingLog",["require","exports"],function(b,a){var c=(function(){function d(){}d.prototype.getName=function(){return"HTTP request URLs"};d.prototype.getDescription=function(){return""};d.prototype.getCategory=function(){return"Client traces"};d.prototype.isRunnable=function(){return Promise.resolve(window.performance!=null)};d.prototype.isSensitive=function(){return true};d.prototype.getLog=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(f){e=window.performance.getEntriesByType("resource");return[2,JSON.stringify(e,null,2)]})})};return d}());return c});define("DS/SMAProcWebSupportabilityUtils/logging/Archiver",["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:true})});define("DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticStrategy",["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:true})});define("DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticStatus",["require","exports"],function(c,a){var b=(function(){function d(e,f){this.statusCode=e;this.message=f}d.prototype.getStatusCode=function(){return this.statusCode};d.prototype.getMessage=function(){return this.message};return d}());return b});define("DS/SMAProcWebSupportabilityUtils/logging/loggables/SystemInformation",["require","exports"],function(b,a){var c=(function(){function d(){}d.prototype.getName=function(){return"Operating system"};d.prototype.getDescription=function(){return""};d.prototype.getCategory=function(){return"Client details"};d.prototype.isRunnable=function(){return Promise.resolve(true)};d.prototype.isSensitive=function(){return false};d.prototype.getLog=function(){var e="OS Name:                   "+navigator.oscpu+"\r\n";e+="Processors():              "+navigator.hardwareConcurrency+" Processor(s) Installed.\r\n";e+="System Locale:             "+navigator.language;if(navigator.deviceMemory){e+="Total Physical Memory:     "+(navigator.deviceMemory*1000)+"MB"}return Promise.resolve(e)};return d}());return c});define("DS/SMAProcWebSupportabilityUtils/logging/loggables/NetworkInfo",["require","exports"],function(b,a){var c=(function(){function d(){}d.prototype.getName=function(){return"Network speed"};d.prototype.getDescription=function(){return""};d.prototype.getCategory=function(){return"Client details"};d.prototype.isRunnable=function(){return Promise.resolve(navigator.connection!=null)};d.prototype.isSensitive=function(){return false};d.prototype.getLog=function(){var e="";if(navigator.connection){e+="Latency:    "+navigator.connection["rtt"]+" ms\r\n";e+="Download:   "+navigator.connection["downlink"]+" Mb/s\r\n"}return Promise.resolve(e)};return d}());return c});define("DS/SMAProcWebSupportabilityUtils/logging/loggables/BrowserInfo",["require","exports"],function(b,a){var c=(function(){function d(){}d.prototype.getName=function(){return"Web browser"};d.prototype.getDescription=function(){return""};d.prototype.getCategory=function(){return"Client details"};d.prototype.isRunnable=function(){return Promise.resolve(true)};d.prototype.isSensitive=function(){return false};d.prototype.getLog=function(){var e={userAgent:window.navigator.userAgent,codename:window.navigator.appCodeName,name:window.navigator.appName,version:window.navigator.appVersion,cookiesEnabled:window.navigator.cookieEnabled,platform:window.navigator.platform,product:navigator.product};return Promise.resolve(JSON.stringify(e,null,2))};return d}());return c});define("DS/SMAProcWebSupportabilityUtils/logging/loggables/GeolocationInfo",["require","exports"],function(c,b){var a=(function(){function d(){}d.prototype.getName=function(){return"Geolocation"};d.prototype.getDescription=function(){return""};d.prototype.getCategory=function(){return"Client details"};d.prototype.isRunnable=function(){return Promise.resolve(true)};d.prototype.isSensitive=function(){return true};d.prototype.getLog=function(){return new Promise(function(f,e){navigator.geolocation.getCurrentPosition(function(g){return f(JSON.stringify({latitude:g.coords.latitude,longitude:g.coords.longitude},null,2))},e)})};return d}());return a});define("DS/SMAProcWebSupportabilityUtils/platform/StationType",["require","exports"],function(c,b){var a;(function(d){d[d.REGULAR=0]="REGULAR";d[d.PRIVATE=1]="PRIVATE"})(a||(a={}));return a});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/utility/PromiseUtils",["require","exports"],function(d,c){Object.defineProperty(c,"__esModule",{value:true});function b(e){return new Promise(function(j){var g=[];var h=0;if(e.length===0){j(g)}for(var i=0,f=e;i<f.length;i++){var k=f[i];k().then(function(l){g.push(l);h++;if(h===e.length){j(g)}},function(l){if(l instanceof Error){g.push(l)}else{g.push(new Error("Promise rejected: "+l))}h++;if(h===e.length){j(g)}})}})}c.awaitAsync=b;function a(e){return __awaiter(this,void 0,void 0,function(){var i,j,g,k,h,f;return __generator(this,function(l){switch(l.label){case 0:i=[];j=0,g=e;l.label=1;case 1:if(!(j<g.length)){return[3,6]}k=g[j];l.label=2;case 2:l.trys.push([2,4,,5]);return[4,k()];case 3:h=l.sent();i.push(h);return[3,5];case 4:f=l.sent();if(f instanceof Error){i.push(f)}else{i.push(new Error("Promise rejected: "+f))}return[3,5];case 5:j++;return[3,1];case 6:return[2,i]}})})}c.awaitSync=a});define("DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticStatusCode",["require","exports"],function(b,a){var c;(function(d){d[d.OK=0]="OK";d[d.ERROR=1]="ERROR";d[d.UNKNOWN=2]="UNKNOWN"})(c||(c={}));return c});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/logging/loggables/ConnectionParametersInfo",["require","exports"],function(c,b){var a=(function(){function d(e){this.connection=e}d.prototype.getName=function(){return"3DEXPERIENCE Platform connection"};d.prototype.getDescription=function(){return"Includes username"};d.prototype.getCategory=function(){return"Server details"};d.prototype.isRunnable=function(){return Promise.resolve(true)};d.prototype.isSensitive=function(){return true};d.prototype.getLog=function(){return __awaiter(this,void 0,void 0,function(){var k,m,o,q,r,e,j,s,h,g,n,l,p,f;return __generator(this,function(i){switch(i.label){case 0:k="Unknown";m="Unknown";o="Unknown";i.label=1;case 1:i.trys.push([1,3,,4]);return[4,this.connection.getUser()];case 2:k=i.sent();return[3,4];case 3:q=i.sent();return[3,4];case 4:return[4,this.connection.get3DSpaceURL()];case 5:r=i.sent();e=new URL(r);j=e.host;s=e.protocol.replace(/:$/g,"");h=e.port||(s==="https"?443:80);g=e.pathname.replace(/^\/|\/$/g,"");i.label=6;case 6:i.trys.push([6,8,,9]);return[4,this.connection.getSecurityContext()];case 7:n=i.sent();m="";for(l=0;l<n.length;l++){if(n[l].isSelected){m=n[l].name.replace(/^ctx::/g,"");break}if(n[l].isDefault||l===0){m=n[l].name.replace(/^ctx::/g,"")}}o=m.split(".")[1];return[3,9];case 8:p=i.sent();return[3,9];case 9:f="Name: "+k+"\r\n";f+="Company: "+o+"\r\n";f+="Server Protocol: "+s+"\r\n";f+="Server Name: "+j+"\r\n";f+="Server Port: "+h+"\r\n";f+="Server URI: "+g+"\r\n";f+="Security Context: "+m+"\r\n";f+="Connection Type: Unknown\r\n";return[2,f]}})})};return d}());return a});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/monitoring/SupportabilityMonitors",["require","exports"],function(b,a){var c=(function(){function d(){this.started=false;this.monitors=[]}d.prototype.addMonitor=function(e){this.monitors.push(e)};d.prototype.start=function(){return __awaiter(this,void 0,void 0,function(){var h,g,f,e;return __generator(this,function(i){switch(i.label){case 0:if(!!this.started){return[3,9]}h=0,g=this.monitors;i.label=1;case 1:if(!(h<g.length)){return[3,8]}f=g[h];i.label=2;case 2:i.trys.push([2,6,,7]);return[4,f.isRunnable()];case 3:if(!i.sent()){return[3,5]}return[4,f.start()];case 4:i.sent();i.label=5;case 5:return[3,7];case 6:e=i.sent();console.error(e);return[3,7];case 7:h++;return[3,1];case 8:this.started=true;i.label=9;case 9:return[2]}})})};d.prototype.stop=function(){return __awaiter(this,void 0,void 0,function(){var g,f,e,h;return __generator(this,function(i){switch(i.label){case 0:if(!this.started){return[3,9]}g=0,f=this.monitors;i.label=1;case 1:if(!(g<f.length)){return[3,8]}e=f[g];i.label=2;case 2:i.trys.push([2,6,,7]);return[4,e.isRunnable()];case 3:if(!i.sent()){return[3,5]}return[4,e.stop()];case 4:i.sent();i.label=5;case 5:return[3,7];case 6:h=i.sent();console.error(h);return[3,7];case 7:g++;return[3,1];case 8:this.started=false;i.label=9;case 9:return[2]}})})};return d}());return c});define("DS/SMAProcWebSupportabilityUtils/logging/Loggable",["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:true})});define("DS/SMAProcWebSupportabilityUtils/utility/PathFinder",["require","exports"],function(c,a){var b=(function(){function d(){}d.getPath=function(m,e,g){if(m===undefined||m===null){return[]}if(e===undefined||e===null){return[]}if(g===undefined||g===null){return[]}if(m[e]===undefined||m[e]===null){return[]}if(e===g){return[e]}var i=[e];var j=[];while(i.length>0){var f=i.splice(0,1)[0];j.push(f);if(m[f]===undefined||m[f]===null){return[]}for(var h=0,k=m[f];h<k.length;h++){var l=k[h];if(j.indexOf(l)===-1&&i.indexOf(l)===-1){if(l===g){j.push(g);return j}i.push(l)}}}return[]};return d}());return b});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/monitoring/Monitor",["require","exports"],function(b,a){var c=(function(){function d(){this.started=false}d.prototype.start=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:if(!!this.started){return[3,2]}this.started=true;return[4,this.onStart()];case 1:e.sent();e.label=2;case 2:return[2]}})})};d.prototype.stop=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:if(!this.started){return[3,2]}this.started=false;return[4,this.onStop()];case 1:e.sent();e.label=2;case 2:return[2]}})})};return d}());return c});define("DS/SMAProcWebSupportabilityUtils/utility/StringFormatter",["require","exports"],function(b,a){var c=(function(){function d(){}d.format=function(){var j=[];for(var f=0;f<arguments.length;f++){j[f]=arguments[f]}if(j.length===0){return""}var e="";for(var h=0;h<j.length;h++){var o=j[h];if(typeof o==="string"){var n=o;var g="";while(this.getNextReplacement(n)!=null){if((h+1)<j.length){var k=this.getStringValue(j[h+1]);var m=this.getNextReplacement(n);var l=n.indexOf(m);g+=n.substring(0,l)+k;n=n.substring(l+m.length);h++}else{break}}g+=n;e+=g}else{e+=this.getStringValue(o)}if((h+1)!=j.length){e+=" "}}return e};d.getNextReplacement=function(e){var g=e.indexOf("%s");var j=e.indexOf("%o");var i=e.indexOf("%O");var f=e.length;var h=null;if(g!==-1&&g<f){f=g;h="%s"}if(j!==-1&&j<f){f=j;h="%o"}if(i!==-1&&i<f){f=i;h="%O"}return h};d.getStringValue=function(e){if(e===undefined){return"undefined"}else{if(e===null){return"null"}else{return e.toString()}}};return d}());return c});define("DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticStatus","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticStatusCode"],function(c,e,j,d){Object.defineProperty(e,"__esModule",{value:true});function a(m,l,k){return m?l:k}e.assert=a;function i(m,l,k){return m==null?k:l}e.assertNotNull=i;function h(l,m,k){try{l();return m}catch(n){return k}}e.assertDoesNotThrow=h;function g(k){return new j(d.OK,k||"")}e.ok=g;function f(k){return new j(d.ERROR,k)}e.error=f;function b(k){return new j(d.UNKNOWN,k)}e.unknown=b});define("DS/SMAProcWebSupportabilityUtils/logging/loggables/DataRecorder",["require","exports","DS/SMAProcWebSupportabilityUtils/utility/FixedQueue"],function(c,b,a){var d=(function(){function e(){this.spool=new a(100)}e.prototype.getName=function(){return"Data recorder"};e.prototype.getDescription=function(){return"A data recorder."};e.prototype.getCategory=function(){return"Other"};e.prototype.isRunnable=function(){return Promise.resolve(true)};e.prototype.isSensitive=function(){return false};e.prototype.formatDate=function(g){var k=g.getFullYear();function m(o){if(o.length===1){return"0"+o}return o}var j=m(""+(g.getMonth()+1));var l=m(g.getDate().toString());var i=m(g.getHours().toString());var h=m(g.getMinutes().toString());var n=m(g.getSeconds().toString());var f=g.getMilliseconds();return k+"-"+j+"-"+l+" "+i+":"+h+":"+n+"."+f};e.prototype.getLog=function(){var f=this;return Promise.resolve(this.spool.getItems().map(function(g){return(f.formatDate(g.timestamp)+" | "+f.getRecorderName()+" | "+f.recordToString(g.payload,g.details)).replace(/\n/g,"\n\t")}).join("\r\n"))};e.prototype.getRecords=function(){return this.spool.getItems()};e.prototype.setMaxRecords=function(f){this.spool.setMaxSize(f)};e.prototype.record=function(g,f){this.spool.push({payload:g,details:Object.assign({},f),timestamp:new Date()})};e.prototype.clear=function(){this.spool.clear()};return e}());return d});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/logging/loggables/WebRequestLog",["require","exports","DS/SMAProcWebSupportabilityUtils/platform/WebRequests"],function(b,a,c){var d=(function(){function e(g,f){this.url=g;this.options=f}e.prototype.getName=function(){return this.url};e.prototype.getDescription=function(){return""};e.prototype.getCategory=function(){return"Other"};e.prototype.isRunnable=function(){return Promise.resolve(true)};e.prototype.isSensitive=function(){return false};e.prototype.getLog=function(){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(g){switch(g.label){case 0:return[4,c.fetch(this.url,this.options)];case 1:f=g.sent();if(this.options.type==="json"){return[2,JSON.stringify(f,null,2)]}return[2,f.toString()]}})})};return e}());return d});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/platform/SUPExchangeServiceAPI",["require","exports","DS/SMAProcWebSupportabilityUtils/platform/WebRequests","DS/SMAProcWebSupportabilityUtils/platform/SUPExchangeServiceError"],function(c,a,e,d){var b=(function(){function f(g){this.session=g;this.available=undefined}f.prototype.isAvailable=function(){return __awaiter(this,void 0,void 0,function(){var i,j,g,h;return __generator(this,function(k){switch(k.label){case 0:if(this.available!=undefined){return[2,this.available]}return[4,this.getBaseUrl()];case 1:i=k.sent();k.label=2;case 2:k.trys.push([2,4,,5]);j=this;return[4,e.fetch(i+"/connection/status",{authenticated:true}).then(function(){return true},function(){return false})];case 3:j.available=k.sent();return[2,this.available];case 4:g=k.sent();this.available=false;h=new d("Unable to get check SUP Exchange Service status.");h.originalError=g;h.service="/connection/status";throw h;case 5:return[2]}})})};f.prototype.initializeAccessLogs=function(){return this.initialize("/access/logs/initialize")};f.prototype.activateAccessLogs=function(){return this.activate("/access/logs/activate")};f.prototype.getAccessLogsResult=function(){return this.zip("/access/logs/result")};f.prototype.initializeBusinessLogic=function(){return this.initialize("/business/initialize")};f.prototype.activateBusinessLogic=function(){return this.activate("/business/activate")};f.prototype.deactivateBusinessLogic=function(){return this.deactivate("/business/desactivate")};f.prototype.getBusinessLogicResult=function(){return this.zip("/business/result")};f.prototype.getBusinessLogicList=function(){return this.zip("/business/list")};f.prototype.getMasks=function(){return this.zip("/masks")};f.prototype.getMetadataItems=function(){return this.zip("/metadata/items")};f.prototype.getMXEnv=function(){return this.zip("/mxenv")};f.prototype.activateMxLogs=function(g){return this.activate("/mxlogs/"+g+"/activate")};f.prototype.getMxLogsResult=function(g){return this.zip("/mxlogs/"+g+"/result")};f.prototype.getUserLicenses=function(g){return this.zip("/licenses/"+g)};f.prototype.activateCatalinaLogFile=function(){return this.activate("/catalina/logfile/activate")};f.prototype.getCatalinaResult=function(){return this.zip("/catalina/result")};f.prototype.resetCatalina=function(){return this.deactivate("/catalina/reset")};f.prototype.getApacheTomcatInfo=function(){return this.zip("/tomcat/info")};f.prototype.getEnvironmentVariable=function(g){return __awaiter(this,void 0,void 0,function(){var j,i,k,h;return __generator(this,function(l){switch(l.label){case 0:return[4,this.isAvailable()];case 1:j=l.sent();if(!j){throw new Error("SUPExchangeService web service is not available")}return[4,this.getBaseUrl()];case 2:i=l.sent();l.label=3;case 3:l.trys.push([3,5,,6]);return[4,e.fetch(i+"/variables/"+g,{type:"json"})];case 4:return[2,l.sent()];case 5:k=l.sent();h=new d("Unable to get environment variable: "+g);h.originalError=k;h.service="/variables/"+g;throw h;case 6:return[2]}})})};f.prototype.getLogbackConfigfile=function(){return this.zip("/logback/configfile")};f.prototype.initializeLogbackLogfile=function(){return this.initialize("/logback/logfile/initialize")};f.prototype.activateLogbackLogfile=function(){return this.activate("/logback/logfile/activate")};f.prototype.getLogbackResult=function(){return this.zip("/logback/result")};f.prototype.getServerVersion=function(){return this.zip("/level/server")};f.prototype.getSupportToolVersionXML=function(){return this.zip("/level/jar/xml")};f.prototype.getSupportToolVersionJSON=function(){return this.json("/level/jar/json")};f.prototype.initializeMqlTraces=function(){return this.initialize("/mqltraces/initialize")};f.prototype.activateMqlTraces=function(){return this.activate("/mqltraces/activate")};f.prototype.getMqlTracesResult=function(){return this.zip("/mqltraces/result")};f.prototype.getMqlTracesStatus=function(g){return this.json("/mqltraces/traceinfo/"+g)};f.prototype.deactivateMqlTraces=function(g){return this.deactivate("/mqltraces/"+g+"/deactivate")};f.prototype.getSpecializationExtensionPackages=function(){return this.zip("/datamodel/specialization")};f.prototype.getDeploymentExtensionPackages=function(){return this.zip("/datamodel/deployment")};f.prototype.postToService=function(h,g){return __awaiter(this,void 0,void 0,function(){var m,k,o,i,l,n,j;return __generator(this,function(p){switch(p.label){case 0:return[4,this.isAvailable()];case 1:m=p.sent();if(!m){throw new Error("SUPExchangeService web service is not available")}return[4,this.getBaseUrl()];case 2:k=p.sent();o={};return[4,this.session.getDefaultSecurityContext()];case 3:i=p.sent();o.SecurityContext=i.name;o["Cache-control"]="no-cache";p.label=4;case 4:p.trys.push([4,6,,7]);return[4,e.fetch(k+h,{method:"POST",authenticated:true,headers:o})];case 5:l=p.sent();if(l==null){throw new Error("Invalid response from server.")}return[3,7];case 6:n=p.sent();j=new d(g);j.originalError=n;j.service=h;throw j;case 7:return[2,Promise.resolve()]}})})};f.prototype.activate=function(g){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(h){return[2,this.postToService(g,"Unable to activate "+g)]})})};f.prototype.initialize=function(g){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(h){return[2,this.postToService(g,"Unable to initialize "+g)]})})};f.prototype.deactivate=function(g){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(h){return[2,this.postToService(g,"Unable to deactivate "+g)]})})};f.prototype.zip=function(g){return __awaiter(this,void 0,void 0,function(){var l,j,n,h,k,m,i;return __generator(this,function(o){switch(o.label){case 0:return[4,this.isAvailable()];case 1:l=o.sent();if(!l){throw new Error("SUPExchangeService web service is not available")}return[4,this.getBaseUrl()];case 2:j=o.sent();n={};return[4,this.session.getDefaultSecurityContext()];case 3:h=o.sent();n.SecurityContext=h.name;n.Accept="application/zip, application/octet-stream;charset=UTF-8";n["Cache-control"]="no-cache";o.label=4;case 4:o.trys.push([4,6,,7]);return[4,e.fetch(j+g,{responseType:"arraybuffer",authenticated:true,headers:n})];case 5:k=o.sent();return[2,new Blob([k],{type:"application/zip"})];case 6:m=o.sent();i=new d("Unable to get zip from "+g);i.originalError=m;i.service=g;throw i;case 7:return[2]}})})};f.prototype.json=function(g){return __awaiter(this,void 0,void 0,function(){var l,j,h,k,m,i;return __generator(this,function(n){switch(n.label){case 0:return[4,this.isAvailable()];case 1:l=n.sent();if(!l){throw new Error("SUPExchangeService web service is not available")}return[4,this.getBaseUrl()];case 2:j=n.sent();return[4,this.session.getDefaultSecurityContext()];case 3:h=n.sent();n.label=4;case 4:n.trys.push([4,6,,7]);return[4,e.fetch(j+g,{type:"json",authenticated:true,headers:{SecurityContext:h.name}})];case 5:k=n.sent();return[2,k];case 6:m=n.sent();i=new d("Unable to get JSON from "+g);i.originalError=m;i.service=g;throw i;case 7:return[2]}})})};f.prototype.getBaseUrl=function(){return __awaiter(this,void 0,void 0,function(){var g;return __generator(this,function(h){switch(h.label){case 0:return[4,this.session.get3DSpaceURL()];case 1:g=h.sent();return[2,g+"/resources/support"]}})})};return f}());return b});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/platform/SMAAccessService",["require","exports","DS/SMAProcWebSupportabilityUtils/platform/WebRequests"],function(c,b,d){var a=(function(){function e(f){this.session=f}e.prototype.isAvailable=function(){return __awaiter(this,void 0,void 0,function(){var i,g,h,f;return __generator(this,function(j){switch(j.label){case 0:return[4,this.session.get3DSpaceURL()];case 1:i=j.sent();g=i+"/resources/e6w/service/SMA_Access";j.label=2;case 2:j.trys.push([2,4,,5]);return[4,d.fetch(g,{authenticated:true,type:"json"})];case 3:h=j.sent();return[2,h.success||(h.error&&h.error.indexOf("widget does not exist")===-1)];case 4:f=j.sent();return[2,false];case 5:return[2]}})})};e.prototype.getAccessInfo=function(f){return __awaiter(this,void 0,void 0,function(){var l,g,j,k,h,i,m;return __generator(this,function(n){switch(n.label){case 0:return[4,this.session.get3DSpaceURL()];case 1:l=n.sent();return[4,this.session.getDefaultSecurityContext()];case 2:g=n.sent();j=l+"/resources/e6w/service/SMA_Access?id="+encodeURIComponent(f);n.label=3;case 3:n.trys.push([3,5,,6]);return[4,d.fetch(j,{authenticated:true,type:"json",headers:{SecurityContext:g.name}})];case 4:k=n.sent();if(!k.success){throw new Error("Access check was unsuccessful.")}h=k.datarecords.datagroups[0].dataelements;i={modifyAccess:h.hasModifyAccess.value[0].value.toLowerCase()==="true",deleteAccess:h.hasDeleteAccess.value[0].value.toLowerCase()==="true",disconnectAccess:h.hasFromDisconnectAccess.value[0].value.toLowerCase()==="true",connectAccess:h.hasFromConnectAccess.value[0].value.toLowerCase()==="true",showAccess:h.hasShowAccess.value[0].value.toLowerCase()==="true",lockAccess:h.hasLockAccess.value[0].value.toLowerCase()==="true",readAccess:h.hasReadAccess.value[0].value.toLowerCase()==="true"};return[2,i];case 5:m=n.sent();throw new Error("Unable to get access information.\n"+m);case 6:return[2]}})})};e.prototype.hasAccess=function(f,g){return __awaiter(this,void 0,void 0,function(){var h;return __generator(this,function(i){switch(i.label){case 0:return[4,this.getAccessInfo(f)];case 1:h=i.sent();return[2,h[g+"Access"]]}})})};return e}());return a});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/platform/PrivateStation",["require","exports","DS/SMAExeJsAPI/CosAPI","DS/SMAProcWebSupportabilityUtils/platform/StationType"],function(e,c,d,b){var a=(function(){function f(g,i,h){this.name=g;this.cosid=i;this.osName=h;if(g==null){throw new Error("Station name can't be null")}if(i==null){throw new Error("COS ID can't be null")}}f.prototype.getName=function(){return this.name};f.prototype.getOSName=function(){return this.osName||""};f.prototype.getStationType=function(){return b.PRIVATE};f.prototype.isRunning=function(){return __awaiter(this,void 0,void 0,function(){var j,h,g;return __generator(this,function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,new Promise(function(l,k){d.getPrivateStationInfo({onComplete:l,onFailure:k})})];case 1:j=i.sent();for(h in j){if(j[h].info.cosid===this.cosid){return[2,j[h].info.status==="Running"]}}return[2,Promise.reject("Unable to locate station")];case 2:g=i.sent();return[2,Promise.reject("Unable to contact station: "+g)];case 3:return[2]}})})};f.prototype.getAllowedUsers=function(){return __awaiter(this,void 0,void 0,function(){var j,g,h;return __generator(this,function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,new Promise(function(l,k){d.getPrivateStationInfo({onComplete:l,onFailure:k})})];case 1:j=i.sent();for(g in j){if(j[g].info.cosid===this.cosid){return[2,[j[g].info.user.toString()]]}}return[2,Promise.reject("Unable to locate station")];case 2:h=i.sent();return[2,Promise.reject("Unable to contact station: "+h)];case 3:return[2]}})})};return f}());return a});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/platform/RegularStation",["require","exports","DS/SMAExeJsAPI/CosAPI","DS/SMAProcWebSupportabilityUtils/platform/StationType"],function(d,b,c,a){var e=(function(){function f(g,h){this.name=g;this.osName=h;if(g==null){throw new Error("Station name can't be null")}}f.prototype.getName=function(){return this.name};f.prototype.getOSName=function(){return this.osName||""};f.prototype.getStationType=function(){return a.REGULAR};f.prototype.isRunning=function(){return __awaiter(this,void 0,void 0,function(){var h=this;var g;return __generator(this,function(i){switch(i.label){case 0:return[4,new Promise(function(k,j){c.retrieveStatusFullInfoOnStationJson(h.name,{onComplete:function(l){return k(JSON.parse(l))},onFailure:j})})];case 1:g=i.sent();return[2,g.Station["@status"]==="Running"]}})})};f.prototype.getAllowedUsers=function(){return __awaiter(this,void 0,void 0,function(){var i=this;var g,h;return __generator(this,function(j){switch(j.label){case 0:return[4,new Promise(function(l,k){c.retrieveStatusFullInfoOnStationJson(i.name,{onComplete:function(m){return l(JSON.parse(m))},onFailure:k})})];case 1:g=j.sent();h=g.Station["GeneralInfo"]["@allowedUsers"].toString();if(h.length===0){return[2,[]]}return[2,h.split(",")]}})})};return f}());return e});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/platform/SessionInfo",["require","exports","DS/PlatformAPI/PlatformAPI","DS/SMAProcWebSupportabilityUtils/platform/WebRequests","DS/SMAExeJsAPI/CosAPI","DS/i3DXCompassPlatformServices/i3DXCompassPlatformServices","DS/SMAProcWebSupportabilityUtils/platform/RegularStation","DS/SMAProcWebSupportabilityUtils/platform/PrivateStation","DS/SMAProcWebSupportabilityUtils/utility/CachedData"],function(d,e,h,a,j,c,g,f,b){var i=(function(){function k(l){this.BASE_IDENTIFIER="DS/SMAProcWebSupportabilityUtils/platform/SessionInfo";this.overrides=Object.assign({},l);this.caches={};this.get3DSpaceURL().then(function(m){j.initExplicit(m)},function(){return j.init()})}k.create=function(m){var l=new k(m);return new Promise(function(n){l.get3DSpaceURL().then(function(o){j.initExplicit(o);n(l)},function(){j.init();n(l)})})};k.prototype.get3DSpaceURL=function(){var l=this;if(!this.caches.spaceUrl){this.caches.spaceUrl=new b(function(){var m=[function(){return l.overrides.spaceUrl},function(){return window.ODTServerEnv&&window.ODTServerEnv.url},function(){return window.top&&window.top["myAppsURL"]},function(){if(window.dscef&&window.dscef.getMyAppsURL){return window.dscef.getMyAppsURL().then(function(n){return n.replace(/\/resources\/AppsMngt$/,"")})}return undefined},function(){return j.get3DSpaceUrl()},function(){return h.getApplicationConfiguration("apps.urls.myapps")},function(){return new Promise(function(o,n){return c.getServiceUrl({serviceName:"3DSpace",onComplete:function(p){if(typeof p==="string"){o(p)}else{if(p&&p[0]&&p[0].url){o(p[0].url)}}n(new Error("3DSpace URL was undefined."))},onFailure:n})})}];return l.load(m,"3DSpace URL")})}return this.caches.spaceUrl.getData()};k.prototype.getUser=function(){return __awaiter(this,void 0,void 0,function(){var n=this;var m,l;return __generator(this,function(o){switch(o.label){case 0:m=[function(){return n.overrides.user},function(){return h.getUser().login},function(){return new Promise(function(q,p){n.get3DSpaceURL().then(function(r){j.getUserMatched(r,{onComplete:q,onFailure:p})})})}];return[4,this.load(m,"user")];case 1:l=o.sent();this.overrides.user=l;return[2,l]}})})};k.prototype.getSecurityContext=function(){return __awaiter(this,void 0,void 0,function(){var n,o,m,l;return __generator(this,function(p){switch(p.label){case 0:if(this.overrides.securityContext){return[2,this.overrides.securityContext]}return[4,this.get3DSpaceURL()];case 1:n=p.sent();return[4,this.getTenant()];case 2:o=p.sent();p.label=3;case 3:p.trys.push([3,5,,6]);return[4,a.fetch(n+"/resources/bps/cspaces?tenant="+o,{type:"json"})];case 4:m=p.sent();this.overrides.securityContext=m.cspaces;return[2,m.cspaces];case 5:l=p.sent();return[2,Promise.reject(new Error("Unable to get security context: "+l))];case 6:return[2]}})})};k.prototype.getDefaultSecurityContext=function(){return __awaiter(this,void 0,void 0,function(){var n,l,m;return __generator(this,function(o){switch(o.label){case 0:return[4,this.getSecurityContext()];case 1:n=o.sent();l=undefined;for(m=0;m<n.length;m++){if(n[m].isSelected){l=n[m];break}if(n[m].isDefault||m===0){l=n[m]}}if(l==undefined){throw new Error("Unable to get default security context: no security contexts")}return[2,l]}})})};k.prototype.hasLicense=function(l){return __awaiter(this,void 0,void 0,function(){var m,o,n,p;return __generator(this,function(q){switch(q.label){case 0:if(!this.overrides.licenses){this.overrides.licenses={}}if(this.overrides.licenses[l]!=null){return[2,this.overrides.licenses[l]]}return[4,this.get3DSpaceURL()];case 1:m=q.sent();return[4,this.getTenant()];case 2:o=q.sent();q.label=3;case 3:q.trys.push([3,5,,6]);return[4,a.fetch(m+"/resources/slmservices/license?appNames="+l+"&tenant="+o,{type:"json"})];case 4:n=q.sent();this.overrides.licenses[l]=n[l];if(n[l]){return[2,true]}return[2,false];case 5:p=q.sent();return[2,Promise.reject(new Error("Unable to get license: "+p))];case 6:return[2]}})})};k.prototype.hasLicenses=function(l){return __awaiter(this,void 0,void 0,function(){var q,n,r,m,o,v,u,s,t;return __generator(this,function(p){switch(p.label){case 0:if(!this.overrides.licenses){this.overrides.licenses={}}q={};n=l.slice();for(r=0,m=l;r<m.length;r++){o=m[r];if(this.overrides.licenses[o]!=null){q[o]=this.overrides.licenses[o];n.splice(o.indexOf(o),1)}}if(n.length===0){return[2,q]}return[4,this.get3DSpaceURL()];case 1:v=p.sent();return[4,this.getTenant()];case 2:u=p.sent();p.label=3;case 3:p.trys.push([3,5,,6]);return[4,a.fetch(v+"/resources/slmservices/license?appNames="+n.join(",")+"&tenant="+u,{type:"json"})];case 4:s=p.sent();delete s.csrf;return[2,Object.assign(q,s)];case 5:t=p.sent();return[2,Promise.reject(new Error("Unable to get licenses: "+t))];case 6:return[2]}})})};k.prototype.getTenant=function(){return __awaiter(this,void 0,void 0,function(){var l,m,o,n;return __generator(this,function(p){switch(p.label){case 0:if(this.overrides.tenant){return[2,this.overrides.tenant]}return[4,this.get3DSpaceURL()];case 1:l=p.sent();p.label=2;case 2:p.trys.push([2,4,,5]);return[4,a.fetch(l+"/resources/AppsMngt/environment/list",{type:"json"})];case 3:m=p.sent();o=m.environments[0].id;this.overrides.tenant=o;return[2,o];case 4:n=p.sent();return[2,Promise.reject(new Error("Unable to get tenant: "+n))];case 5:return[2]}})})};k.prototype.getCSRFToken=function(){return __awaiter(this,void 0,void 0,function(){var l,o,m,n;return __generator(this,function(p){switch(p.label){case 0:return[4,this.get3DSpaceURL()];case 1:l=p.sent();return[4,this.getTenant()];case 2:o=p.sent();p.label=3;case 3:p.trys.push([3,5,,6]);return[4,a.fetch(l+"/resources/slmservices/token/CSRF?tenant="+o,{authenticated:true})];case 4:m=p.sent();return[2,m.toString()];case 5:n=p.sent();return[2,Promise.reject(new Error("Unable to get CSRF token: "+n))];case 6:return[2]}})})};k.prototype.getEEDTicket=function(l,m){return __awaiter(this,void 0,void 0,function(){var o,n,p;return __generator(this,function(q){switch(q.label){case 0:if(!l){l="read"}return[4,this.get3DSpaceURL()];case 1:o=q.sent();q.label=2;case 2:q.trys.push([2,4,,5]);return[4,a.fetch(o+"/resources/eepservices/cos/ticket?access="+l+(m?"&id="+m:""),{authenticated:true})];case 3:n=q.sent();return[2,n.toString()];case 4:p=q.sent();return[2,Promise.reject(new Error("Unable to get EED ticket: "+p))];case 5:return[2]}})})};k.prototype.getDefaultCosURL=function(){return __awaiter(this,void 0,void 0,function(){var o=this;var n,l,m;return __generator(this,function(p){switch(p.label){case 0:return[4,this.get3DSpaceURL()];case 1:n=p.sent();l=[function(){return o.overrides.defaultCosUrl},function(){return a.fetch(n+"/resources/eepservices/cos/url",{authenticated:true})}];return[4,this.load(l,"COS URL")];case 2:m=p.sent();this.overrides.defaultCosUrl=m;return[2,m]}})})};k.prototype.isCosServerAlive=function(){return __awaiter(this,void 0,void 0,function(){var m,l,n;return __generator(this,function(o){switch(o.label){case 0:o.trys.push([0,3,,4]);return[4,this.getDefaultCosURL()];case 1:m=o.sent();return[4,a.fetch(m+"/Ping")];case 2:l=o.sent();return[2,l==="OK"];case 3:n=o.sent();console.error(n);return[2,false];case 4:return[2]}})})};k.prototype.getDefaultCosID=function(){return __awaiter(this,void 0,void 0,function(){var o,n,m,l;return __generator(this,function(p){switch(p.label){case 0:if(this.overrides.defaultCosID){return[2,this.overrides.defaultCosID]}return[4,this.get3DSpaceURL()];case 1:o=p.sent();p.label=2;case 2:p.trys.push([2,4,,5]);return[4,a.fetch(o+"/resources/eepservices/cos/configurations",{authenticated:true,type:"json"})];case 3:n=p.sent();for(m in n){if(n[m].isDefault){this.overrides.defaultCosID=n[0].id.toString();return[2,n[0].id.toString()]}}throw new Error("No default COS configuration");case 4:l=p.sent();return[2,Promise.reject(new Error("Unable to get COS URL: "+l))];case 5:return[2]}})})};k.prototype.getStations=function(){return __awaiter(this,void 0,void 0,function(){var n,l,p,q,m,o;return __generator(this,function(r){switch(r.label){case 0:return[4,this.getDefaultCosURL()];case 1:n=r.sent();return[4,new Promise(function(t,s){j.listAllStationsJsonExplicit(n,{onComplete:function(u){return t(JSON.parse(u))},onFailure:s})})];case 2:l=r.sent();return[4,this.getPrivateStations()];case 3:p=r.sent();q=p;if(l&&l.StationList){for(m in l.StationList){if(l.StationList[m]&&l.StationList[m]["@name"]){o=new g(l.StationList[m]["@name"],l.StationList[m]["GeneralInfo"]["@osName"]);q.push(o)}}}return[2,q]}})})};k.prototype.getPrivateStations=function(){return __awaiter(this,void 0,void 0,function(){var o,q,p,m,n,l;return __generator(this,function(r){switch(r.label){case 0:return[4,this.get3DSpaceURL()];case 1:o=r.sent();r.label=2;case 2:r.trys.push([2,4,,5]);return[4,new Promise(function(t,s){j.initExplicit(o);j.getPrivateStationInfo({onComplete:t,onFailure:s})})];case 3:q=r.sent();p=[];for(m in q){if(q[m]&&q[m].info&&q[m].info.name&&q[m].info.cosid){n=new f(q[m].info.name,q[m].info.cosid);p.push(n)}}return[2,p];case 4:l=r.sent();return[2,[]];case 5:return[2]}})})};k.prototype.load=function(l,m){return __awaiter(this,void 0,void 0,function(){var t,r,p,s,n,q,o;return __generator(this,function(u){switch(u.label){case 0:t=[];r=0,p=l;u.label=1;case 1:if(!(r<p.length)){return[3,8]}s=p[r];u.label=2;case 2:u.trys.push([2,6,,7]);n=s();q=void 0;if(!(n instanceof Promise)){return[3,4]}return[4,n];case 3:q=u.sent();return[3,5];case 4:q=n;u.label=5;case 5:if(q==null){throw new Error("Received "+m+", but it was undefined.")}return[2,q];case 6:o=u.sent();t.push(o.message);return[3,7];case 7:r++;return[3,1];case 8:throw new Error("Unable to get "+m+" from "+l.length+" sources. Failed with the following error(s):\r\n"+t.join("\r\n"))}})})};return k}());return i});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/TenantDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils"],function(b,a,d){var c=(function(){function e(f){this.session=f;if(f===null||f===undefined){throw new Error("Session info is undefined.")}}e.prototype.getName=function(){return"3DEXPERIENCE Platform"};e.prototype.getCategory=function(){return"Server"};e.prototype.getStatus=function(){return __awaiter(this,void 0,void 0,function(){var g,f;return __generator(this,function(h){switch(h.label){case 0:h.trys.push([0,2,,3]);return[4,this.session.getTenant()];case 1:g=h.sent();if(g){return[2,[d.ok(g)]]}return[2,[d.error("No platform ID was received")]];case 2:f=h.sent();return[2,[d.error("Unable to get your platform ID.\n"+f)]];case 3:return[2]}})})};return e}());return c});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/StationsAuthorizationDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils"],function(b,a,d){var c=(function(){function e(f){this.session=f;if(f===null||f===undefined){throw new Error("Session info is undefined.")}}e.prototype.getName=function(){return"Station access"};e.prototype.getCategory=function(){return"3DOrchestrate"};e.prototype.getStatus=function(){return __awaiter(this,void 0,void 0,function(){var g,n,j,m,i,h,k,o,f,l;return __generator(this,function(p){switch(p.label){case 0:g=[];p.label=1;case 1:p.trys.push([1,3,,4]);return[4,this.session.getStations()];case 2:g=p.sent();return[3,4];case 3:n=p.sent();return[2,[d.unknown("Unable to get a list of the connected stations.\n"+n)]];case 4:j="";p.label=5;case 5:p.trys.push([5,7,,8]);return[4,this.session.getUser()];case 6:j=p.sent();return[3,8];case 7:m=p.sent();return[2,[d.unknown("Unable to get your username.\n"+m)]];case 8:if(g.length===0){return[2,[d.unknown("There are no connected stations.")]]}i=[];h=0,k=g;p.label=9;case 9:if(!(h<k.length)){return[3,14]}o=k[h];p.label=10;case 10:p.trys.push([10,12,,13]);return[4,o.getAllowedUsers()];case 11:f=p.sent();if(f.length>0&&f.indexOf(j)===-1){i.push(d.error(o.getName()+" not allowed as "+j))}else{i.push(d.ok(o.getName()+" ("+j+")"))}return[3,13];case 12:l=p.sent();i.push(d.unknown("Unable to get the allowed users of <strong>"+o.getName()+"</strong>.\n"+l));return[3,13];case 13:h++;return[3,9];case 14:return[2,i]}})})};return e}());return c});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/logging/loggables/ProcessDetails",["require","exports","DS/SMAProcWebSupportabilityUtils/logging/loggables/WebRequestLog"],function(b,a,d){var c=(function(){function e(f,g){this.session=f;this.processId=g}e.prototype.getName=function(){return"Process"};e.prototype.getDescription=function(){return"Includes simulation details"};e.prototype.getCategory=function(){return"Process"};e.prototype.isRunnable=function(){return Promise.resolve(localStorage.getItem("SIMPRDX_AP_DOWNLOAD_PROCESS")==="true")};e.prototype.isSensitive=function(){return true};e.prototype.getLog=function(){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(g){switch(g.label){case 0:return[4,this.session.get3DSpaceURL()];case 1:f=g.sent();return[2,new d(f+"/resources/e6w/service/SMA_Process?objectId="+this.processId,{type:"json"}).getLog()]}})})};return e}());return c});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/LicenseDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils"],function(c,b,d){var a=(function(){function e(g,f){this.session=g;this.platforms=f;if(g===null||g===undefined){throw new Error("Session info is undefined.")}if(f===null||f===undefined){this.platforms=[]}}e.prototype.getName=function(){return"Licenses"};e.prototype.getCategory=function(){return"Licensing"};e.prototype.getStatus=function(){return __awaiter(this,void 0,void 0,function(){var j,i,g,h,f;return __generator(this,function(k){switch(k.label){case 0:k.trys.push([0,2,,3]);j=[];if(this.platforms.length===0){return[2,[d.ok("No licenses required.")]]}return[4,this.session.hasLicenses(this.platforms)];case 1:i=k.sent();for(g in i){h=i[g]?d.ok(g.replace(/_/g," ")):d.error(g+"is invalid.");j.push(h)}return[2,j];case 2:f=k.sent();return[2,[d.error("Unable to check your licenses.\n"+f)]];case 3:return[2]}})})};return e}());return a});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/SpacesDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils","DS/SMAProcWebSupportabilityUtils/platform/WebRequests"],function(c,b,d,e){var a=(function(){function f(h,g){if(g===void 0){g=false}this.session=h;this.checkConnection=g;if(h===null||h===undefined){throw new Error("Session info is undefined.")}}f.prototype.getName=function(){return"3DSpace URL"};f.prototype.getCategory=function(){return"Server"};f.prototype.getStatus=function(){return __awaiter(this,void 0,void 0,function(){var h,g,i;return __generator(this,function(j){switch(j.label){case 0:j.trys.push([0,6,,7]);return[4,this.session.get3DSpaceURL()];case 1:h=j.sent();try{new URL(h)}catch(k){return[2,[d.error("3DSpace URL is invalid: "+h)]]}if(!this.checkConnection){return[3,5]}j.label=2;case 2:j.trys.push([2,4,,5]);return[4,e.fetch(h+"/resources/v1/application/CSRF",{authenticated:true})];case 3:j.sent();return[3,5];case 4:g=j.sent();return[2,[d.error("3DSpace URL is invalid: "+h)]];case 5:return[2,[d.ok(h)]];case 6:i=j.sent();return[2,[d.error("Unable to get the 3DSpace URL.\n"+i)]];case 7:return[2]}})})};return f}());return a});var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();define("DS/SMAProcWebSupportabilityUtils/logging/loggables/SMAProcWebDscefRecorder",["require","exports","DS/SMAProcWebSupportabilityUtils/logging/loggables/DataRecorder"],function(b,a,e){var c=(function(g){__extends(f,g);function f(){var j=g.call(this)||this;var i=j;function h(l,m){var k=l[m];l[m]=function(){var o=[];for(var n in arguments){o.push(arguments[n])}i.record(o.map(function(p){return'"'+p+'"'}).join(" | "),{type:"sendString"});return k.apply(l,arguments)}}if(window.dscef){h(window.dscef,"sendString")}return j}f.prototype.getName=function(){return"Web-In-Win messages"};f.prototype.getDescription=function(){return"May include simulation and user details"};f.prototype.getCategory=function(){return"Client traces"};f.prototype.isRunnable=function(){return Promise.resolve(window.dscef!==undefined)};f.prototype.isSensitive=function(){return true};f.prototype.recordToString=function(i,h){return h.type+" | "+i};f.prototype.getRecorderName=function(){return"Web-In-Win"};return f}(e));var d={recorder:new c()};return d.recorder});var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/monitoring/monitors/AccessLogsMonitor",["require","exports","DS/SMAProcWebSupportabilityUtils/monitoring/Monitor"],function(b,a,d){var c=(function(e){__extends(f,e);function f(g){var h=e.call(this)||this;h.supportAPI=g;return h}f.prototype.getName=function(){return"Access Logs"};f.prototype.getDescription=function(){return"The access logs from the server."};f.prototype.getCategory=function(){return"SUP Exchange Service"};f.prototype.isRunnable=function(){return this.supportAPI.isAvailable()};f.prototype.isSensitive=function(){return true};f.prototype.onStop=function(){return Promise.resolve()};f.prototype.onStart=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(g){switch(g.label){case 0:return[4,this.supportAPI.initializeAccessLogs()];case 1:g.sent();return[4,this.supportAPI.activateAccessLogs()];case 2:g.sent();return[2]}})})};f.prototype.getLog=function(){return this.supportAPI.getAccessLogsResult()};return f}(d));return c});var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();define("DS/SMAProcWebSupportabilityUtils/logging/loggables/SMAProcWebConsoleRecorder",["require","exports","DS/SMAProcWebSupportabilityUtils/logging/loggables/DataRecorder","DS/SMAProcWebSupportabilityUtils/utility/StringFormatter"],function(b,a,f,c){var d=(function(g){__extends(h,g);function h(){var k=g.call(this)||this;var j=k;function i(n,o,m){var l=n[o];n[o]=function(){j.record(c.format.apply(c,arguments),{type:m});l.apply(console,arguments)}}i(console,"error","ERROR");i(console,"log","INFO");i(console,"warn","WARNING");i(console,"info","INFO");i(console,"debug","DEBUG");return k}h.prototype.getName=function(){return"JavaScript console messages"};h.prototype.getDescription=function(){return"May include simulation and user details"};h.prototype.getCategory=function(){return"Client traces"};h.prototype.isRunnable=function(){return Promise.resolve(true)};h.prototype.isSensitive=function(){return true};h.prototype.recordToString=function(j,i){return i.type+" | "+j};h.prototype.getRecorderName=function(){return"Console"};return h}(f));var e={recorder:new d()};return e.recorder});define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/ParameterDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils","DS/JSCMM/SMAJSCMMUtils"],function(c,b,d,e){var a=(function(){function f(g){this.parameters=g;this.checks=[this.validateParameter.bind(this),this.validateLimits.bind(this),this.validateBounds.bind(this),this.validateTarget.bind(this),]}f.prototype.getName=function(){return"Parameters"};f.prototype.getCategory=function(){return"Process"};f.prototype.getStatus=function(){var l=[];if(this.parameters.length===0){return Promise.resolve([d.ok("No parameters")])}for(var m=0,k=this.parameters;m<k.length;m++){var n=k[m];for(var j=0,h=this.checks;j<h.length;j++){var g=h[j];var i=g(n);if(i!=null){l.push(d.error(i))}}}if(l.length===0){return Promise.resolve([d.ok({title:this.parameters.length+" parameter"+(this.parameters.length===1?"":"s"),messages:this.parameters.map(function(o){return o.getParent().getName()+"."+o.getName()})})])}return Promise.resolve(l)};f.prototype.validateParameter=function(g){if(!e.isValidTitle(g.getName(),"parameter")){return g.getParent().getName()+"."+g.getName()+"'s name contains an invalid character."}if(g.getStructure&&g.getStructure()===e.Structure.Array){if(g.getValues()==null){return g.getParent().getName()+"."+g.getName()+" does not have values."}return this.validateArray(g)}else{if(g.getValue()==null&&g.getDataType()!==e.DataType.PLMObject){return g.getParent().getName()+"."+g.getName()+" does not have a value."}return this.validateScalar(g.getValue(),g.getParent().getName()+"."+g.getName(),g.getDataType())}};f.prototype.validateTarget=function(k){if(k.getDataType()===e.DataType.Real||k.getDataType()===e.DataType.Integer){var i=-1;i=this.getAppDataFloat(k,"Target");if(i==null){return null}var g=null;if(k.getDataType()===e.DataType.Integer){g=this.validateInteger(i,k.getParent().getName()+"."+k.getName()+"'s target")}else{g=this.validateReal(i,k.getParent().getName()+"."+k.getName()+"'s target")}if(g!=null){return g}var j=this.getAppDataFloat(k,"LowerBound");var h=this.getAppDataFloat(k,"UpperBound");if(j!=null&&!this.isNotANumber(j)&&i<j){return k.getParent().getName()+"."+k.getName()+"'s target is less than the lower bound."}if(h!=null&&!this.isNotANumber(h)&&i>h){return k.getParent().getName()+"."+k.getName()+"'s target is greater than the upper bound."}}return null};f.prototype.validateBounds=function(i){if(i.getDataType()===e.DataType.Real||i.getDataType()===e.DataType.Integer){var h=this.getAppDataFloat(i,"LowerBound");if(h!=null&&this.isNotANumber(h)){return i.getParent().getName()+"."+i.getName()+"'s lower bound is not a number."}var g=this.getAppDataFloat(i,"UpperBound");if(g!=null&&this.isNotANumber(g)){return i.getParent().getName()+"."+i.getName()+"'s upper bound is not a number."}if(h!=null&&g!=null&&h>g){return i.getParent().getName()+"."+i.getName()+"'s lower bound is greater than the upper bound."}if(h!=null&&i.getValue()<h){return i.getParent().getName()+"."+i.getName()+" is less than the lower bound."}if(g!=null&&i.getValue()>g){return i.getParent().getName()+"."+i.getName()+" is greater than the upper bound."}}return null};f.prototype.validateLimits=function(h){if(!h.getLimitType||!h.getLimits||h.getLimitType()!==e.LimitType.Choice||!h.getLimits()||h.getLimits().length===0){return null}if(h.getDataType()===e.DataType.Integer||h.getDataType()===e.DataType.Real){var g=h.getLimits().map(function(i){return parseFloat(i)});if(g.indexOf(h.getValue())===-1){return h.getParent().getName()+"."+h.getName()+" is not one of the choices."}}else{if(h.getDataType()===e.DataType.String){if(h.getLimits().indexOf(h.getValue().toString())===-1){return h.getParent().getName()+"."+h.getName()+" is not one of the choices."}}}return null};f.prototype.validateScalar=function(i,g,h){switch(h){case e.DataType.Real:return this.validateReal(i,g);case e.DataType.Integer:return this.validateInteger(i,g);case e.DataType.Boolean:return this.validateBoolean(i,g);case e.DataType.String:return this.validateString(i,g);case e.DataType.Timestamp:return this.validateTimestamp(i,g);case e.DataType.PLMObject:return this.validateObject(i,g)}return null};f.prototype.validateArray=function(i){var m=i.getNumberOfDimensions();var h=i.getDimensions();if(h.length!==m){return i.getParent().getName()+"."+i.getName()+"'s dimensions do not match."}var g=h.map(parseFloat);for(var l=0,r=g;l<r.length;l++){var k=r[l];if(this.isInfinite(k)||this.isNotANumber(k)||!this.isInteger(k)){return i.getParent().getName()+"."+i.getName()+" has an invalid dimension."}}var o=i.getNumberOfValues();if(g.reduce(function(u,t){return u*t},1)!==o){return i.getParent().getName()+"."+i.getName()+"'s dimensions don't match its number of values."}var q=i.getValues();for(var n=0,s=q;n<s.length;n++){var p=s[n];var j=this.validateScalar(p,i.getParent().getName()+"."+i.getName(),i.getDataType());if(j!=null){return j}}return null};f.prototype.validateObject=function(h,g){if(h===null||h===undefined){return null}if(!h.getoid){return g+" is not an object."}return null};f.prototype.validateTimestamp=function(h,g){if(!h.getDate){return g+" is not a date."}return null};f.prototype.validateString=function(h,g){if(typeof h!=="string"){return g+" is not a string."}return null};f.prototype.validateBoolean=function(h,g){if(typeof h!=="boolean"){return g+" is not a boolean."}return null};f.prototype.validateReal=function(h,g){var i=this.validateNumber(h,g);if(i!=null){return i}return null};f.prototype.validateInteger=function(h,g){var i=this.validateNumber(h,g);if(i!=null){return i}if(!this.isInteger(h)){return g+" is not an integer."}return null};f.prototype.validateNumber=function(h,g){if(typeof h!=="number"){return g+" is not a number."}if(this.isNotANumber(h)){return g+" is NaN."}if(this.isInfinite(h)){return g+" is not finite."}return null};f.prototype.isInteger=function(g){return Math.round(g)===g};f.prototype.isNotANumber=function(g){return Number.isNaN?Number.isNaN(g):g!==g};f.prototype.isInfinite=function(g){return Math.abs(g)===Infinity};f.prototype.getAppData=function(k,i){if(!k.getAppDataArray){return null}var l=k.getAppDataArray();if(!l||l.length===0){return null}for(var j=0,g=l;j<g.length;j++){var h=g[j];if(h.appDataKey===i){return h.appDataValue}}return null};f.prototype.getAppDataFloat=function(i,g){var h=this.getAppData(i,g);if(h==null){return null}return parseFloat(h)};return f}());return a});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/CosStatusDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils"],function(c,b,d){var a=(function(){function e(f){this.session=f;if(f===undefined||f===null){throw new Error("Session info was undefined.")}}e.prototype.getName=function(){return"3DOrchestrate server state"};e.prototype.getCategory=function(){return"3DOrchestrate"};e.prototype.getStatus=function(){return __awaiter(this,void 0,void 0,function(){var i,g,h,f;return __generator(this,function(j){switch(j.label){case 0:j.trys.push([0,5,,6]);return[4,this.session.isCosServerAlive()];case 1:i=j.sent();if(!i){return[3,3]}g=Date.now();return[4,this.session.isCosServerAlive()];case 2:j.sent();h=(Date.now()-g);return[2,[d.ok("Running ("+h.toFixed(0)+" ms latency)")]];case 3:return[2,[d.error("3DOrchestrate server is not available.")]];case 4:return[3,6];case 5:f=j.sent();return[2,[d.error("Unable to check the 3DOrchestrate server.\n"+f)]];case 6:return[2]}})})};return e}());return a});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/ActivityDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils","DS/SMAProcWebSupportabilityUtils/utility/PathFinder","DS/JSCMM/SMAJSCMMUtils"],function(c,a,d,b,e){var f=(function(){function g(h){this.activities=h}g.prototype.getName=function(){return"Activities"};g.prototype.getCategory=function(){return"Process"};g.prototype.getStatus=function(){return __awaiter(this,void 0,void 0,function(){var w,F,j,v,B,k,u,y,t,s,o,z,r,q,A,D,m,p,n,x,l,i,o,E,h,C;return __generator(this,function(G){w=[];F=[];j={};v=0;B=undefined;for(k=0,u=this.activities;k<u.length;k++){y=u[k];if(y.isProcess()){B=y}}for(t=0,s=this.activities;t<s.length;t++){o=s[t];if(o.isActivity()){z=o.getName();if(o.getExecutionOptions&&o.getExecutionOptions()&&o.getExecutionOptions().getPropertyValue("Host")){z+=" ("+o.getExecutionOptions().getPropertyValue("Host")+")"}v++;F.push(z);if(o.getIncomingFlowItems().length===0&&B){if(!o.getParent()||(B&&B.getFirstChild().getPhysicalId()!==o.getPhysicalId()&&B.getPhysicalId()===o.getParent().getPhysicalId())){w.push(d.unknown(o.getName()+" is not part of the flow. This and all subsequent items will not be executed."))}}if(o.getChildren().length!==0){if(!o.getFirstChild||!o.getFirstChild()){w.push(d.error(o.getName()+"'s first child is not defined."))}if(!o.getLastChild||!o.getLastChild()){w.push(d.error(o.getName()+"'s last child is not defined."))}}if(o.getIncomingFlowItems().length>1){w.push(d.error(o.getName()+" has more than 1 incoming flow item."))}if(o.getOutgoingFlowItems().length>1){w.push(d.error(o.getName()+" has more than 1 outgoing flow item."))}if(!e.isValidTitle(o.getName())){w.push(d.error(o.getName()+"'s name contains an invalid character."))}}else{if(o.isProcess()){if(!e.isValidTitle(o.getName(),"process")){w.push(d.error(o.getName()+"'s name contains an invalid character."))}}}for(r=0,q=o.getSeqFlows();r<q.length;r++){A=q[r];D=A.getFromFlowItem();m=A.getToFlowItem();if(this.activitiesEqual(m,o)){if(!this.activitiesEqual(D,o.getParent())){w.push(d.error(o.getName()+" has a sequence flow with the wrong parent."))}}else{if(this.activitiesEqual(D,o)){if(!this.activitiesEqual(o,m.getParent())){w.push(d.error(o.getName()+" has a sequence flow with the wrong parent."))}}}}j[o.getId()]=[];for(p=0,n=o.getOutgoingFlowItems();p<n.length;p++){x=n[p];j[o.getId()].push(x.getId())}}for(l=0,i=this.activities;l<i.length;l++){o=i[l];if(o.getChildren&&o.getChildren().length!==0){E=(o.getLastChild&&o.getLastChild())||{getId:function(){return""},getName:function(){return"unknown child"}};h=(o.getFirstChild&&o.getFirstChild())||{getId:function(){return""},getName:function(){return"unknown child"}};C=b.getPath(j,h.getId(),E.getId());if(C.length===0){w.push(d.error("No path from "+h.getName()+" to "+E.getName()))}}}if(w.length===0){return[2,Promise.resolve([d.ok({title:v+" activit"+(v===1?"y":"ies"),messages:F})])]}return[2,Promise.resolve(w)]})})};g.prototype.activitiesEqual=function(i,h){return i.getId()===h.getId()};return g}());return f});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/logging/loggables/SUPExchangeServiceLogFactory",["require","exports","DS/SMAProcWebSupportabilityUtils/platform/SUPExchangeServiceAPI"],function(d,b,c){var a=(function(){function e(f){this.service=new c(f)}e.prototype.create=function(h,f,g){return{getName:function(){return f},getDescription:function(){return g||""},getCategory:function(){return"SUP Exchange Service"},isRunnable:this.service.isAvailable.bind(this.service),isSensitive:function(){return true},getLog:this.service[h].bind(this.service)}};e.prototype.createMqlTracesStatusLog=function(f){var g=this;return{getName:function(){return"MQL traces status ("+f+")"},getDescription:function(){return""},getCategory:function(){return"SUP Exchange Service"},isRunnable:this.service.isAvailable.bind(this.service),isSensitive:function(){return true},getLog:function(){return __awaiter(g,void 0,void 0,function(){var k,j,i,h;return __generator(this,function(l){switch(l.label){case 0:j=(k=Promise).resolve;h=(i=JSON).stringify;return[4,this.service.getMqlTracesStatus(f)];case 1:return[2,j.apply(k,[h.apply(i,[l.sent(),null,2])])]}})})}}};return e}());return a});define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/InternetConnectionDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils"],function(b,a,d){var c=(function(){function e(f){this.hasInternet=f}e.prototype.getName=function(){return"Internet connection"};e.prototype.getCategory=function(){return"Browser"};e.prototype.getStatus=function(){var f=d.assert(this.hasInternet!=null?this.hasInternet:window.navigator.onLine,d.ok("Connected"),d.error("Disconnected from the Internet."));return Promise.resolve([f])};return e}());return c});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/ObjectAccessDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils","DS/SMAProcWebSupportabilityUtils/platform/SMAAccessService","DS/SMAProcWebSupportabilityUtils/utility/PromiseUtils"],function(c,b,f,a,d){var e=(function(){function g(j,i,h){this.ids=i;this.access=h;if(j===null||j===undefined){throw new Error("Session info is undefined.")}this.smaAccess=new a(j)}g.prototype.getName=function(){return"Object "+this.access+" access"};g.prototype.getCategory=function(){return"Access"};g.prototype.getStatus=function(){return __awaiter(this,void 0,void 0,function(){var o=this;var h,k,p,l,i,m,n,j;return __generator(this,function(q){switch(q.label){case 0:if(this.ids.length===0){return[2,[f.ok("No objects")]]}return[4,this.smaAccess.isAvailable()];case 1:h=q.sent();if(!h){return[2,[f.unknown("Unable to check object access rights: SMA_Access is unavailable")]]}k=function(s,r){return new Promise(function(t){o.smaAccess.hasAccess(s,o.access).then(function(u){t({id:s,name:r,access:u})})})};p=this.ids.map(function(r){return function(){return k(r.physicalId,r.name)}});return[4,d.awaitAsync(p)];case 2:l=q.sent();i=[];for(m=0,n=l;m<n.length;m++){j=n[m];if(j instanceof Error){i.push(f.error("Unable to check access on an object ID: "+j))}else{if(!j.access){i.push(f.error("You do not have "+this.access+" access for "+(j.name?"<strong>"+j.name+"</strong> ("+j.id+")":"<strong>"+j.id+"</strong>")+"."))}}}if(i.length===0){return[2,[f.ok({title:this.ids.length+" object"+(this.ids.length===1?"":"s"),messages:this.ids.map(function(r){return r.name?r.name:r.physicalId})})]]}return[2,i]}})})};return g}());return e});var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/monitoring/monitors/MxAuditMonitor",["require","exports","DS/SMAProcWebSupportabilityUtils/monitoring/Monitor"],function(b,a,d){var c=(function(f){__extends(e,f);function e(g){var h=f.call(this)||this;h.supportAPI=g;return h}e.prototype.getName=function(){return"Mx Audit"};e.prototype.getDescription=function(){return"The Mx audit from the server."};e.prototype.getCategory=function(){return"SUP Exchange Service"};e.prototype.isRunnable=function(){return this.supportAPI.isAvailable()};e.prototype.isSensitive=function(){return true};e.prototype.onStop=function(){return Promise.resolve()};e.prototype.onStart=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(g){switch(g.label){case 0:return[4,this.supportAPI.activateMxLogs("mxAudit")];case 1:g.sent();return[2]}})})};e.prototype.getLog=function(){return this.supportAPI.getMxLogsResult("mxAudit")};return e}(d));return c});define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/CookiesDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils"],function(b,a,d){var c=(function(){function e(f){this.isEnabled=f}e.prototype.getName=function(){return"Cookies"};e.prototype.getCategory=function(){return"Browser"};e.prototype.getStatus=function(){var f=d.assert(this.isEnabled!=null?this.isEnabled:window.navigator.cookieEnabled,d.ok("Enabled"),d.error("Disabled"));return Promise.resolve([f])};return e}());return c});var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();define("DS/SMAProcWebSupportabilityUtils/logging/loggables/SMAProcWebErrorRecorder",["require","exports","DS/SMAProcWebSupportabilityUtils/logging/loggables/DataRecorder"],function(c,b,e){var a=(function(g){__extends(f,g);function f(){var h=g.call(this)||this;window.addEventListener("error",function(i){h.record(i.error,{message:i.message,line:i.lineno,column:i.colno})});return h}f.prototype.getName=function(){return"Errors"};f.prototype.getDescription=function(){return"May include simulation and user details"};f.prototype.getCategory=function(){return"Client traces"};f.prototype.isRunnable=function(){return Promise.resolve(true)};f.prototype.isSensitive=function(){return true};f.prototype.recordToString=function(i,h){return i.message+" | "+JSON.stringify(h)+" | "+i.stack};f.prototype.getRecorderName=function(){return"Error"};return f}(e));var d={recorder:new a()};return d.recorder});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/logging/loggables/EnvironmentList",["require","exports","DS/SMAProcWebSupportabilityUtils/logging/loggables/WebRequestLog"],function(c,b,d){var a=(function(){function e(f){this.session=f}e.prototype.getName=function(){return"3DSpace environment list"};e.prototype.getDescription=function(){return""};e.prototype.getCategory=function(){return"Server details"};e.prototype.isRunnable=function(){return Promise.resolve(true)};e.prototype.isSensitive=function(){return true};e.prototype.getLog=function(){return __awaiter(this,void 0,void 0,function(){var g,f;return __generator(this,function(h){switch(h.label){case 0:return[4,this.session.get3DSpaceURL()];case 1:g=h.sent();f=new d(g+"/resources/AppsMngt/environment/list",{type:"json",authenticated:true});return[2,f.getLog()]}})})};return e}());return a});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/logging/loggables/ObjectAccessLog",["require","exports","DS/SMAProcWebSupportabilityUtils/platform/SMAAccessService"],function(c,b,a){var d=(function(){function e(g,f){this.ids=f;this.accessService=new a(g)}e.prototype.getName=function(){return"Object access"};e.prototype.getDescription=function(){return""};e.prototype.getCategory=function(){return"Process"};e.prototype.isRunnable=function(){return this.accessService.isAvailable()};e.prototype.isSensitive=function(){return true};e.prototype.getLog=function(){return __awaiter(this,void 0,void 0,function(){var i,j,h,l,g,k,f;return __generator(this,function(m){switch(m.label){case 0:i=[];j=0,h=this.ids;m.label=1;case 1:if(!(j<h.length)){return[3,6]}l=h[j];m.label=2;case 2:m.trys.push([2,4,,5]);return[4,this.accessService.getAccessInfo(l.physicalId)];case 3:g=m.sent();k=l.name?l.name+" ("+l.physicalId+")":l.physicalId;k+="\r\n";k+=JSON.stringify(g,null,2);i.push(k);return[3,5];case 4:f=m.sent();console.error(f);return[3,5];case 5:j++;return[3,1];case 6:return[2,i.join("\r\n\r\n")]}})})};return e}());return d});var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();define("DS/SMAProcWebSupportabilityUtils/logging/loggables/SMAProcWebHttpRecorder",["require","exports","DS/SMAProcWebSupportabilityUtils/logging/loggables/DataRecorder"],function(b,a,d){var e=(function(f){__extends(g,f);function g(i){var m=f.call(this)||this;m.requests=[];m.options=Object.assign({responseBody:false,responseHeaders:false,requestHeaders:false},i);var k=m;var j=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(o,n){k.requests.push({request:this,sentTime:-1,method:o});j.apply(this,arguments)};var l=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(n){var q=this;var o=k.requests.filter(function(r){return r.request===q});if(o.length!==0){var p=o[0];p.sentTime=Date.now();p.request.addEventListener("load",k.loadListener.bind(k,"LOAD"));p.request.addEventListener("error",k.loadListener.bind(k,"ERROR"))}l.apply(this,arguments)};var h=window.fetch;if(h){window.fetch=function(p,q){var n=h(p,q);var r=(q&&q.method)||"GET";var o=Date.now();return n.then(function(s){var u=[];s.headers.forEach(function(w,v){return u.push(v+"="+w)});var t=s.clone();t.text().then(function(v){var w={type:"FETCH",url:s.url,status:s.status,responseBody:k.options.responseBody?v:undefined,responseHeaders:k.options.responseHeaders?u.join("\r\n"):undefined,loadDuration:Date.now()-o,startTime:o,endTime:Date.now(),method:r};k.record(w)},function(){var v={type:"FETCH ERROR",url:s.url,status:s.status,responseBody:undefined,responseHeaders:k.options.responseHeaders?u.join("\r\n"):undefined,loadDuration:Date.now()-o,startTime:o,endTime:Date.now(),method:r};k.record(v)});return s})}}return m}g.prototype.getName=function(){return"HTTP requests and responses"};g.prototype.getDescription=function(){return"May include simulation and user details"};g.prototype.getCategory=function(){return"Client traces"};g.prototype.isRunnable=function(){return Promise.resolve(true)};g.prototype.isSensitive=function(){return true};g.prototype.recordToString=function(i,h){return i.type+" | "+i.method+" | "+i.status+" | "+i.url+" | "+i.startTime+"-"+i.endTime+" ("+i.loadDuration+" ms)\r\n"+JSON.stringify({responseHeaders:i.responseHeaders,responseBody:i.responseBody},null,2)};g.prototype.getRecorderName=function(){return"HTTP Request"};g.prototype.loadListener=function(j,l){try{var o=l.target;var i=this.requests.filter(function(p){return p.request===o});if(i.length!==0){var k=i[0];var m={type:j,url:o.responseURL,status:o.status,responseBody:this.options.responseBody?o.response.toString():undefined,responseHeaders:(this.options.responseHeaders&&o.getAllResponseHeaders)?o.getAllResponseHeaders():undefined,loadDuration:Date.now()-k.sentTime,startTime:k.sentTime,endTime:Date.now(),method:k.method};this.record(m);var h=this.requests.indexOf(k);this.requests.splice(h,1)}o.removeEventListener("load",this.loadListener.bind(this,j));o.removeEventListener("error",this.loadListener.bind(this,j))}catch(n){console.error(n)}};return g}(d));var c={recorder:new e({requestHeaders:true,responseBody:true,responseHeaders:true})};return c.recorder});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/StationsStatusDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils"],function(b,a,c){var d=(function(){function e(f,g){this.session=f;this.stations=g;if(f===null||f===undefined){throw new Error("Session info is undefined.")}}e.prototype.getName=function(){return"Running stations"};e.prototype.getCategory=function(){return"3DOrchestrate"};e.prototype.getStatus=function(){return __awaiter(this,void 0,void 0,function(){var l,f,i,j,k,g,h;return __generator(this,function(m){switch(m.label){case 0:l=[];m.label=1;case 1:m.trys.push([1,3,,4]);return[4,this.session.getStations()];case 2:l=m.sent();return[3,4];case 3:f=m.sent();return[2,[c.unknown("Unable to get a list of the connected stations.\n"+f)]];case 4:i=[];if(l.length===0){return[2,[c.unknown("There are no connected stations.")]]}j=0,k=l;m.label=5;case 5:if(!(j<k.length)){return[3,8]}g=k[j];return[4,g.isRunning()];case 6:h=m.sent();if(!h){i.push(c.error(g.getName()+" ("+g.getOSName()+") is not running"))}else{i.push(c.ok(g.getName()+" ("+g.getOSName()+")"))}m.label=7;case 7:j++;return[3,5];case 8:return[2,i]}})})};return e}());return d});define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/ExpressionDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils","DS/SMAProcWebCMMCalculator/Parser/SMAProcWebCMMEval"],function(c,a,e,b){var d=(function(){function f(j,h){this.expressions=j;this.parameters=h;if(j===null||j===undefined){this.expressions=[]}if(h===null||h===undefined){this.parameters=[]}for(var g=0;g<this.expressions.length;g++){if(!this.expressions[g]||this.expressions[g].expression===null||this.expressions[g].expression===undefined||!this.expressions[g].parent){throw new Error("An expression was undefined.")}}}f.prototype.getName=function(){return"Expressions"};f.prototype.getCategory=function(){return"Process"};f.prototype.getStatus=function(){var h=[];if(this.expressions.length===0){return Promise.resolve([e.ok("No expressions")])}for(var i=0,g=this.expressions;i<g.length;i++){var k=g[i];if(!k.expression){continue}try{b.evaluate(k.expression,this.parameters,k.parent,{})}catch(j){h.push(e.error("Invalid expression in "+k.parent.getName()+": "+j.message))}}if(h.length===0){return Promise.resolve([e.ok({title:this.expressions.length+" expression"+(this.expressions.length===1?"":"s"),messages:this.expressions.map(function(l){return"Expression in "+l.parent.getName()})})])}return Promise.resolve(h)};return f}());return d});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/logging/SupportabilityLogs",["require","exports","DS/SMAProcWebSupportabilityUtils/logging/LogFactory"],function(c,b,a){var d=(function(){function e(f){this.zip=f;this.directories={Environment:{Client:{Hardware:{},Software:{DassaultSystemes:{},Others:{}},Settings:{}},Server:{Settings:{ModelCustomization:{}},Software:{DassaultSystemes:{},Others:{}}}},Scenario:{Description:{},Traces:{Client:{},ClientServerExchanges:{},Licenses:{},Server:{}}},User:{}};this.logs=[];this.blacklistedLogs=[];for(var g in this.directories){this.addDirectoryToZip(g,this.directories[g])}this.directories.dir=this.zip.getRootDirectory();this.directories=Object.freeze(this.directories);this.shouldCancel=false;this.isDownloading=false}e.prototype.addDirectoryToZip=function(g,i,h){var f=this.zip.addDirectory(g,h);for(var j in i){this.addDirectoryToZip(j,i[j],f)}i.dir=f};e.prototype.environment=function(){return this.directories.Environment};e.prototype.scenario=function(){return this.directories.Scenario};e.prototype.user=function(){return this.directories.User};e.prototype.getLoggables=function(){return this.logs.map(function(f){return f.loggable})};e.prototype.addFile=function(f,h,g){var i=this;if(typeof h==="string"){this.logs.push({loggable:a.fromText(h,"Other","Unknown"),addMethod:function(j){return i.zip.addFile(f,j,g.dir)}})}else{if(h instanceof Blob){this.logs.push({loggable:a.fromBlob(h,"Other","Unknown"),addMethod:function(j){return i.zip.addFile(f,j,g.dir)}})}else{this.logs.push({loggable:h,addMethod:function(j){return i.zip.addFile(f,j,g.dir)}})}}};e.prototype.addArchiveContents=function(g,h,f){var i=this;if(g instanceof Blob){this.logs.push({loggable:a.fromBlob(g,"Other","Unknown"),addMethod:function(j){return i.zip.extractArchiveContents(j,h.dir,f)}})}else{this.logs.push({loggable:g,addMethod:function(j){return i.zip.extractArchiveContents(j,h.dir,f)}})}};e.prototype.setShouldDownload=function(g,h){if(h&&this.isBlacklisted(g)){var f=this.blacklistedLogs.indexOf(g);this.blacklistedLogs.splice(f,1)}else{if(!h&&!this.isBlacklisted(g)){this.blacklistedLogs.push(g)}}};e.prototype.isBlacklisted=function(f){return this.blacklistedLogs.indexOf(f)!==-1};e.prototype.toBlob=function(f){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(g){switch(g.label){case 0:return[4,this.loadAllFiles(f)];case 1:g.sent();return[2,this.zip.toBlob()]}})})};e.prototype.cancelDownload=function(){if(this.isDownloading){this.shouldCancel=true}};e.prototype.download=function(h){var i=this;var g=new Date();var f=(g.getMonth()+1)+"-"+g.getDate()+"-"+g.getFullYear()+"-"+g.getHours()+"h-"+g.getMinutes()+"m-"+g.getSeconds()+"s";return this.loadAllFiles(h).then(function(){if(i.shouldCancel){i.shouldCancel=false;return Promise.resolve()}return i.zip.download("SupportabilityLogs_"+f+".zip")})};e.prototype.loadAllFiles=function(f){return __awaiter(this,void 0,void 0,function(){var k,n,j,m,l,h,g;return __generator(this,function(i){switch(i.label){case 0:k=0;this.isDownloading=true;n=0,j=this.logs;i.label=1;case 1:if(!(n<j.length)){return[3,9]}m=j[n];if(this.shouldCancel){this.isDownloading=false;return[2]}i.label=2;case 2:i.trys.push([2,6,,7]);if(this.isBlacklisted(m.loggable)){k++;return[3,8]}return[4,m.loggable.isRunnable()];case 3:l=i.sent();if(!l){return[3,5]}return[4,m.loggable.getLog()];case 4:h=i.sent();if(h!=null){m.addMethod(h)}i.label=5;case 5:k++;return[3,7];case 6:g=i.sent();console.error("Could not generate log file.",g.message);k++;return[3,7];case 7:if(f){f(k/this.logs.length*100)}i.label=8;case 8:n++;return[3,1];case 9:this.isDownloading=false;return[2]}})})};return e}());return d});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/logging/loggables/CosEventsLog",["require","exports","DS/SMAProcWebSupportabilityUtils/platform/WebRequests"],function(c,b,d){var a=(function(){function e(f,g){this.session=f;this.afterMillis=g}e.prototype.getName=function(){return"COS events"};e.prototype.getDescription=function(){return""};e.prototype.getCategory=function(){return"Server traces"};e.prototype.isRunnable=function(){return Promise.resolve(true)};e.prototype.isSensitive=function(){return true};e.prototype.getLog=function(){return __awaiter(this,void 0,void 0,function(){var f,h,g;return __generator(this,function(i){switch(i.label){case 0:return[4,this.session.getDefaultCosURL()];case 1:f=i.sent();return[4,this.session.getEEDTicket()];case 2:h=i.sent();return[4,d.fetch(f+"/admin/eventLog"+(this.afterMillis?"?afterMillis="+this.afterMillis:""),{type:"json",headers:{EEDTicket:h}})];case 3:g=i.sent();return[2,JSON.stringify(g.log.record,null,4)]}})})};return e}());return a});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticRunner",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils","DS/SMAProcWebSupportabilityUtils/utility/PromiseUtils"],function(b,a,d,c){var e=(function(){function f(){this.diagnostics=[]}f.prototype.addDiagnostic=function(g){this.diagnostics.push(g)};f.prototype.getDiagnostics=function(){return this.diagnostics};f.prototype.runDiagnostics=function(g){return __awaiter(this,void 0,void 0,function(){var m=this;var j,l,k,i,h;return __generator(this,function(n){switch(n.label){case 0:j=new Map();return[4,c.awaitAsync(this.diagnostics.map(function(o){return function(){return new Promise(function(p){return __awaiter(m,void 0,void 0,function(){var r,q,r;return __generator(this,function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,o.getStatus()];case 1:r=s.sent();if(g){g(o,r)}p({test:o,status:r});return[3,3];case 2:q=s.sent();r=[d.error("Test failed due to exception: "+q)];if(g){g(o,r)}p({test:o,status:r});return[3,3];case 3:return[2]}})})})}}))];case 1:l=n.sent();for(k=0,i=l;k<i.length;k++){h=i[k];if(!(h instanceof Error)){j.set(h.test,h.status)}}return[2,j]}})})};return f}());return e});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/SecurityContextDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils"],function(c,a,d){var b=(function(){function e(f){this.session=f;if(f===null||f===undefined){throw new Error("Session info is undefined.")}}e.prototype.getName=function(){return"Credentials"};e.prototype.getCategory=function(){return"Access"};e.prototype.getStatus=function(){return __awaiter(this,void 0,void 0,function(){var g,f;return __generator(this,function(h){switch(h.label){case 0:h.trys.push([0,2,,3]);return[4,this.session.getSecurityContext()];case 1:g=h.sent();if(g&&g.length>0){return[2,g.map(function(i){return d.ok(i.displayName+(i.isDefault?" (DEFAULT)":"")+(i.isSelected?" (SELECTED)":""))})]}return[2,[d.error("No security contexts were received.")]];case 2:f=h.sent();return[2,[d.error("Unable to get your security context(s).\n"+f)]];case 3:return[2]}})})};return e}());return b});var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/monitoring/monitors/MxTraceMonitor",["require","exports","DS/SMAProcWebSupportabilityUtils/monitoring/Monitor"],function(b,a,d){var c=(function(f){__extends(e,f);function e(g){var h=f.call(this)||this;h.supportAPI=g;return h}e.prototype.getName=function(){return"Mx Trace"};e.prototype.getDescription=function(){return"The Mx trace from the server."};e.prototype.getCategory=function(){return"SUP Exchange Service"};e.prototype.isRunnable=function(){return this.supportAPI.isAvailable()};e.prototype.isSensitive=function(){return true};e.prototype.onStop=function(){return Promise.resolve()};e.prototype.onStart=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(g){switch(g.label){case 0:return[4,this.supportAPI.activateMxLogs("mxtrace")];case 1:g.sent();return[2]}})})};e.prototype.getLog=function(){return this.supportAPI.getMxLogsResult("mxtrace")};return e}(d));return c});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/AdapterDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticStatusCode","DS/SMAProcWebCMMUtils/SMAJSCMMAuthoringUtils"],function(c,a,e,d,b){var f=(function(){function g(h){this.activities=h}g.prototype.getName=function(){return"Adapters"};g.prototype.getCategory=function(){return"Process"};g.prototype.getStatus=function(){return __awaiter(this,void 0,void 0,function(){var j,p,o,q,h,k,m,i,l,n;return __generator(this,function(r){switch(r.label){case 0:j=[];p={};o=0;q=0;h=function(t){var s;return __generator(this,function(u){switch(u.label){case 0:if(!(t.isStep&&t.isStep())){return[3,2]}o++;p[t.getExtensionName()]=false;return[4,new Promise(function(v){b.getExtensionDescriptor(t.getExtensionName(),{onSuccess:function(w){var x=w.getHandler&&w.getHandler();if(x){window.require([x],function(y){p[t.getExtensionName()]=true;y.validate(t.getExtensionConfig(),t.getParent().getDataContainer()).then(function(){v(e.ok())},function(z){v(e.error(t.getName()+": "+z))})})}else{v(e.ok())}},onFailure:function(){v(e.error("Could not load extension descriptor for "+t.getName()))}})})];case 1:s=u.sent();if(s.getStatusCode()!==d.OK){j.push(s)}u.label=2;case 2:return[2]}})};k=0,m=this.activities;r.label=1;case 1:if(!(k<m.length)){return[3,4]}i=m[k];return[5,h(i)];case 2:r.sent();r.label=3;case 3:k++;return[3,1];case 4:l=[];for(n in p){if(p[n]){l.push(n+" - validated")}else{l.push(n)}}if(j.length===0){j.push(e.ok({title:o+" adapter"+(o===1?"":"s")+", "+q+" validated",messages:l}))}return[2,Promise.resolve(j)]}})})};return g}());return f});var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();define("DS/SMAProcWebSupportabilityUtils/monitoring/monitors/MouseClickMonitor",["require","exports","DS/SMAProcWebSupportabilityUtils/monitoring/Monitor"],function(c,b,d){var a=(function(f){__extends(e,f);function e(){var g=f.call(this)||this;g.log=[];return g}e.prototype.getName=function(){return"Mouse clicks"};e.prototype.getDescription=function(){return"A log of your mouse clicks on the webpage."};e.prototype.getCategory=function(){return"Client traces"};e.prototype.isRunnable=function(){return Promise.resolve(true)};e.prototype.isSensitive=function(){return true};e.prototype.onStart=function(){window.addEventListener("click",this.clickListener.bind(this));return Promise.resolve()};e.prototype.onStop=function(){window.removeEventListener("click",this.clickListener.bind(this));return Promise.resolve()};e.prototype.getLog=function(){var g=this.log.join("\r\n");return Promise.resolve(g)};e.prototype.clickListener=function(p){try{var o=p.target;var h=[];while(o!=null){var r=o.tagName.toLowerCase();var l=o.classList;var j=o.id;var q="";for(var m=0;l&&m<l.length;m++){q+="."+l[m]}var g=j?"#"+j:"";var k=r+g+q;h.push(k);o=o.parentElement}h.reverse();this.log.push("["+Date.now()+"] CLICK BTN "+p.button+": "+h.join(" > "))}catch(n){this.log.push("["+Date.now()+"] CLICK BTN "+p.button+": "+p.target)}};return e}(d));return a});var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();define("DS/SMAProcWebSupportabilityUtils/monitoring/monitors/CatalinaMonitor",["require","exports","DS/SMAProcWebSupportabilityUtils/monitoring/Monitor"],function(c,a,d){var b=(function(f){__extends(e,f);function e(g){var h=f.call(this)||this;h.supportAPI=g;return h}e.prototype.getName=function(){return"Catalina Logs"};e.prototype.getDescription=function(){return"The catalina.out log from the server."};e.prototype.getCategory=function(){return"SUP Exchange Service"};e.prototype.isRunnable=function(){return this.supportAPI.isAvailable()};e.prototype.isSensitive=function(){return true};e.prototype.onStop=function(){return this.supportAPI.resetCatalina()};e.prototype.onStart=function(){return this.supportAPI.activateCatalinaLogFile()};e.prototype.getLog=function(){return this.supportAPI.getCatalinaResult()};return e}(d));return b});var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/monitoring/monitors/BusinessLogicsMonitor",["require","exports","DS/SMAProcWebSupportabilityUtils/monitoring/Monitor"],function(b,a,d){var c=(function(f){__extends(e,f);function e(g){var h=f.call(this)||this;h.supportAPI=g;h.initialized=false;return h}e.prototype.getName=function(){return"Business Logics"};e.prototype.getDescription=function(){return"The business logics from the server."};e.prototype.getCategory=function(){return"SUP Exchange Service"};e.prototype.isRunnable=function(){return this.supportAPI.isAvailable()};e.prototype.isSensitive=function(){return true};e.prototype.onStop=function(){this.initialized=false;return this.supportAPI.deactivateBusinessLogic()};e.prototype.onStart=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(g){switch(g.label){case 0:this.initialized=true;return[4,this.supportAPI.initializeBusinessLogic()];case 1:g.sent();return[4,this.supportAPI.activateBusinessLogic()];case 2:g.sent();return[2]}})})};e.prototype.getLog=function(){if(!this.initialized){throw new Error("BusinessLogicsMonitor must be started before getting the log")}return this.supportAPI.getBusinessLogicResult()};return e}(d));return c});define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/DataflowDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils"],function(c,b,d){var a=(function(){function e(g,f){this.activities=g;this.parameters=f}e.prototype.getName=function(){return"Parameter mapping"};e.prototype.getCategory=function(){return"Process"};e.prototype.getStatus=function(){var k=[];var o=0;var r=[];var i=this.parameters.map(function(u){return u.getParent().getName()+"."+u.getName()});for(var l=0,s=this.activities;l<s.length;l++){var j=s[l];var t=(j.getDataFlows&&j.getDataFlows())||[];for(var q=0,n=t;q<n.length;q++){var g=n[q];o++;var m=g.getFromParameter();var f=g.getToParameter();var h=m.getParent().getName()+"."+m.getName();var p=f.getParent().getName()+"."+f.getName();r.push(h+" &rarr; "+p);if(i.indexOf(h)===-1){k.push(d.error("Parameter '"+m+"' is mapped (from) in a data flow, but does not exist."))}if(i.indexOf(p)===-1){k.push(d.error("Parameter '"+f+"' is mapped (to) in a data flow, but does not exist."))}}}if(k.length===0){if(o===0){k.push(d.ok("No mapped parameters"))}else{k.push(d.ok({title:o+" mapped parameter"+(o===1?"":"s"),messages:r}))}}return Promise.resolve(k)};return e}());return a});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/logging/loggables/JobLog",["require","exports","DS/SMAProcWebSupportabilityUtils/platform/WebRequests"],function(b,a,d){var c=(function(){function e(g,f){this.session=g;this.jobId=f}e.prototype.getName=function(){return"Job Log"};e.prototype.getDescription=function(){return"The job log for "+this.jobId+"."};e.prototype.getCategory=function(){return"Job"};e.prototype.isRunnable=function(){return Promise.resolve(true)};e.prototype.isSensitive=function(){return true};e.prototype.getLog=function(){return __awaiter(this,void 0,void 0,function(){var h,i,f,g;return __generator(this,function(j){switch(j.label){case 0:return[4,this.session.get3DSpaceURL()];case 1:h=j.sent();return[4,this.session.getTenant()];case 2:i=j.sent();return[4,this.session.getDefaultSecurityContext()];case 3:f=j.sent();return[4,d.fetch(h+"/resources/slmservices/jobs/"+this.jobId+"/log?SecurityContext="+encodeURIComponent(f.name)+"&tenant="+i,{type:"json",authenticated:true})];case 4:g=j.sent();return[2,JSON.stringify(g,null,2)]}})})};return e}());return c});define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/SupportedBrowserDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticStatus","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticStatusCode"],function(d,b,c,e){var a=(function(){function f(h,g){if(h===void 0){h=["Chrome","Firefox","Internet Explorer","Safari"]}this.supportedBrowsers=h;this.userAgent=g}f.prototype.getName=function(){return"Web browser"};f.prototype.getCategory=function(){return"Browser"};f.prototype.getStatus=function(){var h=e.ERROR;var i=this.userAgent||window.navigator.userAgent;var j;if(i.indexOf("Edge")!==-1){j="Edge"}else{if(i.indexOf("Chrome")!==-1){j="Chrome"}else{if(i.indexOf("Firefox")!==-1){j="Firefox"}else{if(i.indexOf("MSIE")!==-1||i.indexOf(".NET")!==-1){j="Internet Explorer"}else{if(i.indexOf("Safari")!==-1){j="Safari"}else{j=i}}}}}if(this.supportedBrowsers.indexOf(j)!==-1){h=e.OK}var g=h===e.OK?j+" ("+window.navigator.platform+")":j+" ("+window.navigator.platform+") is unsupported";return Promise.resolve([new c(h,g)])};return f}());return a});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/logging/loggables/JobSummaryLog",["require","exports","DS/SMAProcWebSupportabilityUtils/platform/WebRequests"],function(c,a,d){var b=(function(){function e(g,f){this.session=g;this.jobId=f}e.prototype.getName=function(){return"Job Summary"};e.prototype.getDescription=function(){return"The job summary for "+this.jobId+"."};e.prototype.getCategory=function(){return"Job"};e.prototype.isRunnable=function(){return Promise.resolve(true)};e.prototype.isSensitive=function(){return true};e.prototype.getLog=function(){return __awaiter(this,void 0,void 0,function(){var h,i,g,f;return __generator(this,function(j){switch(j.label){case 0:return[4,this.session.get3DSpaceURL()];case 1:h=j.sent();return[4,this.session.getTenant()];case 2:i=j.sent();return[4,this.session.getDefaultSecurityContext()];case 3:g=j.sent();return[4,d.fetch(h+"/resources/slmservices/jobs/"+this.jobId+"/summary?SecurityContext="+encodeURIComponent(g.name)+"&tenant="+i,{type:"json",authenticated:true})];case 4:f=j.sent();return[2,JSON.stringify(f,null,2)]}})})};return e}());return b});var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/monitoring/monitors/LogbackTracesMonitor",["require","exports","DS/SMAProcWebSupportabilityUtils/monitoring/Monitor"],function(b,a,d){var c=(function(e){__extends(f,e);function f(g){var h=e.call(this)||this;h.supportAPI=g;return h}f.prototype.getName=function(){return"Logback Traces"};f.prototype.getDescription=function(){return"The Logback traces from the server."};f.prototype.getCategory=function(){return"SUP Exchange Service"};f.prototype.isRunnable=function(){return this.supportAPI.isAvailable()};f.prototype.isSensitive=function(){return true};f.prototype.onStop=function(){return Promise.resolve()};f.prototype.onStart=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(g){switch(g.label){case 0:return[4,this.supportAPI.initializeLogbackLogfile()];case 1:g.sent();return[4,this.supportAPI.activateLogbackLogfile()];case 2:g.sent();return[2]}})})};f.prototype.getLog=function(){return this.supportAPI.getLogbackResult()};return f}(d));return c});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/logging/loggables/UserLicenses",["require","exports","DS/SMAProcWebSupportabilityUtils/platform/WebRequests"],function(b,a,d){var c=(function(){function e(f){this.session=f}e.prototype.getName=function(){return"Licenses"};e.prototype.getDescription=function(){return""};e.prototype.getCategory=function(){return"Licensing"};e.prototype.isRunnable=function(){return Promise.resolve(true)};e.prototype.isSensitive=function(){return true};e.prototype.getLog=function(){return __awaiter(this,void 0,void 0,function(){var g,f,h;return __generator(this,function(i){switch(i.label){case 0:return[4,this.session.get3DSpaceURL()];case 1:g=i.sent();return[4,d.fetch(g+"/resources/AppsMngt/platform",{type:"json",authenticated:true})];case 2:f=i.sent();h=f.data[0].crossCompanyRoles;return[2,h.join("  \r\n")]}})})};return e}());return c});var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/JobLogDiagnostic",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticUtils","DS/SMAProcWebSupportabilityUtils/platform/WebRequests"],function(b,a,d,e){var c=(function(){function f(h,g){this.session=h;this.jobId=g;if(h===null||h===undefined){throw new Error("Session info is undefined.")}if(g===null||g===undefined||g===""){throw new Error("Job ID is undefined.")}}f.prototype.getName=function(){return"Job"};f.prototype.getCategory=function(){return"Job"};f.prototype.getStatus=function(){return __awaiter(this,void 0,void 0,function(){var i,n,g,h,k,m,l,j;return __generator(this,function(o){switch(o.label){case 0:return[4,this.session.get3DSpaceURL()];case 1:i=o.sent();return[4,this.session.getTenant()];case 2:n=o.sent();return[4,this.session.getDefaultSecurityContext()];case 3:g=o.sent();return[4,e.fetch(i+"/resources/slmservices/jobs/"+this.jobId+"/log?SecurityContext="+encodeURIComponent(g.name)+"&tenant="+n,{type:"json",authenticated:true})];case 4:h=o.sent();k=[];for(m=0,l=h;m<l.length;m++){j=l[m];if(j.severity==="Warning"){k.push(d.unknown(j.Msg))}if(j.severity==="Error"){k.push(d.error(j.Msg))}}if(k.length===0){return[2,[d.ok("There were no errors in the job log")]]}return[2,k]}})})};return f}());return c});var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/monitoring/monitors/ScreenRecorder",["require","exports","DS/SMAProcWebSupportabilityUtils/monitoring/Monitor"],function(c,a,d){var b=(function(f){__extends(e,f);function e(){var g=f!==null&&f.apply(this,arguments)||this;g.chunks=[];g.displayMediaOptions={video:{cursor:"always",logicalSurface:true},audio:false};return g}e.prototype.getName=function(){return"Screen recording"};e.prototype.getDescription=function(){return"A recording of your screen."};e.prototype.getCategory=function(){return"Client traces"};e.prototype.isRunnable=function(){return Promise.resolve(window.MediaRecorder&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)};e.prototype.isSensitive=function(){return true};e.prototype.onStop=function(){if(!this.stream){return Promise.resolve()}var g=this.stream.getTracks();g.forEach(function(h){return h.stop()});this.stream=null;if(this.mediaRecorder&&this.mediaRecorder.state!=="inactive"){this.mediaRecorder.stop();this.mediaRecorder=null}return Promise.resolve()};e.prototype.onStart=function(){return __awaiter(this,void 0,void 0,function(){var i=this;var h,g;return __generator(this,function(j){switch(j.label){case 0:if(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia){return[2]}j.label=1;case 1:j.trys.push([1,3,,4]);h=this;return[4,navigator.mediaDevices.getDisplayMedia(this.displayMediaOptions)];case 2:h.stream=j.sent();this.mediaRecorder=new window.MediaRecorder(this.stream,{mimeType:"video/webm"});this.mediaRecorder.ondataavailable=function(k){i.chunks.push(k.data)};this.mediaRecorder.onstop=function(){stop()};this.chunks=[];this.mediaRecorder.start();return[3,4];case 3:g=j.sent();throw new Error("Unable to start screen recording.\n"+g);case 4:return[2]}})})};e.prototype.getLog=function(){var g=this;if(!this.mediaRecorder){throw new Error("Media recorder was not started")}return new Promise(function(h){g.mediaRecorder.onstop=function(){var i=new Blob(g.chunks,{type:"video/webm"});g.stop();h(i)};g.mediaRecorder.stop()})};return e}(d));return b});define("DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/PremadeDiagnostics",["require","exports","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/CookiesDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/CosStatusDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/InternetConnectionDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/LicenseDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/SecurityContextDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/SpacesDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/StationsAuthorizationDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/StationsStatusDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/SupportedBrowserDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/ObjectAccessDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/JobLogDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/ExpressionDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/ParameterDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/ActivityDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/DataflowDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/TenantDiagnostic","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/AdapterDiagnostic"],function(d,s,m,e,n,c,r,h,a,l,p,q,k,o,f,i,b,j,g){return{CookiesDiagnostic:m,CosStatusDiagnostic:e,InternetConnectionDiagnostic:n,LicenseDiagnostic:c,SecurityContextDiagnostic:r,SpacesDiagnostic:h,StationsAuthorizationDiagnostic:a,StationsStatusDiagnostic:l,SupportedBrowserDiagnostic:p,ObjectAccessDiagnostic:q,JobLogDiagnostic:k,ExpressionDiagnostic:o,ParameterDiagnostic:f,ActivityDiagnostic:i,DataflowDiagnostic:b,TenantDiagnostic:j,AdapterDiagnostic:g}});define("DS/SMAProcWebSupportabilityUtils/logging/loggables/PremadeLoggables",["require","exports","DS/SMAProcWebSupportabilityUtils/logging/loggables/BrowserInfo","DS/SMAProcWebSupportabilityUtils/logging/loggables/ConnectionParametersInfo","DS/SMAProcWebSupportabilityUtils/logging/loggables/CosEventsLog","DS/SMAProcWebSupportabilityUtils/logging/loggables/ResourceTimingLog","DS/SMAProcWebSupportabilityUtils/logging/loggables/JobLog","DS/SMAProcWebSupportabilityUtils/logging/loggables/GeolocationInfo","DS/SMAProcWebSupportabilityUtils/logging/loggables/JobSummaryLog","DS/SMAProcWebSupportabilityUtils/logging/loggables/StationsInfo","DS/SMAProcWebSupportabilityUtils/logging/loggables/WebRequestLog","DS/SMAProcWebSupportabilityUtils/logging/loggables/SystemInformation","DS/SMAProcWebSupportabilityUtils/logging/loggables/EnvironmentList","DS/SMAProcWebSupportabilityUtils/logging/loggables/Screenshot","DS/SMAProcWebSupportabilityUtils/logging/loggables/NetworkInfo","DS/SMAProcWebSupportabilityUtils/logging/loggables/SMAProcWebErrorRecorder","DS/SMAProcWebSupportabilityUtils/logging/loggables/SMAProcWebConsoleRecorder","DS/SMAProcWebSupportabilityUtils/logging/loggables/SMAProcWebHttpRecorder","DS/SMAProcWebSupportabilityUtils/logging/loggables/ObjectAccessLog","DS/SMAProcWebSupportabilityUtils/logging/loggables/UserLicenses","DS/SMAProcWebSupportabilityUtils/logging/loggables/SimulationData","DS/SMAProcWebSupportabilityUtils/logging/loggables/SMAProcWebDscefRecorder","DS/SMAProcWebSupportabilityUtils/logging/loggables/ProcessDetails"],function(j,w,i,t,v,r,p,q,b,g,l,o,k,e,f,d,h,n,u,s,c,a,m){return{BrowserInfo:i,ConnectionParametersInfo:t,CosEventsLog:v,GeolocationInfo:q,JobLog:p,JobSummaryLog:b,ResourceTimingLog:r,StationsInfo:g,WebRequestLog:l,SystemInformation:o,EnvironmentList:k,Screenshot:e,NetworkInfo:f,SMAProcWebErrorRecorder:d,SMAProcWebConsoleRecorder:h,SMAProcWebHttpRecorder:n,SMAProcWebDscefRecorder:a,ObjectAccessLog:u,UserLicenses:s,SimulationData:c,ProcessDetails:m}});var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebSupportabilityUtils/monitoring/monitors/MQLTracesMonitor",["require","exports","DS/SMAProcWebSupportabilityUtils/monitoring/Monitor"],function(c,a,d){var b=(function(f){__extends(e,f);function e(g){var h=f.call(this)||this;h.supportAPI=g;return h}e.prototype.getName=function(){return"MQL Traces"};e.prototype.getDescription=function(){return"The MQL traces from the server."};e.prototype.getCategory=function(){return"SUP Exchange Service"};e.prototype.isRunnable=function(){return this.supportAPI.isAvailable()};e.prototype.isSensitive=function(){return true};e.prototype.onStop=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(g){switch(g.label){case 0:return[4,this.supportAPI.deactivateMqlTraces("fcs")];case 1:g.sent();return[4,this.supportAPI.deactivateMqlTraces("verbose")];case 2:g.sent();return[2]}})})};e.prototype.onStart=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(g){switch(g.label){case 0:return[4,this.supportAPI.initializeMqlTraces()];case 1:g.sent();return[4,this.supportAPI.activateMqlTraces()];case 2:g.sent();return[2]}})})};e.prototype.getLog=function(){return this.supportAPI.getMqlTracesResult()};return e}(d));return b});define("DS/SMAProcWebSupportabilityUtils/monitoring/monitors/PremadeMonitors",["require","exports","DS/SMAProcWebSupportabilityUtils/monitoring/monitors/MouseClickMonitor","DS/SMAProcWebSupportabilityUtils/monitoring/monitors/CatalinaMonitor","DS/SMAProcWebSupportabilityUtils/monitoring/monitors/MQLTracesMonitor","DS/SMAProcWebSupportabilityUtils/monitoring/monitors/LogbackTracesMonitor","DS/SMAProcWebSupportabilityUtils/monitoring/monitors/AccessLogsMonitor","DS/SMAProcWebSupportabilityUtils/monitoring/monitors/MxTraceMonitor","DS/SMAProcWebSupportabilityUtils/monitoring/monitors/MxAuditMonitor","DS/SMAProcWebSupportabilityUtils/monitoring/monitors/BusinessLogicsMonitor","DS/SMAProcWebSupportabilityUtils/monitoring/monitors/ScreenRecorder"],function(b,d,h,e,k,g,f,c,j,i,a){return{MouseClickMonitor:h,CatalinaMonitor:e,MQLTracesMonitor:k,LogbackTracesMonitor:g,AccessLogsMonitor:f,MxTraceMonitor:c,MxAuditMonitor:j,BusinessLogicsMonitor:i,ScreenRecorder:a}});define("DS/SMAProcWebSupportabilityUtils/SupportabilityAPI",["require","exports","DS/SMAProcWebSupportabilityUtils/logging/SupportabilityLogs","DS/SMAProcWebSupportabilityUtils/logging/loggables/PremadeLoggables","DS/SMAProcWebSupportabilityUtils/diagnostics/strategies/PremadeDiagnostics","DS/SMAProcWebSupportabilityUtils/monitoring/monitors/PremadeMonitors","DS/SMAProcWebSupportabilityUtils/diagnostics/DiagnosticRunner","DS/SMAProcWebSupportabilityUtils/platform/SUPExchangeServiceAPI","DS/SMAProcWebSupportabilityUtils/logging/LogFactory","DS/SMAProcWebSupportabilityUtils/monitoring/SupportabilityMonitors","DS/SMAProcWebSupportabilityUtils/logging/loggables/SUPExchangeServiceLogFactory"],function(c,h,j,m,e,g,f,d,n,b,k){Object.defineProperty(h,"__esModule",{value:true});var i=(function(){function o(){}o.createEmptyLogs=function(p){return new j(p)};o.createDefaultLogs=function(q,s,p){var r=this.createEmptyLogs(q);this.addDefaultLogs(r,s,p);return r};o.addClientSystemInfo=function(p){p.addFile("Browser.json",new m.BrowserInfo(),p.environment().Client.Software);p.addFile("SystemInformation.txt",new m.SystemInformation(),p.environment().Client.Software);if(navigator.deviceMemory){p.addFile("PhysicalMemory.txt",n.fromText("Physical Memory: "+window.navigator.deviceMemory+" GB","Client System Information","Physical Memory"),p.environment().Client.Hardware)}};o.addNetworkInfo=function(p){p.addFile("NetworkSpeed.txt",new m.NetworkInfo(),p.scenario().Traces.ClientServerExchanges);p.addFile("PerformanceResourceTiming.json",new m.ResourceTimingLog(),p.scenario().Traces.ClientServerExchanges)};o.addUserInfo=function(p,q){p.addFile("ConnectionParameters.txt",new m.ConnectionParametersInfo(q),p.user());p.addFile("Licenses.txt",new m.UserLicenses(q),p.user())};o.addLocationInfo=function(p){p.addFile("Geolocation.json",new m.GeolocationInfo(),p.environment().Client)};o.addServerTraces=function(q,w,y){q.addFile("cos-events.json",new m.CosEventsLog(w),q.scenario().Traces.Server);var v=new d(w);if(y){var s=new g.CatalinaMonitor(v);var x=new g.MQLTracesMonitor(v);var r=new g.LogbackTracesMonitor(v);var p=new g.MxTraceMonitor(v);var z=new g.MxAuditMonitor(v);var u=new g.AccessLogsMonitor(v);var t=new g.BusinessLogicsMonitor(v);y.addMonitor(s);y.addMonitor(x);y.addMonitor(r);y.addMonitor(p);y.addMonitor(z);y.addMonitor(u);y.addMonitor(t);q.addArchiveContents(s,q.scenario().Traces.Server);q.addArchiveContents(x,q.scenario().Traces.Server);q.addArchiveContents(r,q.scenario().Traces.Server);q.addArchiveContents(p,q.scenario().Traces.Server);q.addArchiveContents(z,q.scenario().Traces.Server);q.addArchiveContents(u,q.scenario().Traces.Server);q.addArchiveContents(t,q.scenario().Traces.Server,"BusinessLogics")}};o.addClientTraces=function(r,s,q){r.addFile("Errors.txt",m.SMAProcWebErrorRecorder,r.scenario().Traces.Client);r.addFile("JavaScriptConsole.txt",m.SMAProcWebConsoleRecorder,r.scenario().Traces.Client);r.addFile("HttpRequests.txt",m.SMAProcWebHttpRecorder,r.scenario().Traces.ClientServerExchanges);r.addFile("WebInWinMessages.txt",m.SMAProcWebDscefRecorder,r.scenario().Traces.Client);if(q){var p=new g.MouseClickMonitor();q.addMonitor(p);r.addFile("MouseClickTargets.txt",p,r.scenario().Description)}};o.addScreenshot=function(q,p){q.addFile("Screenshot.html",new m.Screenshot(),q.scenario().Description);if(p){var r=new g.ScreenRecorder();p.addMonitor(r);q.addFile("video.webm",r,q.scenario().Description)}};o.addJobLogs=function(q,r,p){q.addFile("JobLog-"+p+".json",new m.JobLog(r,p),q.scenario().Traces.Client);q.addFile("JobSummary-"+p+".json",new m.JobSummaryLog(r,p),q.scenario().Traces.Client)};o.addServerInfo=function(p,r){p.addFile("Stations.json",new m.StationsInfo(r),p.environment().Server);p.addFile("EnvironmentList.json",new m.EnvironmentList(r),p.environment().Server);var q=new k(r);p.addArchiveContents(q.create("getApacheTomcatInfo","Apache Tomcat Information"),p.environment().Server.Software.Others);p.addArchiveContents(q.create("getLogbackConfigfile","Logback Configfile"),p.environment().Server.Settings);p.addArchiveContents(q.create("getServerVersion","Server Version"),p.environment().Server.Software.DassaultSystemes);p.addArchiveContents(q.create("getSupportToolVersionXML","Support Tool Version"),p.environment().Server.Software.DassaultSystemes);p.addArchiveContents(q.create("getMXEnv","MX Environment"),p.environment().Server.Settings,"EnvironmentVariables");p.addArchiveContents(q.create("getMasks","Masks"),p.environment().Server.Settings.ModelCustomization,"Masks");p.addArchiveContents(q.create("getBusinessLogicList","Business Logic List"),p.environment().Server.Settings.ModelCustomization,"BusinessLogics");p.addArchiveContents(q.create("getSpecializationExtensionPackages","Specialization Extension Packages"),p.environment().Server.Settings.ModelCustomization,"SpecializationExtensionPackages");p.addArchiveContents(q.create("getDeploymentExtensionPackages","Deployment Extension Packages"),p.environment().Server.Settings.ModelCustomization,"DeploymentExtensionPackages");p.addFile("MQLTracescurrentStatus.txt",q.createMqlTracesStatusLog("current"),p.environment().Server.Settings);p.addFile("MQLTracesinitialStatus.txt",q.createMqlTracesStatusLog("initial"),p.environment().Server.Settings)};o.addDefaultLogs=function(q,r,p){this.addClientSystemInfo(q);this.addUserInfo(q,r);this.addNetworkInfo(q);this.addServerTraces(q,r,p);this.addServerInfo(q,r);this.addClientTraces(q,r,p)};return o}());h.Logs=i;var a=(function(){function o(){}o.createMonitors=function(){return new b()};return o}());h.Monitors=a;var l=(function(){function o(){}o.createEmptyRunner=function(){return new f()};o.createDefaultRunner=function(q){var p=this.createEmptyRunner();this.addDefaultDiagnostics(p,q);return p};o.addClientSystemDiagnostics=function(p){p.addDiagnostic(new e.CookiesDiagnostic());p.addDiagnostic(new e.SupportedBrowserDiagnostic())};o.addNetworkDiagnostics=function(p){p.addDiagnostic(new e.InternetConnectionDiagnostic())};o.addServerDiagnostics=function(p,q){p.addDiagnostic(new e.SpacesDiagnostic(q,true));p.addDiagnostic(new e.CosStatusDiagnostic(q));p.addDiagnostic(new e.StationsStatusDiagnostic(q))};o.addSessionDiagnostics=function(p,q){p.addDiagnostic(new e.SecurityContextDiagnostic(q));p.addDiagnostic(new e.StationsAuthorizationDiagnostic(q));p.addDiagnostic(new e.TenantDiagnostic(q))};o.addDefaultDiagnostics=function(p,q){this.addClientSystemDiagnostics(p);this.addNetworkDiagnostics(p);this.addServerDiagnostics(p,q);this.addSessionDiagnostics(p,q)};return o}());h.Diagnostics=l});
define("DS/DMUExperienceAPI/DMUExperienceImporterAPI",["UWA/Class","DS/DMUBaseUI/DMUInitialization","DS/DMUBaseExperience/EXPImportServices","DS/DMUPlaySlide/DMUSlideServices","DS/DMUPlaySlide/controllers/DMUSlidesController","DS/DMUBaseExperience/DMUContextManager"],function(d,b,a,f,g,e){var c=d.extend({init:function(i){var h=i?i.context:null;this.importModel=function(l){if(l&&l.json&&h){this.removeModel();b.createReviewContext({context:h});f.setSlidePreferences({context:h.getFrameWindow(),preferences:{playMode:true,displayNominal:typeof i.bDisplayNominal==="boolean"?i.bDisplayNominal:true,displayInWork:typeof i.bDisplayInWork==="boolean"?i.bDisplayInWork:true,panelTitle:i.thumbnailListTitle,beforeApplySlideCB:i.beforeApplySlideCB,afterApplySlideCB:i.afterApplySlideCB}});var k=e.getReviewContext({context:h});if(k&&l.json.Model){var j=new a({viewer:h.getViewer(),experience:k,appType:"3dPlay"});j.importDataModel(l.json,function(){j.postImport();k.setReadOnly(true);k.refreshNode();if(k.getCurrentReview()){var n=k.getCurrentReview().getChildren("DMUSlide");var m=g.giveDMUSlidesController({context:h.getFrameWindow()});if(m){if(i.activateSlide&&n.length){var o=n[0];if(!i.bDisplayInWork&&o._bInWork){if(n.length>1){o=n[1]}else{o=null}}if(o){m.setActiveSlide(o)}}else{m.setActiveSlide(null)}m.setVisibleFlag(typeof i.bThumbnailsList==="boolean"?i.bThumbnailsList:true)}}h.getViewer().render();if(l.onModelLoadedCB){l.onModelLoadedCB()}})}}};this.removeModel=function(){if(h){f.removeSlidePreferences({context:h.getFrameWindow()});e.removeSwitchedReviewContext({context:h});e.removeReviewContext({context:h})}}}});return c});define("DS/DMUExperienceAPI/DMUOptionsManager",["DS/DMUBaseExperience/DMUContextManager","DS/DMUBaseUI/DMUInitialization","DS/ApplicationFrame/CommandsManager"],function(d,a,c){var b={setDMUUnit:function(f){if(!f.context||!f.parameter){return}var g=a.createReviewContext(f);if(g){var e=b.getDMUUnit(f);g.getDMUPreferenceRepository().setPreference(f.parameter,f.unit);if(e!==b.getDMUUnit(f)){g.getCurrentReview().refreshNode()}}},getDMUUnit:function(e){if(!e.context||!e.parameter){return undefined}var f=d.getReviewContext(e);if(f){return f.getDMUPreferenceRepository().getPreference(e.parameter)}return undefined},setCommandMode:function(f){if(!f.context||!f.cmdHeader){return}var e=c.getCommand(f.cmdHeader,f.context.getCommandContext());if(e){e.setCommandMode(f.mode)}}};return b});define("DS/DMUExperienceAPI/DMUExperienceAPI",[],function(){});define("DS/DMUExperienceAPI/DMUWebDesignReviewSlideServices",["DS/DMUBaseExperience/DMUContextManager","DS/DMUPlaySlide/DMUSlideServices","DS/DMUPlaySlide/controllers/DMUSlidesController"],function(b,c,d){var a={applySlide:function(i){if(!i||!i.context||!i.uuid){return}var k=b.getReviewContext(i);if(k){var f=k.getCurrentReview();if(f){var e=null;if(i.uuid!=="Nominal"){var j=f.getChildren("DMUSlide");for(var g=0;g<j.length;g++){if(j[g].getAttribute("sUuid")===i.uuid){e=j[g];break}}}var h=d.giveDMUSlidesController({context:i.context.getFrameWindow()});if(h){h.setActiveSlide(e,{duration:i.duration,afterSlideActivationCB:i.onSlideActivated})}else{c.setActiveSlide({context:i.context,slide:e,duration:i.duration,onSlideActivated:i.onSlideActivated})}}}},getSlidesDefinition:function(g){var k=[];if(!g||!g.context){return k}var j;var i=b.getReviewContext(g);if(i){var e=i.getCurrentReview();if(e){var h=e.getChildren("DMUSlide");for(var f=0;f<h.length;f++){j=h[f].getAttribute("sImageURL");k.push({name:h[f].getAttribute("sName"),uuid:h[f].getAttribute("sUuid"),preview:j&&j.src?j.src:null,inWork:h[f].getAttribute("bInWork")})}}}return k}};return a});
define("DS/DELPPWResourceServices/ResourceUtils",["UWA/Core","UWA/Class","UWA/Json","DS/DELPPWLoggerModel/LoggerUtils","DS/WebappsUtils/WebappsUtils","DS/DELPPWWebServices/WebserviceUtils",],function(k,z,d,o,j,x){var A,n,h,a,r=function r(F,H){var I={},G=function G(K){var J=false;if(K.Name===H){I=K;J=true}return J};if(k.is(H,"string")&&(H.length>0)&&k.is(F,"array")){F.some(G)}return I},i=function i(H){var F=H.replace(/\n|\r/g,"").split(";"),G={};F.forEach(function(L){var K,I,J;if(L!==""&&L.indexOf("=")>0){K=L.split("=");I=K[0];J=K[1].replace(/"|.png/g,"");G[I]=J}});return G},l=function l(F){if(!n){n=F}else{k.merge(n,F)}},q=function q(G){var H;function F(K,J){return K.replace(/\{([\w\-]+)\}/g,function(L,M){return k.is(J[M])?J[M]:""})}function I(J){k.i18n(J);if(!k.is(J.get)){Object.defineProperty(J,"get",{value:function(K){return this[K]||K},enumerable:false})}if(!(J.replace)){Object.defineProperty(J,"replace",{value:F,enumerable:false})}return J}H=I(G);l(H)},m=function m(I,H){var F=I.replace(/\n|\r/g,"").split(";"),G={};if(!A){A={}}F.forEach(function(M){var L,J,K;if(M!==""&&M.indexOf("=")>0){L=M.split("=");J=L[0].replace(/(\.Icon\.Normal)$/,"");K=L[1].replace(/"|.png/g,"");G[J]={IconName:K,ModuleName:H}}});A=k.merge(A,G)},e=function e(G,F){var H;G=k.is(G,"string")?d.decode(G):G;if(!A){A={}}if(!k.is(F)){A=k.merge(A,G)}else{for(H in G){if(G.hasOwnProperty(H)){A[H]=G[H];if(F){A[H].ModuleName=F}}}}},g=function g(J,I){var H,G,F;H=r(h,J);F=k.is(I,"string")&&I.length>0?I:H.MKSUnit;G=r(H.Units,F);return G};var w=z.singleton({name:"ResourceUtils",uninitializedCalls:"throw",init:function y(F){F=F||{};this.options=F;if(!k.is(this.options.iconCatalogPath)||!k.is(this.options.nlsFilePath)){throw new Error("iconCatalogPath or nlsFilePath options not defined")}},setup:function u(J,H){var F=this;require(["text!"+F.options.iconCatalogPath,"i18n!"+F.options.nlsFilePath],function I(K,M){var L=d.decode(K);if(!k.is(L.requireFolderPath)||!k.is(L.localIcons)||!k.is(L.requireModule)){o.debug(F.name,"requireFolderPath or localIcons or requireModule information has not been defined")}a=L.requireFolderPath;e(L.localIcons,L.requireModule);l(M);J()},function G(){H()})},addDimensions:function p(F){if(k.is(F,"array")){h=F}},getDimensions:function t(){return h},addCATNlsFile:function(F){var G=i(F);q(G)},addNls:function C(F){l(F)},addNlsJSON:function b(F){q(F)},getNLSValue:function E(L,H,J,G){var F,K,I;if(L){if(!k.is(n)){o.debug(this.name,"Nls Library could not be undefined");return}I=L;if(J){I=J+"."+I}if(G){I=I+"."+G}K=n.get(I);if(K!==I){if(H){F=n.replace(K,H)}else{F=K}}else{F=L}}else{I="Wrong NLS key"}return F?F:I},addIcons:function B(G,F){e(G,F)},addIconsFromCATRsc:function v(G,F){m(G,F)},getIconURLFromKey:function f(I,J,G){var L=".png",M="I_DELQuestionMark",H=x.get3DSpaceUrl()+"common/images",F,K;if(!A){o.debug(this.name,"Icon Library could not be undefined");return}if(J){I=J+"."+I}if(G){I=I+"."+G}F=A[I];if(!F){o.debug(this.name,"Icon: %s could not be found",I)}else{if(F.IconName){M=F.IconName}if(F.ModuleName){H=j.getWebappsAssetUrl(F.ModuleName,a)}}K=H+"/"+M+L;return K},getIconElem:function c(G,F){F=F||"icon";return k.createElement("img",{src:this.getIconURLFromKey(G),"class":F})},getNLSForUnit:function D(I,H){var F,G="";if("Ratio"===I){G="%"}else{F=g(I,H);if(k.is(F)&&k.is(F.NLSName,"string")){G=F.NLSName}}return G},getLabelForUnit:function s(I,H){var G,F="";G=g(I,H);if(k.is(G)&&k.is(G.label,"string")){F=G.label}return F}});return w});
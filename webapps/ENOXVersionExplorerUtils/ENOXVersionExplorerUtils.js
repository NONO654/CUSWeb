define("DS/ENOXVersionExplorerUtils/VersionExplorerEnums",function(){var a={};a.semantics={E:{tag:"EVOLUTION",icon:"I_MajorVersion.png"},F:{tag:"FIX",icon:"I_Evolution.png"},S:{tag:"STUDY",icon:"I_Evolution.png"},B:{tag:"BRANCH",icon:"I_Evolution.png"},M:{tag:"MAIN",icon:"I_MajorVersion.png"},SO:{tag:"SPINOFF",icon:"I_Duplicate.png"},SP:{tag:"SPLIT",icon:"I_Evolution.png"},I:{tag:"INTEGRATE",icon:"I_NewVersionUsingDistantData.png"},D:{tag:"DERIVATIVE",icon:"I_Evolution.png"},IM:{tag:"IMPORT",icon:"I_NewVersionUsingDistantData.png"}};a.historySemantics={revision:{symbol:"E",icon:"I_MajorVersion.png"},minorRevision:{symbol:"E",icon:"I_MinorVersion.png"},revisionFrom:{symbol:"E",icon:"I_NewVersionUsingDistantData.png"},minorRevisionFrom:{symbol:"E",icon:"I_NewMinorUsingDistantData.png"},evolution:{symbol:"SP",icon:"I_Evolution.png"},duplicate:{symbol:"SO",icon:"I_Duplicate.png"},};a.DISPLAY_MODES={THUMBNAIL_VIEW:1,SUBWAY_VIEW:2};a.DATA_MODEL_TYPES={MODEL_P:1,MODEL_ER:2,MODEL_P_PRIME:3,MODEL_RDF:4,MODEL_REVISION:5,MODEL_HISTORY:6};a.SUBTITLE_KEYS={NONE:"",MATURITY:"maturity",REVISION:"code"};a.THUMBNAIL_GRAPH_LAYOUT={ROOT_ON_TOP:0,ROOT_ON_LEFT:1,ROOT_ON_BOTTOM:2,ROOT_ON_RIGHT:3,};a.SELECTION_MODES={MULTI_SELECT_ONLY:1,SINGLE_SELECT_ONLY:1<<1,WITH_COMMANDS:1<<2,MULTI_SELECT_ACTIVE:1<<3,ALLOW_DND:1<<4};a.SUBWAY_VIEW_MODE={SUBWAY_COMPACT_VIEW:26,SUBWAY_COMFORTABLE_VIEW:38};return a});define("DS/ENOXVersionExplorerUtils/ArrayFunctions",["DS/LifecycleDAGUtils/ArrayFunctions"],function(a){return a});define("DS/ENOXVersionExplorerUtils/ColumnList",["DS/ENOXVersionExplorerUtils/VersionExplorerEnums","DS/LifecycleServices/LifecycleServices"],function(b,a){return function(c){var d;switch(c){default:d={columns:[{dbKey:"thumbnail",outputKey:"thumbnail",columnNLS:a.getAttributeDisplayName("displayThumbnails")},{dbKey:"revision",outputKey:"code",columnNLS:a.getAttributeDisplayName("revision")},{dbKey:"maturity",outputKey:"maturity_nls",columnNLS:a.getAttributeDisplayName("maturitystate")},{dbKey:"created",outputKey:"creationDate",columnNLS:a.getAttributeDisplayName("creationDate")},{dbKey:"modified",outputKey:"modified",columnNLS:a.getAttributeDisplayName("modified")},{dbKey:"description",outputKey:"description",columnNLS:a.getAttributeDisplayName("description")},{dbKey:"EnterpriseExtension.V_PartNumber",outputKey:"EnterpriseExtension.V_PartNumber",columnNLS:a.getAttributeDisplayName("EnterpriseExtension.V_PartNumber")},{dbKey:"owner",outputKey:"ownerName",columnNLS:a.getAttributeDisplayName("owner")},{dbKey:"policy",outputKey:"policy_nls",columnNLS:a.getAttributeDisplayName("policy")},{dbKey:"type",outputKey:"type_nls",columnNLS:a.getAttributeDisplayName("type")},{dbKey:"project",outputKey:"project",columnNLS:a.getAttributeDisplayName("project")},{dbKey:"ispublished",outputKey:"ispublished",columnNLS:a.getAttributeDisplayName("ispublished")},{dbKey:"reserved",outputKey:"reserved",columnNLS:a.getAttributeDisplayName("reserved")},{dbKey:"reservedby",outputKey:"reservedbyName",columnNLS:a.getAttributeDisplayName("reservedby")},{dbKey:"organization",outputKey:"organization",columnNLS:a.getAttributeDisplayName("organization")},{dbKey:"PLMReference.V_versionComment",outputKey:"PLMReference.V_versionComment",columnNLS:a.getAttributeDisplayName("PLMReference.V_versionComment")},{dbKey:"vault",outputKey:"vault",columnNLS:a.getAttributeDisplayName("vault")},],defaultCols:["revision","maturity","created","modified","description"],excludeFromQuery:["code","thumbnail","maturity","created","modified","description"]};break}return d}});define("DS/ENOXVersionExplorerUtils/VersionExplorerEventArgs",["DS/ENOXVersionExplorerUtils/VersionExplorerEnums"],function(b){var a=function(g,f,c,d,e){this.id=g;this.tenant=f;this.context=c;this.securityContext=d;this.dataType=dataType;this.onComplete=e};return a});define("DS/ENOXVersionExplorerUtils/VersionExplorerSettings",["UWA/Core","UWA/Class","UWA/Promise","DS/ENOXVersionExplorerUtils/VersionExplorerEnums","DS/LifecycleServices/LifecycleServicesSettings","DS/WAFData/WAFData",],function(g,c,e,d,f,a){var b=c.singleton({_userSettingsLoaded:false,UserSettings:{displayMode:d.DISPLAY_MODES.SUBWAY_VIEW,displayThumbnailOverview:true,thumbnailGraphLayout:"ROOT_ON_BOTTOM",displayLegend:true,subtitleKey:d.SUBTITLE_KEYS.REVISION,subwaySortAscending:false,subwayViewMode:"SUBWAY_COMFORTABLE_VIEW",highlightParentConnectionsOnSelect:true},ENABLE_SUBWAY_VIEW:true,ENABLE_THUMBNAIL_VIEW:true,POLL_UPDATE_THUMBNAIL:false,X_DESIGN:false,_saveUserSettings:function(i,k,h){i&&!(k==null)&&(this.UserSettings[i]=k);if(h===true){var l=this._widget.getValue("x3dPlatformId");var j=f.get3DSpaceWSUrl(l,"/resources/AppsMngt/user/setPreferences?name=historyUserSettings&value="+JSON.stringify(this.UserSettings));a.authenticatedRequest(j,{method:"GET",timeout:5000,headers:{Accept:"application/json",},onComplete:function(m){console.log("PICK COMPARE DIALOG: success setting ")},onFailure:function(m){console.log("PICK COMPARE DIALOG: failed setting ")}})}else{if(this._widget&&!h){this._widget.setValue("ENOXVersionExplorer.UserSettings",this.UserSettings)}else{window.localStorage.setItem("ENOXVersionExplorer.UserSettings",JSON.stringify(this.UserSettings))}}},_RDF_SETTINGS:{_BASE_URL:"",_DEBUG_MODE:false,_VERSION_DATAMODEL_TYPE:"dslc:ItemVersion"},loadUserSettingsPromise:function(j,l,h){var k=this,i,m;j=j||{};return new e(function(q,p){if(h===true){k=k;k.tenant=k._widget.getValue("x3dPlatformId");var o=f.get3DSpaceWSUrl(k.tenant,"/resources/AppsMngt/user/getPreferences?name=historyUserSettings");a.authenticatedRequest(o,{method:"GET",timeout:5000,headers:{Accept:"application/json",},onComplete:function(s){console.log("PICK COMPARE DIALOG: success getting value");if(s!=null&&s!=""){k.UserSettings=JSON.parse(s)}for(var r in j){if(j[r]==null){console.warn("Version Explorer Initial Settings: "+r+" has not been set. Using default");j[r]=k.UserSettings[r]}}if(!k.userSettingsLoaded){k._userSettingsLoaded=true;k.UserSettings.displayMode=k.ENABLE_THUMBNAIL_VIEW===true?k.UserSettings.displayMode:d.DISPLAY_MODES.SUBWAY_VIEW;k.UserSettings.displayMode=k.ENABLE_SUBWAY_VIEW===true?k.UserSettings.displayMode:d.DISPLAY_MODES.THUMBNAIL_VIEW}},onFailure:function(r){console.log("PICK COMPARE DIALOG: failed getting value")}})}else{for(var n in j){if(j[n]==null){console.warn("Version Explorer Initial Settings: "+n+" has not been set. Using default");j[n]=k.UserSettings[n]}}if(!k.userSettingsLoaded){i=k._widget?k._widget.getValue("ENOXVersionExplorer.UserSettings"):window.localStorage.getItem("ENOXVersionExplorer.UserSettings");(!i)&&(m=true,i=j);g.extend(k.UserSettings,(typeof i==="string"?JSON.parse(i):i));k._userSettingsLoaded=true;k.UserSettings.displayMode=k.ENABLE_THUMBNAIL_VIEW===true?k.UserSettings.displayMode:d.DISPLAY_MODES.SUBWAY_VIEW;k.UserSettings.displayMode=k.ENABLE_SUBWAY_VIEW===true?k.UserSettings.displayMode:d.DISPLAY_MODES.THUMBNAIL_VIEW}}(l===true||m===true)&&g.extend(k.UserSettings,j);(l===true||m===true)&&k._saveUserSettings(null,null,h);q()})}});return b});define("DS/ENOXVersionExplorerUtils/ENOXVersionExplorerUtils",["DS/ENOXVersionExplorerUtils/VersionExplorerEnums","DS/ENOXVersionExplorerUtils/ArrayFunctions","DS/ENOXVersionExplorerUtils/VersionExplorerSettings","DS/TreeModel/TreeNodeModel"],function(b,d,c,e){var a={};a.getSanitizedID=function(g){var f=g.split("pid:");return f[f.length-1]};a.getSemanticSymbol=function(g){if(g){for(var f in b.semantics){if(b.semantics[f].tag.toUpperCase()===g.toUpperCase()||f===g.toUpperCase()){return f}}}else{return undefined}};a.getSemanticDescription=function(g){if(g){for(var f in b.semantics){if(b.semantics[f].tag.toUpperCase()===g.toUpperCase()||f===g.toUpperCase()){return b.semantics[f].tag}}}else{return undefined}};a.getSemanticIcon=function(g){if(g){for(var f in b.semantics){if(b.semantics[f].tag.toUpperCase()===g.toUpperCase()||f===g.toUpperCase()){return b.semantics[f].icon}}}else{return undefined}};a.getNextRevision=function(g){var f=new d.CircularArray(["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]);var l=g.split("");var k=false;for(var h=l.length-1;h>=0;h++){if(f.setCurrent(l[h])>=0){var j=f.next();l[h]=j.value;if(j.index!==0){break}if(h===0){k=true}}}(k===true)&&l.insert("A",0);var l=l.join("");return l};a.getHistoryCustomAttribute=function(m){var l=(m instanceof e)?m.options.grid:m;var n=c.historyConfig,h;if(m!=null&&n&&Array.isArray(n.historyConfig)){var g=n.historyConfig,f=g.length;for(var k=0;k<f;k++){var j=g[k];if((l[j.attribute]!=null&&j.value!=null&&l[j.attribute]===j.value)||(l[j.attribute]!=null&&j.value==null)){h=j;break}}}return h};return a});
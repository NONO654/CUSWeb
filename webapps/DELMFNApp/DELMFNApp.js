define("DS/DELMFNApp/App",["UWA/Core","DS/Core/Core","DS/UIKIT/Mask","DS/CfgAuthoringContextUX/scripts/CfgAuthoringContext","DS/DELPPWModules/Modules","DS/DELPPWBehaviors/Behaviors","DS/DELPPWPlugins/Plugins","DS/DELPPWServices/Services","DS/DELMFNApplicationServices/Services","DS/DELModularWebAppCore/Core","text!DS/DELMFNApp/assets/json/ModuleConfigurations.json","css!DS/DELMFNApp/DELMFNApp.css"],function(i,a,B,m,q,u,g,f,k,b,y){var o=q.getMap(),p=u.getMap(),x=g.getMap(),v=i.merge(k.getMap(),f.getMap()),l="DELMFNApp.xml",e="DELMFNApp",t="DELMFNMGA_appId",j="DS/DELMFNApp/AppConfig",d="DS/DELMFNApp/assets/icons/catalog.json",r="DS/DELMFNApp/assets/json/EventsMapping.json",z="DS/DELMFNApp/assets/json/SelectionMapping.json",c="DS/DELMFNApp/assets/json/RootsMapping.json",w="DS/DELMFNApp/assets/json/CommandsAvailability.json",h="DS/DELMFNApp/assets/nls/NLS",s="DS/ENOCollabSharingCmds/assets/catnls/CollabSharing_Workbench.CATNls",n="DS/ENOCollabSharingCmds/assets/catrsc/CollabSharing_Workbench.CATRsc";var A=function A(){var O="DELMFN_AP",H="MFN",F,I,N;x.ImplementPlugin="DS/DELPPWViewPlugins/ImplementPlugin/ProductImplementPlugin";F=new b({appId:O,widgetTrigram:H,unAuthorizedTypes:["PRODUCT","PARTS"],appContext:{widget:{getId:function D(){return widget.id},data:{appId:O}}},require:{module:o,behavior:p,plugin:x,service:v},resource:{iconCatalogPath:d,eventsMappingPath:r,selectionMappingPath:z,rootsMappingPath:c,commandsAvailabilityPath:w,indexMappingXML:"indexMappingXML",modelRelationsXML:"modelRelationsXML",relationsDisplayAttributeConfigXML:"relationsDisplayAttributeConfigXML",relationsColumnMappingXML:"relationsColumnMappingXML",insertFormAttributeXML:"insertFormAttributeXML",modelCustomRelationsXML:"modelCustomRelationsXML",documemntColumnConfigXML:"documemntColumnConfigXML",duplicateAdvancedPreferencesXML:"duplicateAdvancedPreferencesXML",nlsFilePath:h,nlsExternalCmdsPath:s,rscExternalCmdsPath:n,appConfigPath:j,afrWorkbenchName:l,afrWorkbenchModule:e,custoParameterRegExp:"MFNParameters*"}});I=function I(Q){var P=Q.moduleData||{};if(i.is(Q)&&i.is(Q.moduleId,"string")){P=i.merge(P,y[Q.moduleId]);F.start(Q.moduleId,P)}else{F.getLogger().debug("Module id is required to start the module.")}};N=function N(P){if(i.is(P)&&i.is(P.moduleId,"string")){F.stop(P.moduleId)}else{F.getLogger().debug("Module id is required to stop the module.")}};y=i.Json.decode(y);F.addExternalListener("startModule",I);F.addExternalListener("stopModule",N);return{onLoad:function L(){widget.body.empty();B.mask(widget.body);F.useServices(["EventsService","LoggerService","ConfigService","ModelService","CommandsService","ExternalService","LifecycleService","FilterService","LayoutService"],function(){var P,Q=F.getService("LayoutService");P=Q.getContainer("progressIndicator");F.createModule("ProgressIndModule","PROGRESSINDMOD",P,function(R){F.start(R)});P=Q.getContainer("process");F.createModule("TreeListAuthoringModule","MBOM",P,function(R){F.start(R,y.MBOM)});P=Q.getContainer("product_part");F.createModule("TreeListAuthoringModule","EBOM",P,function(R){F.start(R,y.EBOM)});P=Q.getContainer("auxiliary");F.createModule("AuxiliaryModule","AUXILIARY",P,function(R){F.start(R,y.AUXILIARY)});P=Q.getContainer("none");F.createModule("InsertCmdModule","INSTCMDMOD",P,function(R){F.start(R,y.INSTCMDMOD)});P=Q.getContainer("none");F.createModule("DeleteCmdModule","DELCMDMOD",P,function(R){F.start(R)});P=Q.getContainer("none");F.createModule("AuthorLinksModule","AUTHORLINKMOD",P,function(R){F.start(R)});P=Q.getContainer("action");F.createModule("ActionModule","ALTERNATE",P);P=Q.getContainer("action");F.createModule("ActionModule","ORIGIN",P);P=Q.getContainer("action");F.createModule("ActionModule","CAPRESOURCE",P);P=Q.getContainer("none");F.createModule("LinksModule","LINKS",P);P=Q.getContainer("none");F.createModule("ImplementModule","IMPLEMENTMOD",P,function(R){F.start(R,y.IMPLEMENTMOD)});P=Q.getContainer("none");F.createModule("MfgStructureModule","MFGSTRUCTUREMOD",P,function(R){F.start(R,y.MFGSTRUCTUREMOD)});P=Q.getContainer("none");F.createModule("MILModule","MIL",P);P=Q.getContainer("none");F.createModule("DocumentsModule","DOCUMENTSMOD",P,function(R){F.start(R,y.DOCUMENTSMOD)});m.initialize2(Q.getUIContainer(),widget.id,"show","bottom-right",function(){});if(!widget.getValue("x3dAppId")){widget.addPreference({name:"x3dAppId",type:"hidden",defaultValue:t})}})},getCore:function E(){return F},onSearch:function M(Z){var W,ad,P,V,ac,T,Y=["PROCESS","PRODUCT"],S=[],ab,Q,aa=F.getPlugins("RootsPlugin"),X=F.getPlugins("ResourcePlugin"),U=F.getPlugins("DatabasePlugin");if(!i.is(U)||!i.is(aa)||!i.is(X)){F.getLogger().debug("App","Database or Roots or Resource plugin is not available.");return}U=U.instance;aa=aa.instance;X=X.instance;if(i.is(Z,"string")){ad=Z.split(":");if(i.is(ad,"array")){if(ad.length>1){P=ad[0];V=ad[1]}}}ac=i.is(P,"string")?P.replace(/^\s+/g,"").replace(/\s+$/g,""):"";T=i.is(V,"string")?V.replace(/^\s+/g,"").replace(/\s+$/g,""):"";if(i.is(ac)&&i.is(T)&&ac!==""&&T!==""){W={type:ac,externalId:T};U.fetchReferences(W,{silent:true,remove:false,onComplete:function R(af,ae){if(i.is(af,"array")){af.forEach(function(ag){if(aa.isRoot(ag.id)){S.referenceName=ag.get("V_Name");ab=X.getNLSValue("AlreadyRoot",S,"ValidationError");F.getLogger().warn(self.name,ab)}else{Q=ag.get("PPRTYPE");if(i.is(Q,"string")&&Y.indexOf(Q)!==-1){F.getMediator().notify("addReference",[ag,null,ae])}else{F.getMediator().notify("addToAuxiliaryView",[ag])}}})}}})}},onEdit:function K(){},onResize:function C(){},onRefresh:function J(){F.getMediator().notify("reset")},endEditPreferences:function G(Q){var T,P,U,R;if(i.is(Q)&&Q.submitted===true){T=F.getService("ConfigService");U=F.getService("LayoutService");R=F.getService("ModelService");R.updateAggregationRules();if(i.is(T)){if(T.hasConfigurationChanged()){P=U.getContainer("layoutContainer");if(i.is(P)){P.hidden=true}B.mask(widget.body);F.stopAll();F.startAllServices(function S(){F.start("PROGRESSINDMOD");F.start("INSTCMDMOD",y.INSTCMDMOD);F.start("DELCMDMOD");F.start("AUTHORLINKMOD");F.start("MBOM",y.MBOM);F.start("EBOM",y.EBOM);F.start("AUXILIARY",y.AUXILIARY);F.start("IMPLEMENTMOD",y.IMPLEMENTMOD);F.start("MFGSTRUCTUREMOD",y.MFGSTRUCTUREMOD);F.start("DOCUMENTSMOD",y.DOCUMENTSMOD);B.unmask(widget.body);if(i.is(P)){P.hidden=false}})}else{F.getMediator().notify("endEdit")}}}}}};return A});define("DS/DELMFNApp/AppConfig",["DS/DELPPWModelServices/BehaviorUtil"],function(b){var a={preferences:[{name:"showDialog",type:"boolean",label:"Preferences.ShowDialog",defaultValue:"true"},{name:"navigateOnIndexedDB",type:b.isNavigateOnIndexedDBPrefDisplayed()?"boolean":"hidden",label:"Preferences.NavOnIndexedDB",defaultValue:"false"},{name:"fetchAllLevel",type:"boolean",label:"Preferences.fetchAllLevel",defaultValue:"false"},{name:"showOrg",type:"boolean",label:"Preferences.showOrg",defaultValue:"false"},{name:"showCollaborativeSpace",type:"boolean",label:"Preferences.showCollaborativeSpace",defaultValue:"false"},{name:"showRole",type:"boolean",label:"Preferences.showRole",defaultValue:"false"},{name:"oneDelmiaAggregationMode",type:"boolean",label:"Preferences.oneDelmiaAggregationRules",defaultValue:"true"},{name:"separator",type:"text",label:"Preferences.Separator",defaultValue:"|"},{name:"navigateOnIndex",type:"list",options:[{value:"Database",label:"Database"},{value:"Index",label:"Index"}],label:"Preferences.NavOnIndex",defaultValue:"Index"},{name:"organization",type:"list",label:"Preferences.Org",options:[],defaultValue:"",onchange:"OrganizationUpdated"},{name:"collaborativeSpace",type:"list",label:"Preferences.CollabSpace",options:[],defaultValue:"",onchange:"CollabSpaceUpdated"},{name:"role",type:"list",label:"Preferences.Role",options:[],defaultValue:"",onchange:"RoleUpdated"},{name:"custoParametersSet",type:"list",label:"Preferences.CustoParametersSet",options:[],defaultValue:"",},{name:"timeout",type:"text",label:"Preferences.ServerTimeout",defaultValue:((b.getDefaultTimeout()===false)||(b.getDefaultTimeout()===""))?"600":b.getDefaultTimeout(),onchange:"TimeoutUpdated"},{name:"systemsViewColumns",type:"hidden",defaultValue:[]},{name:"consumedItemsColumns",type:"hidden",defaultValue:[]},{name:"capableResourcesColumns",type:"hidden",defaultValue:[]},{name:"forceDBModePreferences",type:"hidden",defaultValue:"false"}],xmlConfiguration:{"MBOM.columnConfigPath":"DELMFNApp/ProcessColumnConfig","MBOM.bomViewXML":"DELMFNApp/BOMView","EBOM.columnConfigPath":"DELMFNApp/ProductPartColumnConfig","IMPLEMENTMOD.columnConfigPath":"DELMFNApp/UpdateMfgItemUI","MFGSTRUCTUREMOD.columnConfigPath":"DELMFNApp/UpdateMfgItemUI","MIL.columnConfigPath":"DELMFNApp/MILColumnConfig","CAPRESOURCE.columnConfigPath":"DELMFNApp/CapableResourceColumnConfig","ORIGIN.columnConfigPath":"DELMFNApp/OriginColumnConfig","ALTERNATE.columnConfigPath":"DELMFNApp/AlternateColumnConfig","AUXILIARY.columnConfigPath":"DELMFNApp/AuxiliaryColumnConfig",duplicateAdvancedPreferencesXML:"DELMFNApp/DuplicateAdvancedPreferences",exportCSVPreferencesXML:"DELMFNApp/ExportCSVPreferences",indexMappingXML:"DELMFNApp/IndexMapping",insertFormAttributeXML:"DELMFNApp/InsertCmdFormAttribute",modelRelationsXML:"DELMFNApp/ModelRelations",modelCustomRelationsXML:"DELMFNApp/ModelCustomRelations",relationsColumnMappingXML:"DELMFNApp/RelationsColumnMapping",relationsDisplayAttributeConfigXML:"DELMFNApp/RelationsDisplayAttributeConfig",relationsDialogDisplayAttributeConfigXML:"DELMFNApp/RelationsDialogDisplayAttributeConfig",editLinkAttrsConfigXML:"DELMFNApp/EditLinkAttributesConfig",documemntColumnConfigXML:"DELMFNApp/DocumentColumnDisplayAttributeConfig",toolTipConfigXML:"DELMFNApp/TooltipConfig"}};return a});
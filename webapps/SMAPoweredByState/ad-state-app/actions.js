/*!  Copyright 2017 Dassault Systemes. All rights reserved. */
define(["DS/SMAPoweredByState/ad-state-app/action-types","DS/SMAPoweredByState/ad-state-app/action-impls","DS/SMAPoweredByState/ad-state-app/selectors"],function(c,b,d){var a={};a.refreshApp=function(){var e={};e.transientWidget=(window.widget&&window.widget.id&&(window.widget.id.indexOf(d.TRANSIENT_WIDGET_PREFIX)===0));return{type:c.REFRESH_APP,payload:{promise:b.getMyAppsURL().then(function(f){e.myAppsURL=f;return e}).then(b.initPlatformInfo).then(function(f){e.spaceURL=f.spaceURL;e.platforms=f.platforms;e.currentPlatform=f.currentPlatform;e.cloudEnabled=f.cloudEnabled;return e}).then(function(){if(e.cloudEnabled){return b.initWhereUsedTenantInfo()}else{return null}}).then(function(f){if(e.cloudEnabled){e.whereUsedTenants=f.whereUsedTenants;e.currentWhereUsedTenant=f.currentWhereUsedTenant;e.dslsURL=f.dslsURL}else{e.whereUsedTenants=null;e.currentWhereUsedTenant=null;e.dslsURL=null}return e}).then(b.getLicenses).then(function(f){e.licenses=f.licenses;return e}).then(b.initSecurityContextInfo).then(function(f){e.securityContext=f;return e})}}};a.addError=function(e){return{type:c.ADD_ERROR,error:e}};a.removeError=function(e){return{type:c.REMOVE_ERROR,error:e}};a.removeAllErrors=function(){return{type:c.REMOVE_ALL_ERRORS}};return a});
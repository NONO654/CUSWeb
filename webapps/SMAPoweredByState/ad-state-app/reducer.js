/*!  Copyright 2017 Dassault Systemes. All rights reserved. */
define(["DS/SMAPoweredByState/ad-state-utils","DS/SMAPoweredByState/ad-state-defs","DS/SMAPoweredByState/ad-state-app/action-types","DS/SMAPoweredByState/ad-state-cos/action-types","DS/SMAPoweredByState/ad-state-domain-connector-definitions/action-types","DS/SMAPoweredByState/ad-state-domain-job-types/action-types","DS/SMAPoweredByState/ad-state-domain-jobs/action-types","DS/SMAPoweredByState/ad-state-domain-managed-data/action-types","DS/SMAPoweredByState/ad-state-domain-study/action-types","DS/SMAPoweredByState/ad-state-domain-study-templates/action-types","DS/SMAPoweredByState/ad-state-domain-work-data/action-types","DS/SMAPoweredByState/ad-state-app-alerts/reducer","DS/SMAPoweredByState/ad-state-app-logging/reducer","DS/SMAPoweredByState/ad-state-app-preferences/reducer","DS/SMAPoweredByTracker/ad-tracker/reducer"],function(b,h,s,f,r,c,j,g,t,p,k,q,a,n,o){var u={};var l=false;const d={uninitialized:true,cloudEnabled:false,transientWidget:false,spaceURL:null,dslsURL:null,licenses:[],errors:[]};function i(w,v){var x;switch(v.type){case s.REFRESH_APP+h.AsyncStatus.PENDING:x=b.shallowCopy(w);x.persistenceOperation=h.PersistenceOperation.READING;if(x.persistenceError){delete x.persistenceError}if(x.uninitialized){delete x.uninitialized}break;case s.REFRESH_APP+h.AsyncStatus.SUCCESS:x=b.shallowCopy(w);x.cloudEnabled=v.payload.cloudEnabled;x.platforms=v.payload.platforms;x.currentPlatform=v.payload.currentPlatform;x.whereUsedTenants=v.payload.whereUsedTenants;x.currentWhereUsedTenant=v.payload.currentWhereUsedTenant;x.spaceURL=v.payload.spaceURL;x.myAppsURL=v.payload.myAppsURL;x.dslsURL=v.payload.dslsURL;x.licenses=v.payload.licenses;x.transientWidget=v.payload.transientWidget;x.securityContext=v.payload.securityContext;delete x.persistenceOperation;break;case s.REFRESH_APP+h.AsyncStatus.FAILURE:x=b.shallowCopy(w);x.persistenceError=v.payload.error;delete x.persistenceOperation;if(l){x.errors.push(v.payload.error)}break;default:x=w;break}return x}function e(x,w){var y,v;switch(w.type){case s.ADD_ERROR:for(v=0;v<x.errors.length;v++){if(x.errors[v]!==w.error){break}}if(v===x.errors.length){y=b.shallowCopy(x);y.errors.push(w.error)}else{y=x}break;case s.REMOVE_ERROR:y=b.shallowCopy(x);for(v=0;v<y.errors.length;v++){if(y.errors[v]!==w.error){y.errors.splice(v,1);break}}if(y.errors.length===x.errors.length){y=x}break;case s.REMOVE_ALL_ERRORS:if(x.errors.length>0){y=b.shallowCopy(x);y.errors.splice(0)}else{y=x}break;default:y=x;break}return y}function m(y,x){var z,B,w,A,v;if(typeof y==="undefined"){z=b.deepCopy(d)}else{switch(x.type){case s.REFRESH_APP+h.AsyncStatus.PENDING:case s.REFRESH_APP+h.AsyncStatus.SUCCESS:case s.REFRESH_APP+h.AsyncStatus.FAILURE:z=i(y,x);break;case s.ADD_ERROR:case s.REMOVE_ERROR:case s.REMOVE_ALL_ERRORS:z=e(y,x);break;default:if(l&&x.payload&&x.payload.error){z=b.shallowCopy(y);z.errors.push(x.payload.error)}else{z=y}break}}B=q["default"]((typeof y!=="undefined")?y.alerts:undefined,x);w=a["default"]((typeof y!=="undefined")?y.logging:undefined,x);A=o["default"]((typeof y!=="undefined")?y.tracking:undefined,x);v=n["default"]((typeof y!=="undefined")?y.preferences:undefined,x);if((z===y)&&((B!==y.alerts)||(w!==y.logging)||(A!==y.tracking)||(v!==y.preferences))){z=b.shallowCopy(y)}z.alerts=B;z.logging=w;z.tracking=A;z.preferences=v;return z}u["default"]=m;return u});
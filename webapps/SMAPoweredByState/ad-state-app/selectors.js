/*!  Copyright 2017 Dassault Systemes. All rights reserved. */
define([],function(){var b={};b.AppLicenses={ABAQUS_STUDY:"Abaqus_Study",SIMULATION_COMPANION:"Simulation_Companion",RUN_ABAQUS_CAE:"Run_Abaqus_CAE"};b.ErrorCodes={APPS_MGMT_WS_ERROR:"SMAPoweredByState.ad-state-app.APPS_MGMT_WS_ERROR",APPS_LICENSE_WS_ERROR:"SMAPoweredByState.ad-state-app.APPS_LICENSE_WS_ERROR"};b.TRANSIENT_WIDGET_PREFIX="preview-";var a="x3dPlatformId",c="whereUsedTenantId";b.isAppInitialized=function(d){return !d.app.uninitialized};b.appPersistenceOperation=function(d){return !d.app.persistenceOperation?null:d.app.persistenceOperation};b.appPersistenceError=function(d){return !d.app.persistenceError?null:d.app.persistenceError};b.isCloudEnabled=function(d){return d.app.cloudEnabled};b.platforms=function(f){var d,e=null;if(window.widget&&window.widget.getPreference&&window.widget.getPreference(a)){d=window.widget.getPreference(a);if(d&&d.options){e=d.options.map(function(g){return{id:g.value,displayName:g.name}})}}else{if(f.app.platforms){e=f.app.platforms.slice()}}return e};b.currentPlatformID=function(d){var e=null;if(window.widget&&window.widget.getValue&&window.widget.getValue(a)){e=window.widget.getValue(a)}else{if(d.app.currentPlatform){e=d.app.currentPlatform.id}}return e};b.whereUsedTenants=function(f){var d,e=null;if(window.widget&&window.widget.getPreference&&window.widget.getPreference(c)){d=window.widget.getPreference(c);if(d&&d.options){e=d.options.map(function(g){return{id:g.value,displayName:g.name}})}}else{if(f.app.whereUsedTenants){e=f.app.whereUsedTenants.slice()}}return e};b.currentWhereUsedTenantID=function(e){var d=null;if(window.widget&&window.widget.getValue&&window.widget.getValue(c)){d=window.widget.getValue(c)}else{if(e.app.currentWhereUsedTenant){d=e.app.currentWhereUsedTenant.id}}return d};b.spaceURL=function(d){return d.app.spaceURL};b.myAppsURL=function(d){return d.app.myAppsURL};b.dslsURL=function(d){return d.app.dslsURL};b.isTransientWidget=function(d){return d.app.transientWidget};b.hasLicense=function(e,d){return(e.app.licenses.indexOf(d)!==-1)};b.securityContext=function(e){var d=null;if(e.app.securityContext){d=e.app.securityContext}else{if(window.widget&&window.widget.getValue("Security Context")){d=window.widget.getValue("Security Context")}}return d};b.allErrors=function(d){return d.app.errors.slice().sort(function(f,e){return f.time-e.time})};b.errorsWithCode=function(e,d){return e.app.errors.filter(function(f){return(f.error&&f.error.code&&(f.error.code===d))}).sort(function(g,f){return g.time-f.time})};return b});
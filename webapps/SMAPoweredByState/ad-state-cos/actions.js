/*!  Copyright 2017 Dassault Systemes. All rights reserved. */
define(["DS/SMAPoweredByState/ad-state-cos/action-types","DS/SMAPoweredByState/ad-state-cos/action-impls","UWA/Class/Promise"],function(e,c,b){var a={};var d=window.Promise||b;a.refreshServers=function(){return{type:e.REFRESH_SERVERS,payload:{promise:c.getServers().then(function(f){return d.all(f.map(function(g){return c.getServerStatus({server:g}).then(function(){return{server:g}}).then(c.getRunAsEnabled).then(function(){return{server:g}}).then(c.getDRMInfo)["catch"](function(h){g.persistenceError=h.error;return g})}))})}}};a.refreshStations=function(f){return{type:e.REFRESH_STATIONS,payload:{promise:c.getStations({serverID:f.id})}}};return a});
/*!  Copyright 2017 Dassault Systemes. All rights reserved. */
define(["DS/Redux/Redux","DS/SMAPoweredByState/ad-state-defs","DS/SMAPoweredByState/ad-state-utils","DS/SMAPoweredByState/ad-state-cos/action-types"],function(e,k,h,c){var f={};const d={uninitialized:true,objects:[]};const j={uninitialized:true,objects:[]};const b={uninitialized:true,objects:[]};function l(m,n){if(n&&(n.length>0)){return m.filter(function(o){return(o.server!==n[0].server)}).concat(n)}else{return m.slice()}}function a(o,n){var p,m,q;if(typeof o==="undefined"){p=d}else{switch(n.type){case c.REFRESH_SERVERS+k.AsyncStatus.PENDING:p={persistenceOperation:k.PersistenceOperation.READING,objects:o.objects.slice()};for(m=0;m<p.objects.length;m++){if(p.objects[m].persistenceError){q=h.shallowCopy(p.objects[m]);delete q.persistenceError;h.replaceObject(p.objects,q)}}break;case c.REFRESH_SERVERS+k.AsyncStatus.SUCCESS:p={objects:n.payload.slice()};break;case c.REFRESH_SERVERS+k.AsyncStatus.FAILURE:p={persistenceError:n.payload.error,objects:o.objects};break;default:p=o;break}}return p}function g(n,m){var o;if(typeof n==="undefined"){o=j}else{switch(m.type){case c.REFRESH_STATIONS+k.AsyncStatus.PENDING:o={persistenceOperation:k.PersistenceOperation.READING,objects:n.objects.slice()};break;case c.REFRESH_STATIONS+k.AsyncStatus.SUCCESS:o={objects:l(n.objects,m.payload.stations)};break;case c.REFRESH_STATIONS+k.AsyncStatus.FAILURE:o={persistenceError:m.payload.error,objects:n.objects.slice()};break;default:o=n;break}}return o}function i(n,m){var o;if(typeof n==="undefined"){o=b}else{switch(m.type){case c.REFRESH_DRM_CONFIGURATIONS+k.AsyncStatus.PENDING:o={persistenceOperation:k.PersistenceOperation.READING,objects:n.objects.slice()};break;case c.REFRESH_DRM_CONFIGURATIONS+k.AsyncStatus.SUCCESS:o={objects:l(n.objects,m.payload.drmConfigurations)};break;case c.REFRESH_DRM_CONFIGURATIONS+k.AsyncStatus.FAILURE:o={persistenceError:m.payload.error,objects:n.objects.slice()};break;default:o=n;break}}return o}f["default"]=e.combineReducers({servers:a,stations:g,drmConfigurations:i});return f});
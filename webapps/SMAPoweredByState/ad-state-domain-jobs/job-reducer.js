/*!  Copyright 2017 Dassault Systemes. All rights reserved. */
define(["DS/SMAPoweredByState/ad-state-domain-jobs/action-types","DS/SMAPoweredByState/ad-state-domain-jobs/selectors","DS/SMAPoweredByState/ad-state-domain-jobs/arguments-reducer","DS/SMAPoweredByState/ad-state-domain-jobs/envvars-reducer","DS/SMAPoweredByState/ad-state-domain-jobs/execution-reducer","DS/SMAPoweredByState/ad-state-domain-jobs/inputs-reducer","DS/SMAPoweredByState/ad-state-domain-jobs/outputs-reducer","DS/SMAPoweredByState/ad-state-domain-jobs/parameters-reducer","DS/SMAPoweredByState/ad-state-domain-jobs/results-reducer","DS/SMAPoweredByState/ad-state-utils","DS/SMAPoweredByState/ad-state-defs"],function(p,l,a,u,o,f,i,m,v,c,g){var w={};const d={uninitialized:true,persistenceStatus:g.PersistenceStatus.CLEAN,id:null,eedJobID:null,jobType:null,title:name,description:null,ready:false,started:0,ended:0,status:l.JobStatus.CONFIGURING,progress:null,inputs:[],mainInputFile:null,outputs:[],configuration:{},executionOptions:{}};function b(y,x){if(!y.progress){y.progress={claimed:false,totalSteps:0,stepsCompleted:0,currentStepProgress:0,overallProgress:0}}else{y.progress=c.shallowCopy(y.progress)}if(typeof x.claimed!=="undefined"){y.progress.claimed=x.claimed}if(typeof x.totalSteps!=="undefined"){y.progress.totalSteps=x.totalSteps}if(typeof x.stepsCompleted!=="undefined"){y.progress.stepsCompleted=x.stepsCompleted}if(typeof x.currentStepProgress!=="undefined"){y.progress.currentStepProgress=x.currentStepProgress}if(typeof x.overallProgress!=="undefined"){y.progress.overallProgress=x.overallProgress}}function t(y,x){var z;switch(x.type){case p.REFRESH_JOB_DATA+g.AsyncStatus.PENDING:z=c.shallowCopy(y);z.persistenceOperation=g.PersistenceOperation.READING;break;case p.REFRESH_JOB_DATA+g.AsyncStatus.SUCCESS:z=c.shallowCopy(y);if(z.uninitialized){delete z.uninitialized}if(x.payload.status){z.status=x.payload.status}if(x.payload.started){z.started=x.payload.started}if(x.payload.ended){z.ended=x.payload.ended}if(!z.owner&&x.payload.owner){z.owner=x.payload.owner}if(x.payload.inputs&&x.payload.inputs.length>0){z.inputs=x.payload.inputs}if(x.payload.outputs){z.outputs=x.payload.outputs}if(x.payload.progress){b(z,x.payload.progress)}if(x.payload.jobType){z.jobType=x.payload.jobType}if(x.payload.configuration){z.configuration=x.payload.configuration}if(x.payload.resultsOptions){z.resultsOptions=x.payload.resultsOptions}if(x.payload.executionOptions){z.executionOptions=x.payload.executionOptions}if(x.payload.mainInputFile){z.mainInputFile=x.payload.mainInputFile}delete z.persistenceOperation;break;case p.REFRESH_JOB_DATA+g.AsyncStatus.FAILURE:z=c.shallowCopy(y);z.persistenceError=x.payload.error;delete z.persistenceOperation;break;default:z=y;break}return z}function e(y,x){var z;switch(x.type){case p.CREATE_JOB+g.AsyncStatus.PENDING:z=c.deepCopy(d);z.id=x.payload.pendingJobID;z.kind=l.JobKind.TOOL;z.jobType=x.payload.jobTypeID;z.title=x.payload.title;z.persistenceOperation=g.PersistenceOperation.CREATING;break;case p.CLONE_JOB+g.AsyncStatus.PENDING:z=c.deepCopy(d);z.id=x.payload.pendingJobID;z.kind=l.JobKind.TOOL;z.jobType=x.payload.jobTypeID;z.title=x.payload.title;z.inputs=c.deepCopy(x.payload.originalJob.inputs);z.mainInputFile=c.deepCopy(x.payload.originalJob.mainInputFile);z.configuration=c.deepCopy(x.payload.originalJob.configuration);z.resultsOptions=c.deepCopy(x.payload.originalJob.resultsOptions);z.executionOptions=c.deepCopy(x.payload.originalJob.executionOptions);z.persistenceOperation=g.PersistenceOperation.CREATING;break;case p.CREATE_JOB+g.AsyncStatus.SUCCESS:case p.CLONE_JOB+g.AsyncStatus.SUCCESS:z=c.shallowCopy(x.payload.job);z.jobType=y.jobType;z.title=y.title;delete z.persistenceOperation;break;default:z=y;break}return z}function h(y,x){var z;switch(x.type){case p.START_JOB+g.AsyncStatus.PENDING:z=c.setStateProperty(y,"status",l.JobStatus.ATTEMPTING_RUN,false);if(z.persistenceError){delete z.persistenceError}break;case p.START_JOB+g.AsyncStatus.SUCCESS:z=c.setStateProperty(y,"status",l.JobStatus.RUN_ACCEPTED,false);z.eedJobID=x.payload.eedJobID;z.id=x.payload.mcsJobID;break;case p.START_JOB+g.AsyncStatus.FAILURE:z=c.setStateProperty(y,"status",l.JobStatus.CONFIGURING,false);z.persistenceError=x.payload.error;delete z.persistenceOperation;break;case p.ABORT_JOB+g.AsyncStatus.PENDING:z=y;break;case p.ABORT_JOB+g.AsyncStatus.SUCCESS:z=c.shallowCopy(y);z.status=l.JobStatus.STOPPING;break;case p.ABORT_JOB+g.AsyncStatus.FAILURE:z=c.shallowCopy(y);z.persistenceError=x.payload.error;break;default:z=y;break}return z}function s(y,x){var z;switch(x.type){case p.STORE_JOB_CONFIGURATION+g.AsyncStatus.PENDING:z=c.shallowCopy(y);z.persistenceOperation=g.PersistenceOperation.UPDATING;if(z.persistenceError){delete z.persistenceError}break;case p.STORE_JOB_CONFIGURATION+g.AsyncStatus.SUCCESS:z=c.shallowCopy(y);delete z.persistenceOperation;break;case p.STORE_JOB_CONFIGURATION+g.AsyncStatus.FAILURE:z=c.shallowCopy(y);z.persistenceError=x.payload.error;delete z.persistenceOperation;break;default:z=y;break}return z}function r(y,x){var z;switch(x.type){case p.SET_JOB_TITLE:z=c.setStateProperty(y,"title",x.title,true);break;case p.SET_JOB_TITLE+g.AsyncStatus.PENDING:z=c.shallowCopy(y);z=c.setStateProperty(y,"title",x.payload.title,false);z.persistenceOperation=g.PersistenceOperation.UPDATING;break;case p.SET_JOB_TITLE+g.AsyncStatus.SUCCESS:z=c.shallowCopy(y);delete z.persistenceOperation;break;case p.SET_JOB_TITLE+g.AsyncStatus.FAILURE:z=c.shallowCopy(y);z.persistenceError=x.payload.error;delete z.persistenceOperation;break;default:z=y;break}return z}function j(y,x){var z;switch(x.type){case p.SET_JOB_DESCRIPTION:z=c.setStateProperty(y,"description",x.description,true);break;case p.SET_JOB_DESCRIPTION+g.AsyncStatus.PENDING:z=c.shallowCopy(y);z=c.setStateProperty(y,"description",x.payload.description,false);z.persistenceOperation=g.PersistenceOperation.UPDATING;break;case p.SET_JOB_DESCRIPTION+g.AsyncStatus.SUCCESS:z=c.shallowCopy(y);delete z.persistenceOperation;break;case p.SET_JOB_DESCRIPTION+g.AsyncStatus.FAILURE:z=c.shallowCopy(y);z.persistenceError=x.payload.error;delete z.persistenceOperation;break;default:z=y;break}return z}function k(y,x){var z;switch(x.type){case p.SET_JOB_READY:z=c.setStateProperty(y,"ready",x.ready,false);break;case p.SET_JOB_STATUS:z=c.setStateProperty(y,"status",x.status,false);break;default:z=y;break}return z}function q(y,x){var z;switch(x.type){case p.SET_JOB_3DX_PARAMETERS+g.AsyncStatus.PENDING:z=c.shallowCopy(y);z.persistenceOperation=g.PersistenceOperation.UPDATING;break;case p.SET_JOB_3DX_PARAMETERS+g.AsyncStatus.SUCCESS:z=c.shallowCopy(y);delete z.persistenceOperation;break;case p.SET_JOB_3DX_PARAMETERS+g.AsyncStatus.FAILURE:z=c.shallowCopy(y);z.persistenceError=x.payload.error;delete z.persistenceOperation;break;default:z=y;break}return z}function n(y,x){var z;if(typeof y==="undefined"){z=c.deepCopy(d)}else{z=y;z=e(z,x);z=h(z,x);z=t(z,x);z=s(z,x);z=r(z,x);z=j(z,x);z=k(z,x);z=q(z,x);z=m["default"](z,x);z=f["default"](z,x);z=a["default"](z,x);z=u["default"](z,x);z=i["default"](z,x);z=v["default"](z,x);z=o["default"](z,x)}return z}w["default"]=n;return w});
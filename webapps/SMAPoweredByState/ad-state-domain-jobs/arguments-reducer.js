/*!  Copyright 2017 Dassault Systemes. All rights reserved. */
define(["DS/SMAPoweredByState/ad-state-domain-jobs/action-types","DS/SMAPoweredByState/ad-state-utils","DS/SMAPoweredByState/ad-state-defs"],function(f,d,e){var a={};function b(j,h){var k,g,l=false;if(j.configuration.arguments){for(g=0;g<j.configuration.arguments.length;g++){if((j.configuration.arguments[g].name===h.name)&&(j.configuration.arguments[g].value===h.value)){l=true;break}}}if(!l){k=d.shallowCopy(j);if(!k.configuration.arguments){k.configuration.arguments=[]}for(g=0;g<k.configuration.arguments.length;g++){if(k.configuration.arguments[g].name===h.name){k.configuration.arguments[g].value=h.value;break}}if(g===k.configuration.arguments.length){k.configuration.arguments.push({name:h.name,value:h.value})}k.persistenceStatus=e.PersistenceStatus.DIRTY}else{k=j}return k}function c(j,h){var k,g,l=false;switch(h.type){case f.SET_JOB_ARGUMENTS:k=d.setStateProperty(j,"configuration.arguments",h.arguments,true);break;case f.ADD_JOB_ARGUMENT:k=b(j,h);break;case f.SET_JOB_ARGUMENT_VALUE:if(j.configuration.arguments){for(g=0;g<j.configuration.arguments.length;g++){if(j.configuration.arguments[g].name===h.name){k=d.shallowCopy(j);k.configuration.arguments[g].value=h.value;k.persistenceStatus=e.PersistenceStatus.DIRTY;l=true;break}}}if(!l){k=j}break;case f.REMOVE_JOB_ARGUMENT:if(j.configuration.arguments){for(g=0;g<j.configuration.arguments.length;g++){if(j.configuration.arguments[g].name===h.name){k=d.shallowCopy(j);k.configuration.arguments.splice(g,1);if(k.configuration.arguments.length===0){delete k.configuration.arguments}k.persistenceStatus=e.PersistenceStatus.DIRTY;l=true;break}}}if(!l){k=j}break;case f.REMOVE_ALL_JOB_ARGUMENTS:if(j.configuration.arguments&&(j.configuration.arguments.length>0)){k=d.shallowCopy(j);delete k.configuration.arguments;k.persistenceStatus=e.PersistenceStatus.DIRTY}else{k=j}break;case f.SET_JOB_COMMAND:k=d.setStateProperty(j,"configuration.command",h.value,false);break;default:k=j;break}return k}a["default"]=c;return a});
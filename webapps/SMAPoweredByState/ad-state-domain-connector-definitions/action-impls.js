/*!  Copyright 2017 Dassault Systemes. All rights reserved. */
define(["DS/SMAPoweredByState/ad-state-utils","DS/SMAPoweredByState/ad-state-wc-adapter","DS/SMAPoweredByState/ad-state-domain-connector-definitions/selectors","UWA/Class/Promise"],function(e,b,f,c){var a={};var d=window.Promise||c;a.getConnectorDefinitions=function(){return new d(function(i,h){var j=function(l){var k=JSON.parse(l.response),n=[],m;if(k){n=k.map(function(o){m={id:o.physicalid,title:o.Title,connectorKind:o["Connector Kind"],appName:o["Application Name"],appVersion:o["Application Version"]};if(typeof o.connectoroptions!=="undefined"&&o.connectoroptions){m.options=o.connectoroptions}return m})}i(n)},g=function(k){h(e.buildError(f.ErrorCodes.CONNECTOR_DEFINITIONS_WS_ERROR,k))};b.callSMAProcService({uri:"/connectors/options/",onComplete:j,onError:g,sessionTimeoutInfo:{handler:h,context:null}})})};return a});
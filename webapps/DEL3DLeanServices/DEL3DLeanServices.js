define("DS/DEL3DLeanServices/ErrorHandler",["UWA/Core","pluginDS!DS/VENMarionette/backbone.marionette.3.5.1/backbone.marionette","DS/Logger/Logger"],function(f,e,c){var b;var a=e.Object.extend({name:"ErrorHandler",constructor:function a(){e.Object.prototype.constructor.apply(this,arguments)},initialize:function(){if(!f.is(this._logger)){this._logger=c.getLogger(a)}this._logs=[];this._overrideDSLogger();this._listenError()},getErrorCode:function(){var g="";return g},downloadErrorReport:function(){var g=document.createElement("a");g.download=this._getReportName();g.href="data:text/plain;charset=utf-8,"+this._getErrorReport();g.click()},_overrideDSLogger:function(){var h=this;var i=["log","debug","error","warn","info"];var g=c.getLogger;c.getLogger=function(k){var j=g(k);i.forEach(function(m){var l=j[m];j[m]=function(){h._logs.push(new Date()+" : "+m+" : \t"+j.name+" : \t"+arguments[0]);l.apply(j,arguments)}});return j}},_getReportName:function(){var g=new Date();return"ErrorReport."+g.getYear()+"_"+g.getMonth()+"_"+g.getDay()+"."+g.getHours()+"_"+g.getMinutes()+"_"+g.getSeconds()+".txt"},_getErrorReport:function(){return this._logs.join("\r\n")},_listenError:function(){var g=this;window.addEventListener("error",function(j){j=j.error||j;var h=j.stack;var k="\n+==========================================\n";var i=new Date();if(i){k+="|\n|\t"+i}if(j.message){k+="\n|\n|\t"+j.message}if(h){k+="\n|\n|\t"+h}k+="\n|\n+==========================================\n";g._logs.push(k);g._logger.error(k)})}});function d(){if(!f.is(b)){b=new a()}return b}return d()});define("DS/DEL3DLeanServices/EncodingParser",["pluginDS!DS/VENBackbone/backbone.1.3.3/backbone"],function(b){var a={parseBase64:function(c){var e=null;var d=c.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,(.*)/);if(d.length<3){e={error:"TODO NLS"}}else{e={mimeType:d[1],content:atob(d[2])}}return e},parseXML:function(c){var e=null;var d=null;if(window.DOMParser){e=new DOMParser();d=e.parseFromString(c,"text/xml")}else{d=new ActiveXObject("Microsoft.XMLDOM");d.async=false;d.loadXML(c)}return d},parseBase64XML:function(d){var c=a.parseBase64(d);if(c.content&&c.mimeType==="application/xml"){c.content=a.parseXML(c.content)}else{}return c},serializeXML:function(e){var c=new XMLSerializer();var d=c.serializeToString(e);return d},xmlAsCollection:function(c,e,h){var j=c.getElementsByTagName(e);var i=0;h=h?h:new b.Collection();for(i=0;i<j.length;i++){var f=j[i];var g=new b.Model();var k=0;for(k=0;k<f.attributes.length;k++){var d=f.attributes[k];var m=d.name;var l=d.value;g.set(m,l)}h.add(g)}return h}};return a});
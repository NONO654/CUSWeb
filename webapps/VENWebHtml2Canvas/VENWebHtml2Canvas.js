define("DS/VENWebHtml2Canvas/Html2Canvas",["UWA/Class","UWA/Element"],function(b,a){(function(aX,ae,ad,G,aj,J){
/*!
         * @overview es6-promise - a tiny implementation of Promises/A+.
         * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
         * @license   Licensed under MIT license
         *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
         * @version   2.0.1
         */
(function(){function bz(bL,bK){bE[bG]=bL;bE[bG+1]=bK;bG+=2;2===bG&&bC()}function bx(bK){return"function"===typeof bK}function bs(){return function(){process.nextTick(bv)}}function br(){var bL=0,bK=new bA(bv),bM=ae.createTextNode("");bK.observe(bM,{characterData:!0});return function(){bM.data=bL=++bL%2}}function bp(){var bK=new MessageChannel;bK.port1.onmessage=bv;return function(){bK.port2.postMessage(0)}}function bm(){return function(){setTimeout(bv,1)}}function bv(){for(var bK=0;bK<bG;bK+=2){(0,bE[bK])(bE[bK+1]),bE[bK]=void 0,bE[bK+1]=void 0}bG=0}function bD(){}function bl(bL,bK,bO,bN){try{bL.call(bK,bO,bN)}catch(bM){return bM}}function bj(bL,bK,bM){bz(function(bN){var bP=!1,bO=bl(bM,bK,function(bQ){bP||(bP=!0,bK!==bQ?bB(bN,bQ):bF(bN,bQ))},function(bQ){bP||(bP=!0,bJ(bN,bQ))});!bP&&bO&&(bP=!0,bJ(bN,bO))},bL)}function bh(bL,bK){1===bK.a?bF(bL,bK.b):2===bL.a?bJ(bL,bK.b):bt(bK,void 0,function(bM){bB(bL,bM)},function(bM){bJ(bL,bM)})}function bB(bL,bK){if(bL===bK){bJ(bL,new TypeError("You cannot resolve a promise with itself"))}else{if("function"===typeof bK||"object"===typeof bK&&null!==bK){if(bK.constructor===bL.constructor){bh(bL,bK)}else{var bN;try{bN=bK.then}catch(bM){bq.error=bM,bN=bq}bN===bq?bJ(bL,bq.error):void 0===bN?bF(bL,bK):bx(bN)?bj(bL,bK,bN):bF(bL,bK)}}else{bF(bL,bK)}}}function bg(bK){bK.f&&bK.f(bK.b);bn(bK)}function bF(bL,bK){void 0===bL.a&&(bL.b=bK,bL.a=1,0!==bL.e.length&&bz(bn,bL))}function bJ(bL,bK){void 0===bL.a&&(bL.a=2,bL.b=bK,bz(bg,bL))}function bt(bL,bK,bP,bO){var bN=bL.e,bM=bN.length;bL.f=null;bN[bM]=bK;bN[bM+1]=bP;bN[bM+2]=bO;0===bM&&bL.a&&bz(bn,bL)}function bn(bL){var bK=bL.e,bQ=bL.a;if(0!==bK.length){for(var bP,bO,bN=bL.b,bM=0;bM<bK.length;bM+=3){bP=bK[bM],bO=bK[bM+bQ],bP?by(bQ,bP,bO,bN):bO(bN)}bL.e.length=0}}function bw(){this.error=null}function by(bT,bS,bR,bQ){var bP=bx(bR),bO,bM,bN,bL;if(bP){try{bO=bR(bQ)}catch(bK){bk.error=bK,bO=bk}bO===bk?(bL=!0,bM=bO.error,bO=null):bN=!0;if(bS===bO){bJ(bS,new TypeError("A promises callback cannot return that same promise."));return}}else{bO=bQ,bN=!0}void 0===bS.a&&(bP&&bN?bB(bS,bO):bL?bJ(bS,bM):1===bT?bF(bS,bO):2===bT&&bJ(bS,bO))}function bf(bL,bK){try{bK(function(bN){bB(bL,bN)},function(bN){bJ(bL,bN)})}catch(bM){bJ(bL,bM)}}function bH(bL,bK,bN,bM){this.n=bL;this.c=new bL(bD,bM);this.i=bN;this.o(bK)?(this.m=bK,this.d=this.length=bK.length,this.l(),0===this.length?bF(this.c,this.b):(this.length=this.length||0,this.k(),0===this.d&&bF(this.c,this.b))):bJ(this.c,this.p())}function bI(bK){be++;this.b=this.a=void 0;this.e=[];if(bD!==bK){if(!bx(bK)){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}if(!(this instanceof bI)){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}bf(this,bK)}}var bu=Array.isArray?Array.isArray:function(bK){return"[object Array]"===Object.prototype.toString.call(bK)},bG=0,bo="undefined"!==typeof aX?aX:{},bA=bo.MutationObserver||bo.WebKitMutationObserver,bo="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,bE=Array(1000),bC;bC="undefined"!==typeof process&&"[object process]"==={}.toString.call(process)?bs():bA?br():bo?bp():bm();var bq=new bw,bk=new bw;bH.prototype.o=function(bK){return bu(bK)};bH.prototype.p=function(){return Error("Array Methods must be provided an Array")};bH.prototype.l=function(){this.b=Array(this.length)};bH.prototype.k=function(){for(var bL=this.length,bK=this.c,bN=this.m,bM=0;void 0===bK.a&&bM<bL;bM++){this.j(bN[bM],bM)}};bH.prototype.j=function(bL,bK){var bM=this.n;"object"===typeof bL&&null!==bL?bL.constructor===bM&&void 0!==bL.a?(bL.f=null,this.g(bL.a,bK,bL.b)):this.q(bM.resolve(bL),bK):(this.d--,this.b[bK]=this.h(bL))};bH.prototype.g=function(bL,bK,bN){var bM=this.c;void 0===bM.a&&(this.d--,this.i&&2===bL?bJ(bM,bN):this.b[bK]=this.h(bN));0===this.d&&bF(bM,this.b)};bH.prototype.h=function(bK){return bK};bH.prototype.q=function(bL,bK){var bM=this;bt(bL,void 0,function(bN){bM.g(1,bK,bN)},function(bN){bM.g(2,bK,bN)})};var be=0;bI.all=function(bL,bK){return(new bH(this,bL,!0,bK)).c};bI.race=function(bL,bK){function bQ(bR){bB(bO,bR)}function bP(bR){bJ(bO,bR)}var bO=new this(bD,bK);if(!bu(bL)){return(bJ(bO,new TypeError("You must pass an array to race.")),bO)}for(var bN=bL.length,bM=0;void 0===bO.a&&bM<bN;bM++){bt(this.resolve(bL[bM]),void 0,bQ,bP)}return bO};bI.resolve=function(bL,bK){if(bL&&"object"===typeof bL&&bL.constructor===this){return bL}var bM=new this(bD,bK);bB(bM,bL);return bM};bI.reject=function(bL,bK){var bM=new this(bD,bK);bJ(bM,bL);return bM};bI.prototype={constructor:bI,then:function(bL,bK){var bP=this.a;if(1===bP&&!bL||2===bP&&!bK){return this}var bO=new this.constructor(bD),bN=this.b;if(bP){var bM=arguments[bP-1];bz(function(){by(bP,bO,bM,bN)})}else{bt(this,bO,bL,bK)}return bO},"catch":function(bK){return this.then(null,bK)}};var bi={Promise:bI,polyfill:function(){var bK;bK="undefined"!==typeof G?G:"undefined"!==typeof aX&&aX.document?aX:self;"Promise" in bK&&"resolve" in bK.Promise&&"reject" in bK.Promise&&"all" in bK.Promise&&"race" in bK.Promise&&function(){var bL;new bK.Promise(function(bM){bL=bM});return bx(bL)}()||(bK.Promise=bI)}};"function"===typeof aj&&aj.amd?aj(function(){return bi}):"undefined"!==typeof module&&module.exports?module.exports=bi:"undefined"!==typeof this&&(this.ES6Promise=bi)}).call(aX);if(aX){aX.ES6Promise.polyfill()}if(typeof(ae)==="undefined"||typeof(Object.create)!=="function"||typeof(ae.createElement("canvas").getContext)!=="function"){(aX||module.exports).html2canvas=function(){return Promise.reject("No canvas support")};return;
/*! https://mths.be/punycode v1.3.1 by @mathias */
}(function(bD){var bt=typeof ad=="object"&&ad&&!ad.nodeType&&ad;var bL=typeof module=="object"&&module&&!module.nodeType&&module;var bC=typeof G=="object"&&G;if(bC.global===bC||bC.window===bC||bC.self===bC){bD=bC}var bi,bw=2147483647,bp=36,br=1,bu=26,bm=38,bq=700,bs=72,bl=128,bJ="-",bz=/^xn--/,bh=/[^\x20-\x7E]/,be=/[\x2E\u3002\uFF0E\uFF61]/g,bv={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},bk=bp-br,bF=Math.floor,bB=String.fromCharCode,bK;function bE(bM){throw RangeError(bv[bM])}function bH(bP,bN){var bO=bP.length;var bM=[];while(bO--){bM[bO]=bN(bP[bO])}return bM}function bg(bN,bO){var bQ=bN.split("@");var bM="";if(bQ.length>1){bM=bQ[0]+"@";bN=bQ[1]}var bR=bN.split(be);var bP=bH(bR,bO).join(".");return bM+bP}function bo(bP){var bO=[],bN=0,bQ=bP.length,bR,bM;while(bN<bQ){bR=bP.charCodeAt(bN++);if(bR>=55296&&bR<=56319&&bN<bQ){bM=bP.charCodeAt(bN++);if((bM&64512)==56320){bO.push(((bR&1023)<<10)+(bM&1023)+65536)}else{bO.push(bR);bN--}}else{bO.push(bR)}}return bO}function bG(bM){return bH(bM,function(bO){var bN="";if(bO>65535){bO-=65536;bN+=bB(bO>>>10&1023|55296);bO=56320|bO&1023}bN+=bB(bO);return bN}).join("")}function bj(bM){if(bM-48<10){return bM-22}if(bM-65<26){return bM-65}if(bM-97<26){return bM-97}return bp}function bA(bN,bM){return bN+22+75*(bN<26)-((bM!=0)<<5)}function bf(bP,bN,bO){var bM=0;bP=bO?bF(bP/bq):bP>>1;bP+=bF(bP/bN);for(;bP>bk*bu>>1;bM+=bp){bP=bF(bP/bk)}return bF(bM+(bk+1)*bP/(bP+bm))}function by(bY){var bO=[],bR=bY.length,bT,bU=0,bN=bl,bV=bs,bQ,bS,bW,bM,bZ,bP,bX,b1,b0;bQ=bY.lastIndexOf(bJ);if(bQ<0){bQ=0}for(bS=0;bS<bQ;++bS){if(bY.charCodeAt(bS)>=128){bE("not-basic")}bO.push(bY.charCodeAt(bS))}for(bW=bQ>0?bQ+1:0;bW<bR;){for(bM=bU,bZ=1,bP=bp;;bP+=bp){if(bW>=bR){bE("invalid-input")}bX=bj(bY.charCodeAt(bW++));if(bX>=bp||bX>bF((bw-bU)/bZ)){bE("overflow")}bU+=bX*bZ;b1=bP<=bV?br:(bP>=bV+bu?bu:bP-bV);if(bX<b1){break}b0=bp-b1;if(bZ>bF(bw/b0)){bE("overflow")}bZ*=b0}bT=bO.length+1;bV=bf(bU-bM,bT,bM==0);if(bF(bU/bT)>bw-bN){bE("overflow")}bN+=bF(bU/bT);bU%=bT;bO.splice(bU++,0,bN)}return bG(bO)}function bn(bY){var bP,b0,bV,bN,bW,bU,bQ,bM,bT,b2,bZ,bO=[],bS,bR,b1,bX;bY=bo(bY);bS=bY.length;bP=bl;b0=0;bW=bs;for(bU=0;bU<bS;++bU){bZ=bY[bU];if(bZ<128){bO.push(bB(bZ))}}bV=bN=bO.length;if(bN){bO.push(bJ)}while(bV<bS){for(bQ=bw,bU=0;bU<bS;++bU){bZ=bY[bU];if(bZ>=bP&&bZ<bQ){bQ=bZ}}bR=bV+1;if(bQ-bP>bF((bw-b0)/bR)){bE("overflow")}b0+=(bQ-bP)*bR;bP=bQ;for(bU=0;bU<bS;++bU){bZ=bY[bU];if(bZ<bP&&++b0>bw){bE("overflow")}if(bZ==bP){for(bM=b0,bT=bp;;bT+=bp){b2=bT<=bW?br:(bT>=bW+bu?bu:bT-bW);if(bM<b2){break}bX=bM-b2;b1=bp-b2;bO.push(bB(bA(b2+bX%b1,0)));bM=bF(bX/b1)}bO.push(bB(bA(bM,0)));bW=bf(b0,bR,bV==bN);b0=0;++bV}}++b0;++bP}return bO.join("")}function bx(bM){return bg(bM,function(bN){return bz.test(bN)?by(bN.slice(4).toLowerCase()):bN})}function bI(bM){return bg(bM,function(bN){return bh.test(bN)?"xn--"+bn(bN):bN})}bi={version:"1.3.1",ucs2:{decode:bo,encode:bG},decode:by,encode:bn,toASCII:bI,toUnicode:bx};if(typeof aj=="function"&&typeof aj.amd=="object"&&aj.amd){aj("punycode",function(){return bi})}else{if(bt&&bL){if(module.exports==bt){bL.exports=bi}else{for(bK in bi){bi.hasOwnProperty(bK)&&(bt[bK]=bi[bK])}}}else{bD.punycode=bi}}}(this));var w="data-html2canvas-node";var a7="data-html2canvas-canvas-clone";var v=0;var aT=0;aX.html2canvas=function(bh,bg){var bf=aT++;bg=bg||{};if(bg.logging){aX.html2canvas.logging=true;aX.html2canvas.start=Date.now()}bg.async=typeof(bg.async)==="undefined"?true:bg.async;bg.allowTaint=typeof(bg.allowTaint)==="undefined"?false:bg.allowTaint;bg.removeContainer=typeof(bg.removeContainer)==="undefined"?true:bg.removeContainer;bg.javascriptEnabled=typeof(bg.javascriptEnabled)==="undefined"?false:bg.javascriptEnabled;bg.imageTimeout=typeof(bg.imageTimeout)==="undefined"?10000:bg.imageTimeout;bg.renderer=typeof(bg.renderer)==="function"?bg.renderer:h;bg.strict=!!bg.strict;if(typeof(bh)==="string"){if(typeof(bg.proxy)!=="string"){return Promise.reject("Proxy must be used when rendering url")}var bi=bg.width!=null?bg.width:aX.innerWidth;var be=bg.height!=null?bg.height:aX.innerHeight;return ak(aS(bh),bg.proxy,ae,bi,be,bg).then(function(bk){return aV(bk.contentWindow.document.documentElement,bk,bg,bi,be)})}var bj=((bh===J)?[ae.documentElement]:((bh.length)?bh:[bh]))[0];bj.setAttribute(w+bf,bf);return aM(bj.ownerDocument,bg,bj.ownerDocument.defaultView.innerWidth,bj.ownerDocument.defaultView.innerHeight,bf).then(function(bk){if(typeof(bg.onrendered)==="function"){k("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas");bg.onrendered(bk)}return bk})};aX.html2canvas.punycode=this.punycode;aX.html2canvas.proxy={};function aM(bf,bg,bh,bi,be){return K(bf,bf,bh,bi,bg,bf.defaultView.pageXOffset,bf.defaultView.pageYOffset).then(function(bk){k("Document cloned");var bl=w+be;var bj="["+bl+"='"+be+"']";bf.querySelector(bj).removeAttribute(bl);var bo=bk.contentWindow;var bn=bo.document.querySelector(bj);var bm=(typeof(bg.onclone)==="function")?Promise.resolve(bg.onclone(bo.document)):Promise.resolve(true);return bm.then(function(){return aV(bn,bk,bg,bh,bi)})})}function aV(bk,bh,bq,bj,bf){var bm=bh.contentWindow;var bo=new aF(bm.document);var bl=new T(bq,bo);var be=aU(bk);var bi=bq.type==="view"?bj:X(bm.document);var bp=bq.type==="view"?bf:a8(bm.document);var bn=new bq.renderer(bi,bp,bl,bq,ae);var bg=new ai(bk,bn,bo,bl,bq);return bg.ready.then(function(){k("Finished rendering");var br;if(bq.type==="view"){br=W(bn.canvas,{width:bn.canvas.width,height:bn.canvas.height,top:0,left:0,x:0,y:0})}else{if(bk===bm.document.body||bk===bm.document.documentElement||bq.canvas!=null){br=bn.canvas}else{br=W(bn.canvas,{width:bq.width!=null?bq.width:be.width,height:bq.height!=null?bq.height:be.height,top:be.top,left:be.left,x:bm.pageXOffset,y:bm.pageYOffset})}}S(bh,bq);return br})}function S(be,bf){if(bf.removeContainer){be.parentNode.removeChild(be);k("Cleaned up container")}}function W(bg,bk){var bj=ae.createElement("canvas");var bf=Math.min(bg.width-1,Math.max(0,bk.left));var be=Math.min(bg.width,Math.max(1,bk.left+bk.width));var bi=Math.min(bg.height-1,Math.max(0,bk.top));var bh=Math.min(bg.height,Math.max(1,bk.top+bk.height));bj.width=bk.width;bj.height=bk.height;k("Cropping canvas at:","left:",bk.left,"top:",bk.top,"width:",(be-bf),"height:",(bh-bi));k("Resulting crop with width",bk.width,"and height",bk.height," with x",bf,"and y",bi);bj.getContext("2d").drawImage(bg,bf,bi,be-bf,bh-bi,bk.x,bk.y,be-bf,bh-bi);return bj}function X(be){return Math.max(Math.max(be.body.scrollWidth,be.documentElement.scrollWidth),Math.max(be.body.offsetWidth,be.documentElement.offsetWidth),Math.max(be.body.clientWidth,be.documentElement.clientWidth))}function a8(be){return Math.max(Math.max(be.body.scrollHeight,be.documentElement.scrollHeight),Math.max(be.body.offsetHeight,be.documentElement.offsetHeight),Math.max(be.body.clientHeight,be.documentElement.clientHeight))}function am(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}function Y(){return ae.documentMode&&ae.documentMode<=9}function s(bf,be){var bh=bf.nodeType===3?ae.createTextNode(bf.nodeValue):bf.cloneNode(false);var bg=bf.firstChild;while(bg){if(be===true||bg.nodeType!==1||bg.nodeName!=="SCRIPT"){bh.appendChild(s(bg,be))}bg=bg.nextSibling}return bh}function K(bl,bj,bf,bk,bm,bh,bg){B(bl);var bi=Y()?s(bl.documentElement,bm.javascriptEnabled):bl.documentElement.cloneNode(true);var be=bj.createElement("iframe");be.className="html2canvas-container";be.style.visibility="hidden";be.style.position="fixed";be.style.left="-10000px";be.style.top="0px";be.style.border="0";be.width=bf;be.height=bk;be.scrolling="no";bj.body.appendChild(be);return new Promise(function(bo){var bn=be.contentWindow.document;aK(bl.documentElement,bi,"textarea");aK(bl.documentElement,bi,"select");be.contentWindow.onload=be.onload=function(){var bp=setInterval(function(){if(bn.body.childNodes.length>0){aJ(bl,bn);clearInterval(bp);if(bm.type==="view"){be.contentWindow.scrollTo(bh,bg)}bo(be)}},50)};bn.open();bn.write("<!DOCTYPE html><html></html>");ax(bl,bh,bg);bn.replaceChild(bm.javascriptEnabled===true?bn.adoptNode(bi):t(bn.adoptNode(bi)),bn.documentElement);bn.close()})}function aK(be,bk,bj){var bi=be.getElementsByTagName(bj);var bf=bk.getElementsByTagName(bj);var bh=bi.length;for(var bg=0;bg<bh;bg++){bf[bg].value=bi[bg].value}}function ax(bf,be,bg){if(bf.defaultView&&(be!==bf.defaultView.pageXOffset||bg!==bf.defaultView.pageYOffset)){bf.defaultView.scrollTo(be,bg)}}function ak(bj,bh,bf,bi,be,bg){return new O(bj,bh,aX.document).then(aW(bj)).then(function(bk){return K(bk,bf,bi,be,bg,0,0)})}function aW(be){return function(bh){var bl=new DOMParser(),bk;try{bk=bl.parseFromString(bh,"text/html")}catch(bj){k("DOMParser not supported, falling back to createHTMLDocument");bk=ae.implementation.createHTMLDocument("");try{bk.open();bk.write(bh);bk.close()}catch(bg){k("createHTMLDocument write not supported, falling back to document.body.innerHTML");bk.body.innerHTML=bh}}var bf=bk.querySelector("base");if(!bf||!bf.href.host){var bi=bk.createElement("base");bi.href=be;bk.head.insertBefore(bi,bk.head.firstChild)}return bk}}function B(be){[].slice.call(be.querySelectorAll("canvas"),0).forEach(function(bf){bf.setAttribute(a7,"canvas-"+v++)})}function aJ(be,bf){[].slice.call(be.querySelectorAll("["+a7+"]"),0).forEach(function(bg){try{var bh=bf.querySelector("["+a7+'="'+bg.getAttribute(a7)+'"]');if(bh){bh.width=bg.width;bh.height=bg.height;bh.getContext("2d").putImageData(bg.getContext("2d").getImageData(0,0,bg.width,bg.height),0,0)}}catch(bi){k("Unable to copy canvas content from",bg,bi)}bg.removeAttribute(a7)})}function t(be){[].slice.call(be.childNodes,0).filter(ar).forEach(function(bf){if(bf.tagName==="SCRIPT"){be.removeChild(bf)}else{t(bf)}});return be}function ar(be){return be.nodeType===Node.ELEMENT_NODE}function aS(be){var bf=ae.createElement("a");bf.href=be;bf.href=bf.href;return bf}function L(bf){this.r=0;this.g=0;this.b=0;this.a=null;var be=this.fromArray(bf)||this.namedColor(bf)||this.rgb(bf)||this.rgba(bf)||this.hex6(bf)||this.hex3(bf)}L.prototype.darken=function(bf){var be=1-bf;return new L([Math.round(this.r*be),Math.round(this.g*be),Math.round(this.b*be),this.a])};L.prototype.isTransparent=function(){return this.a===0};L.prototype.isBlack=function(){return this.r===0&&this.g===0&&this.b===0};L.prototype.fromArray=function(be){if(Array.isArray(be)){this.r=Math.min(be[0],255);this.g=Math.min(be[1],255);this.b=Math.min(be[2],255);if(be.length>3){this.a=be[3]}}return(Array.isArray(be))};var a1=/^#([a-f0-9]{3})$/i;L.prototype.hex3=function(bf){var be=null;if((be=bf.match(a1))!==null){this.r=parseInt(be[1][0]+be[1][0],16);this.g=parseInt(be[1][1]+be[1][1],16);this.b=parseInt(be[1][2]+be[1][2],16)}return be!==null};var aZ=/^#([a-f0-9]{6})$/i;L.prototype.hex6=function(bf){var be=null;if((be=bf.match(aZ))!==null){this.r=parseInt(be[1].substring(0,2),16);this.g=parseInt(be[1].substring(2,4),16);this.b=parseInt(be[1].substring(4,6),16)}return be!==null};var aC=/^rgb\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3})\)$/;L.prototype.rgb=function(bf){var be=null;if((be=bf.match(aC))!==null){this.r=Number(be[1]);this.g=Number(be[2]);this.b=Number(be[3])}return be!==null};var Z=/^rgba\((\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3}) *, *(\d+\.?\d*)\)$/;L.prototype.rgba=function(bf){var be=null;if((be=bf.match(Z))!==null){this.r=Number(be[1]);this.g=Number(be[2]);this.b=Number(be[3]);this.a=Number(be[4])}return be!==null};L.prototype.toString=function(){return this.a!==null&&this.a!==1?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"};L.prototype.namedColor=function(bf){var be=aI[bf.toLowerCase()];if(be){this.r=be[0];this.g=be[1];this.b=be[2]}else{if(bf.toLowerCase()==="transparent"){this.r=this.g=this.b=this.a=0;return true}}return !!be};L.prototype.isColor=true;var aI={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function q(bf){this.src=bf;k("DummyImageContainer for",bf);if(!this.promise||!this.image){k("Initiating DummyImageContainer");q.prototype.image=new Image();var be=this.image;q.prototype.promise=new Promise(function(bh,bg){be.onload=bh;be.onerror=bg;be.src=am();if(be.complete===true){bh(be)}})}}function aY(bj,bh){var be=ae.createElement("div"),bf=ae.createElement("img"),bi=ae.createElement("span"),bl="Hidden Text",bk,bg;be.style.visibility="hidden";be.style.fontFamily=bj;be.style.fontSize=bh;be.style.margin=0;be.style.padding=0;ae.body.appendChild(be);bf.src=am();bf.width=1;bf.height=1;bf.style.margin=0;bf.style.padding=0;bf.style.verticalAlign="baseline";bi.style.fontFamily=bj;bi.style.fontSize=bh;bi.style.margin=0;bi.style.padding=0;bi.appendChild(ae.createTextNode(bl));be.appendChild(bi);be.appendChild(bf);bk=(bf.offsetTop-bi.offsetTop)+1;be.removeChild(bi);be.appendChild(ae.createTextNode(bl));be.style.lineHeight="normal";bf.style.verticalAlign="super";bg=(bf.offsetTop-be.offsetTop)+1;ae.body.removeChild(be);this.baseline=bk;this.lineWidth=1;this.middle=bg}function x(){this.data={}}x.prototype.getMetrics=function(bf,be){if(this.data[bf+"-"+be]===J){this.data[bf+"-"+be]=new aY(bf,be)}return this.data[bf+"-"+be]};function j(be,bi,bg){this.image=null;this.src=be;var bf=this;var bh=aU(be);this.promise=(!bi?this.proxyLoad(bg.proxy,bh,bg):new Promise(function(bj){if(be.contentWindow.document.URL==="about:blank"||be.contentWindow.document.documentElement==null){be.contentWindow.onload=be.onload=function(){bj(be)}}else{bj(be)}})).then(function(bj){return html2canvas(bj.contentWindow.document.documentElement,{type:"view",width:bj.width,height:bj.height,proxy:bg.proxy,javascriptEnabled:bg.javascriptEnabled,removeContainer:bg.removeContainer,allowTaint:bg.allowTaint,imageTimeout:bg.imageTimeout/2})}).then(function(bj){return bf.image=bj})}j.prototype.proxyLoad=function(bg,bh,bf){var be=this.src;return ak(be.src,bg,be.ownerDocument,bh.width,bh.height,bf)};function aL(be){this.src=be.value;this.colorStops=[];this.type=null;this.x0=0.5;this.y0=0.5;this.x1=0.5;this.y1=0.5;this.promise=Promise.resolve(true)}aL.prototype.TYPES={LINEAR:1,RADIAL:2};function l(bg,bf){this.src=bg;this.image=new Image();var be=this;this.tainted=null;this.promise=new Promise(function(bi,bh){be.image.onload=bi;be.image.onerror=bh;if(bf){be.image.crossOrigin="anonymous"}be.image.src=bg;if(be.image.complete===true){bi(be.image)}})}function T(be,bf){this.link=null;this.options=be;this.support=bf;this.origin=this.getOrigin(aX.location.href)}T.prototype.findImages=function(bf){var be=[];bf.reduce(function(bh,bg){switch(bg.node.nodeName){case"IMG":return bh.concat([{args:[bg.node.src],method:"url"}]);case"svg":case"IFRAME":return bh.concat([{args:[bg.node],method:bg.node.nodeName}])}return bh},[]).forEach(this.addImage(be,this.loadImage),this);return be};T.prototype.findBackgroundImage=function(be,bf){bf.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(be,this.loadImage),this);return be};T.prototype.addImage=function(be,bf){return function(bg){bg.args.forEach(function(bh){if(!this.imageExists(be,bh)){be.splice(0,0,bf.call(this,bg));k("Added image #"+(be.length),typeof(bh)==="string"?bh.substring(0,100):bh)}},this)}};T.prototype.hasImageBackground=function(be){return be.method!=="none"};T.prototype.loadImage=function(bf){if(bf.method==="url"){var be=bf.args[0];if(this.isSVG(be)&&!this.support.svg&&!this.options.allowTaint){return new e(be)}else{if(be.match(/data:image\/.*;base64,/i)){return new l(be.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),false)}else{if(this.isSameOrigin(be)||this.options.allowTaint===true||this.isSVG(be)){return new l(be,false)}else{if(this.support.cors&&!this.options.allowTaint&&this.options.useCORS){return new l(be,true)}else{if(this.options.proxy){return new Q(be,this.options.proxy)}else{return new q(be)}}}}}}else{if(bf.method==="linear-gradient"){return new a3(bf)}else{if(bf.method==="gradient"){return new aq(bf)}else{if(bf.method==="svg"){return new bb(bf.args[0],this.support.svg)}else{if(bf.method==="IFRAME"){return new j(bf.args[0],this.isSameOrigin(bf.args[0].src),this.options)}else{return new q(bf)}}}}}};T.prototype.isSVG=function(be){return be.substring(be.length-3).toLowerCase()==="svg"||e.prototype.isInline(be)};T.prototype.imageExists=function(be,bf){return be.some(function(bg){return bg.src===bf})};T.prototype.isSameOrigin=function(be){return(this.getOrigin(be)===this.origin)};T.prototype.getOrigin=function(be){var bf=this.link||(this.link=ae.createElement("a"));bf.href=be;bf.href=bf.href;return bf.protocol+bf.hostname+bf.port};T.prototype.getPromise=function(be){return this.timeout(be,this.options.imageTimeout)["catch"](function(){var bf=new q(be.src);return bf.promise.then(function(bg){be.image=bg})})};T.prototype.get=function(bf){var be=null;return this.images.some(function(bg){return(be=bg).src===bf})?be:null};T.prototype.fetch=function(be){this.images=be.reduce(a0(this.findBackgroundImage,this),this.findImages(be));this.images.forEach(function(bg,bf){bg.promise.then(function(){k("Succesfully loaded image #"+(bf+1),bg)},function(bh){k("Failed loading image #"+(bf+1),bg,bh)})});this.ready=Promise.all(this.images.map(this.getPromise,this));k("Finished searching images");return this};T.prototype.timeout=function(be,bf){var bh;var bg=Promise.race([be.promise,new Promise(function(bi,bj){bh=setTimeout(function(){k("Timed out loading image",be);bj(be)},bf)})]).then(function(bi){clearTimeout(bh);return bi});bg["catch"](function(){clearTimeout(bh)});return bg};function a3(bf){aL.apply(this,arguments);this.type=this.TYPES.LINEAR;var be=bf.args[0].match(this.stepRegExp)===null;if(be){bf.args[0].split(" ").reverse().forEach(function(bg){switch(bg){case"left":this.x0=0;this.x1=1;break;case"top":this.y0=0;this.y1=1;break;case"right":this.x0=1;this.x1=0;break;case"bottom":this.y0=1;this.y1=0;break;case"to":var bi=this.y0;var bh=this.x0;this.y0=this.y1;this.x0=this.x1;this.x1=bh;this.y1=bi;break}},this)}else{this.y0=0;this.y1=1}this.colorStops=bf.args.slice(be?1:0).map(function(bg){var bh=bg.match(this.stepRegExp);return{color:new L(bh[1]),stop:bh[3]==="%"?bh[2]/100:null}},this);if(this.colorStops[0].stop===null){this.colorStops[0].stop=0}if(this.colorStops[this.colorStops.length-1].stop===null){this.colorStops[this.colorStops.length-1].stop=1}this.colorStops.forEach(function(bg,bh){if(bg.stop===null){this.colorStops.slice(bh).some(function(bj,bi){if(bj.stop!==null){bg.stop=((bj.stop-this.colorStops[bh-1].stop)/(bi+1))+this.colorStops[bh-1].stop;return true}else{return false}},this)}},this)}a3.prototype=Object.create(aL.prototype);a3.prototype.stepRegExp=/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/;function k(){if(aX.html2canvas.logging&&aX.console&&aX.console.log){Function.prototype.bind.call(aX.console.log,(aX.console)).apply(aX.console,[(Date.now()-aX.html2canvas.start)+"ms","html2canvas:"].concat([].slice.call(arguments,0)))}}function aa(bf,be){this.node=bf;this.parent=be;this.stack=null;this.bounds=null;this.borders=null;this.clip=[];this.backgroundClip=[];this.offsetBounds=null;this.visible=null;this.computedStyles=null;this.colors={};this.styles={};this.backgroundImages=null;this.transformData=null;this.transformMatrix=null;this.isPseudoElement=false;this.opacity=null}aa.prototype.cloneTo=function(be){be.visible=this.visible;be.borders=this.borders;be.bounds=this.bounds;be.clip=this.clip;be.backgroundClip=this.backgroundClip;be.computedStyles=this.computedStyles;be.styles=this.styles;be.backgroundImages=this.backgroundImages;be.opacity=this.opacity};aa.prototype.getOpacity=function(){return this.opacity===null?(this.opacity=this.cssFloat("opacity")):this.opacity};aa.prototype.assignStack=function(be){this.stack=be;be.children.push(this)};aa.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:(this.css("display")!=="none"&&this.css("visibility")!=="hidden"&&!this.node.hasAttribute("data-html2canvas-ignore")&&(this.node.nodeName!=="INPUT"||this.node.getAttribute("type")!=="hidden"))};aa.prototype.css=function(be){if(!this.computedStyles){this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)}return this.styles[be]||(this.styles[be]=this.computedStyles[be])};aa.prototype.prefixedCss=function(be){var bg=["webkit","moz","ms","o"];var bf=this.css(be);if(bf===J){bg.some(function(bh){bf=this.css(bh+be.substr(0,1).toUpperCase()+be.substr(1));return bf!==J},this)}return bf===J?null:bf};aa.prototype.computedStyle=function(be){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,be)};aa.prototype.cssInt=function(be){var bf=parseInt(this.css(be),10);return(isNaN(bf))?0:bf};aa.prototype.color=function(be){return this.colors[be]||(this.colors[be]=new L(this.css(be)))};aa.prototype.cssFloat=function(be){var bf=parseFloat(this.css(be));return(isNaN(bf))?0:bf};aa.prototype.fontWeight=function(){var be=this.css("fontWeight");switch(parseInt(be,10)){case 401:be="bold";break;case 400:be="normal";break}return be};aa.prototype.parseClip=function(){var be=this.css("clip").match(this.CLIP);if(be){return{top:parseInt(be[1],10),right:parseInt(be[2],10),bottom:parseInt(be[3],10),left:parseInt(be[4],10)}}return null};aa.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=V(this.css("backgroundImage")))};aa.prototype.cssList=function(bg,be){var bf=(this.css(bg)||"").split(",");bf=bf[be||0]||bf[0]||"auto";bf=bf.trim().split(" ");if(bf.length===1){bf=[bf[0],bf[0]]}return bf};aa.prototype.parseBackgroundSize=function(bk,bl,bg){var bi=this.cssList("backgroundSize",bg);var bj,be;if(af(bi[0])){bj=bk.width*parseFloat(bi[0])/100}else{if(/contain|cover/.test(bi[0])){var bh=bk.width/bk.height,bf=bl.width/bl.height;return(bh<bf^bi[0]==="contain")?{width:bk.height*bf,height:bk.height}:{width:bk.width,height:bk.width/bf}}else{bj=parseInt(bi[0],10)}}if(bi[0]==="auto"&&bi[1]==="auto"){be=bl.height}else{if(bi[1]==="auto"){be=bj/bl.width*bl.height}else{if(af(bi[1])){be=bk.height*parseFloat(bi[1])/100}else{be=parseInt(bi[1],10)}}}if(bi[0]==="auto"){bj=be/bl.height*bl.width}return{width:bj,height:be}};aa.prototype.parseBackgroundPosition=function(bh,bk,bg,bf){var be=this.cssList("backgroundPosition",bg);var bj,bi;if(af(be[0])){bj=(bh.width-(bf||bk).width)*(parseFloat(be[0])/100)}else{bj=parseInt(be[0],10)}if(be[1]==="auto"){bi=bj/bk.width*bk.height}else{if(af(be[1])){bi=(bh.height-(bf||bk).height)*parseFloat(be[1])/100}else{bi=parseInt(be[1],10)}}if(be[0]==="auto"){bj=bi/bk.height*bk.width}return{left:bj,top:bi}};aa.prototype.parseBackgroundRepeat=function(be){return this.cssList("backgroundRepeat",be)[0]};aa.prototype.parseTextShadows=function(){var bi=this.css("textShadow");var bf=[];if(bi&&bi!=="none"){var bh=bi.match(this.TEXT_SHADOW_PROPERTY);for(var be=0;bh&&(be<bh.length);be++){var bg=bh[be].match(this.TEXT_SHADOW_VALUES);bf.push({color:new L(bg[0]),offsetX:bg[1]?parseFloat(bg[1].replace("px","")):0,offsetY:bg[2]?parseFloat(bg[2].replace("px","")):0,blur:bg[3]?bg[3].replace("px",""):0})}}return bf};aa.prototype.parseTransform=function(){if(!this.transformData){if(this.hasTransform()){var bf=this.parseBounds();var be=this.prefixedCss("transformOrigin").split(" ").map(at).map(ab);be[0]+=bf.left;be[1]+=bf.top;this.transformData={origin:be,matrix:this.parseTransformMatrix()}}else{this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]}}}return this.transformData};aa.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var bf=this.prefixedCss("transform");var be=bf?u(bf.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=be?be:[1,0,0,1,0,0]}return this.transformMatrix};aa.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?E(this.node):aU(this.node))};aa.prototype.hasTransform=function(){return this.parseTransformMatrix().join(",")!=="1,0,0,1,0,0"||(this.parent&&this.parent.hasTransform())};aa.prototype.getValue=function(){var be=this.node.value||"";if(this.node.tagName==="SELECT"){be=an(this.node)}else{if(this.node.type==="password"){be=Array(be.length+1).join("\u2022")}}return be.length===0?(this.node.placeholder||""):be};aa.prototype.MATRIX_PROPERTY=/(matrix)\((.+)\)/;aa.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;aa.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;aa.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;function an(bf){var be=bf.options[bf.selectedIndex||0];return be?(be.text||""):""}function u(be){if(be&&be[1]==="matrix"){return be[2].split(",").map(function(bf){return parseFloat(bf.trim())})}}function af(be){return be.toString().indexOf("%")!==-1}function V(bn){var bg=" \r\n\t",bf,bh,bl,bq,bi,bj=[],bk=0,bo=0,be,bm;var bp=function(){if(bf){if(bh.substr(0,1)==='"'){bh=bh.substr(1,bh.length-2)}if(bh){bm.push(bh)}if(bf.substr(0,1)==="-"&&(bq=bf.indexOf("-",1)+1)>0){bl=bf.substr(0,bq);bf=bf.substr(bq)}bj.push({prefix:bl,method:bf.toLowerCase(),value:bi,args:bm,image:null})}bm=[];bf=bl=bh=bi=""};bm=[];bf=bl=bh=bi="";bn.split("").forEach(function(br){if(bk===0&&bg.indexOf(br)>-1){return}switch(br){case'"':if(!be){be=br}else{if(be===br){be=null}}break;case"(":if(be){break}else{if(bk===0){bk=1;bi+=br;return}else{bo++}}break;case")":if(be){break}else{if(bk===1){if(bo===0){bk=0;bi+=br;bp();return}else{bo--}}}break;case",":if(be){break}else{if(bk===0){bp();return}else{if(bk===1){if(bo===0&&!bf.match(/^url$/i)){bm.push(bh);bh="";bi+=br;return}}}}break}bi+=br;if(bk===0){bf+=br}else{bh+=br}});bp();return bj}function at(be){return be.replace("px","")}function ab(be){return parseFloat(be)}function aU(bf){if(bf.getBoundingClientRect){var bg=bf.getBoundingClientRect();var be=bf.offsetWidth==null?bg.width:bf.offsetWidth;return{top:bg.top,bottom:bg.bottom||(bg.top+bg.height),right:bg.left+be,left:bg.left,width:be,height:bf.offsetHeight==null?bg.height:bf.offsetHeight}}return{}}function E(bf){var be=bf.offsetParent?E(bf.offsetParent):{top:0,left:0};return{top:bf.offsetTop+be.top,bottom:bf.offsetTop+bf.offsetHeight+be.top,right:bf.offsetLeft+be.left+bf.offsetWidth,left:bf.offsetLeft+be.left,width:bf.offsetWidth,height:bf.offsetHeight}}function ai(bg,bk,bi,be,bf){k("Starting NodeParser");this.renderer=bk;this.options=bf;this.range=null;this.support=bi;this.renderQueue=[];this.stack=new ag(true,1,bg.ownerDocument,null);var bh=new aa(bg,null);if(bf.background){bk.rectangle(0,0,bk.width,bk.height,new L(bf.background))}if(bg===bg.ownerDocument.documentElement){var bj=new aa(bh.color("backgroundColor").isTransparent()?bg.ownerDocument.body:bg.ownerDocument.documentElement,null);bk.rectangle(0,0,bk.width,bk.height,bj.color("backgroundColor"))}bh.visibile=bh.isElementVisible();this.createPseudoHideStyles(bg.ownerDocument);this.disableAnimations(bg.ownerDocument);this.nodes=aQ([bh].concat(this.getChildren(bh)).filter(function(bl){return bl.visible=bl.isElementVisible()}).map(this.getPseudoElements,this));this.fontMetrics=new x();k("Fetched nodes, total:",this.nodes.length);k("Calculate overflow clips");this.calculateOverflowClips();k("Start fetching images");this.images=be.fetch(this.nodes.filter(aA));this.ready=this.images.ready.then(a0(function(){k("Images loaded, starting parsing");k("Creating stacking contexts");this.createStackingContexts();k("Sorting stacking contexts");this.sortStackingContexts(this.stack);this.parse(this.stack);k("Render queue created with "+this.renderQueue.length+" items");return new Promise(a0(function(bl){if(!bf.async){this.renderQueue.forEach(this.paint,this);bl()}else{if(typeof(bf.async)==="function"){bf.async.call(this,this.renderQueue,bl)}else{if(this.renderQueue.length>0){this.renderIndex=0;this.asyncRenderer(this.renderQueue,bl)}else{bl()}}}},this))},this))}ai.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(be){if(aA(be)){if(bd(be)){be.appendToDOM()}be.borders=this.parseBorders(be);var bg=(be.css("overflow")==="hidden")?[be.borders.clip]:[];var bf=be.parseClip();if(bf&&["absolute","fixed"].indexOf(be.css("position"))!==-1){bg.push([["rect",be.bounds.left+bf.left,be.bounds.top+bf.top,bf.right-bf.left,bf.bottom-bf.top]])}be.clip=ap(be)?be.parent.clip.concat(bg):bg;be.backgroundClip=(be.css("overflow")!=="hidden")?be.clip.concat([be.borders.clip]):be.clip;if(bd(be)){be.cleanDOM()}}else{if(F(be)){be.clip=ap(be)?be.parent.clip:[]}}if(!bd(be)){be.bounds=null}},this)};function ap(be){return be.parent&&be.parent.clip.length}ai.prototype.asyncRenderer=function(be,bf,bg){bg=bg||Date.now();this.paint(be[this.renderIndex++]);if(be.length===this.renderIndex){bf()}else{if(bg+20>Date.now()){this.asyncRenderer(be,bf,bg)}else{setTimeout(a0(function(){this.asyncRenderer(be,bf)},this),0)}}};ai.prototype.createPseudoHideStyles=function(be){this.createStyles(be,"."+A.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+A.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')};ai.prototype.disableAnimations=function(be){this.createStyles(be,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")};ai.prototype.createStyles=function(be,bf){var bg=be.createElement("style");bg.innerHTML=bf;be.body.appendChild(bg)};ai.prototype.getPseudoElements=function(be){var bf=[[be]];if(be.node.nodeType===Node.ELEMENT_NODE){var bg=this.getPseudoElement(be,":before");var bh=this.getPseudoElement(be,":after");if(bg){bf.push(bg)}if(bh){bf.push(bh)}}return aQ(bf)};function ay(be){return be.replace(/(\-[a-z])/g,function(bf){return bf.toUpperCase().replace("-","")})}ai.prototype.getPseudoElement=function(bf,bk){var be=bf.computedStyle(bk);if(!be||!be.content||be.content==="none"||be.content==="-moz-alt-content"||be.display==="none"){return null}var bi=o(be.content);var bg=bi.substr(0,3)==="url";var bj=ae.createElement(bg?"img":"html2canvaspseudoelement");var bn=new A(bj,bf,bk);for(var bh=be.length-1;bh>=0;bh--){var bl=ay(be.item(bh));bj.style[bl]=be[bl]}bj.className=A.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+A.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;if(bg){bj.src=V(bi)[0].args[0];return[bn]}else{var bm=ae.createTextNode(bi);bj.appendChild(bm);return[bn,new N(bm,bn)]}};ai.prototype.getChildren=function(be){return aQ([].filter.call(be.node.childNodes,az).map(function(bg){var bf=[bg.nodeType===Node.TEXT_NODE?new N(bg,be):new aa(bg,be)].filter(R);return bg.nodeType===Node.ELEMENT_NODE&&bf.length&&bg.tagName!=="TEXTAREA"?(bf[0].isElementVisible()?bf.concat(this.getChildren(bf[0])):[]):bf},this))};ai.prototype.newStackingContext=function(bg,bh){var bf=new ag(bh,bg.getOpacity(),bg.node,bg.parent);bg.cloneTo(bf);var be=bh?bf.getParentStack(this):bf.parent.stack;be.contexts.push(bf);bg.stack=bf};ai.prototype.createStackingContexts=function(){this.nodes.forEach(function(be){if(aA(be)&&(this.isRootElement(be)||i(be)||C(be)||this.isBodyWithTransparentRoot(be)||be.hasTransform())){this.newStackingContext(be,true)}else{if(aA(be)&&((aw(be)&&au(be))||ba(be)||D(be))){this.newStackingContext(be,false)}else{be.assignStack(be.parent.stack)}}},this)};ai.prototype.isBodyWithTransparentRoot=function(be){return be.node.nodeName==="BODY"&&be.parent.color("backgroundColor").isTransparent()};ai.prototype.isRootElement=function(be){return be.parent===null};ai.prototype.sortStackingContexts=function(be){be.contexts.sort(a6(be.contexts.slice(0)));be.contexts.forEach(this.sortStackingContexts,this)};ai.prototype.parseTextBounds=function(be){return function(bj,bf,bk){if(be.parent.css("textDecoration").substr(0,4)!=="none"||bj.trim().length!==0){if(this.support.rangeBounds&&!be.parent.hasTransform()){var bi=bk.slice(0,bf).join("").length;return this.getRangeBounds(be.node,bi,bj.length)}else{if(be.node&&typeof(be.node.data)==="string"){var bh=be.node.splitText(bj.length);var bg=this.getWrapperBounds(be.node,be.parent.hasTransform());be.node=bh;return bg}}}else{if(!this.support.rangeBounds||be.parent.hasTransform()){be.node=be.node.splitText(bj.length)}}return{}}};ai.prototype.getWrapperBounds=function(bi,be){var bj=bi.ownerDocument.createElement("html2canvaswrapper");var bf=bi.parentNode,bh=bi.cloneNode(true);bj.appendChild(bi.cloneNode(true));bf.replaceChild(bj,bi);var bg=be?E(bj):aU(bj);bf.replaceChild(bh,bj);return bg};ai.prototype.getRangeBounds=function(bg,bh,bf){var be=this.range||(this.range=bg.ownerDocument.createRange());be.setStart(bg,bh);be.setEnd(bg,bh+bf);return be.getBoundingClientRect()};function U(){}ai.prototype.parse=function(bj){var bk=bj.contexts.filter(aO);var bg=bj.children.filter(aA);var bh=bg.filter(a2(D));var bl=bh.filter(a2(aw)).filter(a2(d));var bi=bg.filter(a2(aw)).filter(D);var be=bh.filter(a2(aw)).filter(d);var bn=bj.contexts.concat(bh.filter(aw)).filter(au);var bm=bj.children.filter(F).filter(aR);var bf=bj.contexts.filter(av);bk.concat(bl).concat(bi).concat(be).concat(bn).concat(bm).concat(bf).forEach(function(bo){this.renderQueue.push(bo);if(a4(bo)){this.parse(bo);this.renderQueue.push(new U())}},this)};ai.prototype.paint=function(be){try{if(be instanceof U){this.renderer.ctx.restore()}else{if(F(be)){if(bd(be.parent)){be.parent.appendToDOM()}this.paintText(be);if(bd(be.parent)){be.parent.cleanDOM()}}else{this.paintNode(be)}}}catch(bf){k(bf);if(this.options.strict){throw bf}}};ai.prototype.paintNode=function(be){if(a4(be)){this.renderer.setOpacity(be.opacity);this.renderer.ctx.save();if(be.hasTransform()){this.renderer.setTransform(be.parseTransform())}}if(be.node.nodeName==="INPUT"&&be.node.type==="checkbox"){this.paintCheckbox(be)}else{if(be.node.nodeName==="INPUT"&&be.node.type==="radio"){this.paintRadio(be)}else{this.paintElement(be)}}};ai.prototype.paintElement=function(be){var bf=be.parseBounds();this.renderer.clip(be.backgroundClip,function(){this.renderer.renderBackground(be,bf,be.borders.borders.map(g))},this);this.renderer.clip(be.clip,function(){this.renderer.renderBorders(be.borders.borders)},this);this.renderer.clip(be.backgroundClip,function(){switch(be.node.nodeName){case"svg":case"IFRAME":var bg=this.images.get(be.node);if(bg){this.renderer.renderImage(be,bf,be.borders,bg)}else{k("Error loading <"+be.node.nodeName+">",be.node)}break;case"IMG":var bh=this.images.get(be.node.src);if(bh){this.renderer.renderImage(be,bf,be.borders,bh)}else{k("Error loading <img>",be.node.src)}break;case"CANVAS":this.renderer.renderImage(be,bf,be.borders,{image:be.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(be);break}},this)};ai.prototype.paintCheckbox=function(bg){var bf=bg.parseBounds();var bh=Math.min(bf.width,bf.height);var bj={width:bh-1,height:bh-1,top:bf.top,left:bf.left};var bi=[3,3];var be=[bi,bi,bi,bi];var bl=[1,1,1,1].map(function(bm){return{color:new L("#A5A5A5"),width:bm}});var bk=a9(bj,be,bl);this.renderer.clip(bg.backgroundClip,function(){this.renderer.rectangle(bj.left+1,bj.top+1,bj.width-2,bj.height-2,new L("#DEDEDE"));this.renderer.renderBorders(aH(bl,bj,bk,be));if(bg.node.checked){this.renderer.font(new L("#424242"),"normal","normal","bold",(bh-3)+"px","arial");this.renderer.text("\u2714",bj.left+bh/6,bj.top+bh-1)}},this)};ai.prototype.paintRadio=function(be){var bg=be.parseBounds();var bf=Math.min(bg.width,bg.height)-2;this.renderer.clip(be.backgroundClip,function(){this.renderer.circleStroke(bg.left+1,bg.top+1,bf,new L("#DEDEDE"),1,new L("#A5A5A5"));if(be.node.checked){this.renderer.circle(Math.ceil(bg.left+bf/4)+1,Math.ceil(bg.top+bf/4)+1,Math.floor(bf/2),new L("#424242"))}},this)};ai.prototype.paintFormValue=function(bf){var bi=bf.getValue();if(bi.length>0){var be=bf.node.ownerDocument;var bj=be.createElement("html2canvaswrapper");var bg=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];bg.forEach(function(bk){try{bj.style[bk]=bf.css(bk)}catch(bl){k("html2canvas: Parse: Exception caught in renderFormValue: "+bl.message)}});var bh=bf.parseBounds();bj.style.position="fixed";bj.style.left=bh.left+"px";bj.style.top=bh.top+"px";bj.textContent=bi;be.body.appendChild(bj);this.paintText(new N(bj.firstChild,bf));be.body.removeChild(bj)}};ai.prototype.paintText=function(bf){bf.applyTextTransform();var be=aX.html2canvas.punycode.ucs2.decode(bf.node.data);var bk=(!this.options.letterRendering||m(bf))&&!aG(bf.node.data)?M(be):be.map(function(bl){return aX.html2canvas.punycode.ucs2.encode([bl])});var bj=bf.parent.fontWeight();var bg=bf.parent.css("fontSize");var bh=bf.parent.css("fontFamily");var bi=bf.parent.parseTextShadows();this.renderer.font(bf.parent.color("color"),bf.parent.css("fontStyle"),bf.parent.css("fontVariant"),bj,bg,bh);if(bi.length){this.renderer.fontShadow(bi[0].color,bi[0].offsetX,bi[0].offsetY,bi[0].blur)}else{this.renderer.clearShadow()}this.renderer.clip(bf.parent.clip,function(){bk.map(this.parseTextBounds(bf),this).forEach(function(bm,bl){if(bm){this.renderer.text(bk[bl],bm.left,bm.bottom);this.renderTextDecoration(bf.parent,bm,this.fontMetrics.getMetrics(bh,bg))}},this)},this)};ai.prototype.renderTextDecoration=function(be,bg,bf){switch(be.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(bg.left,Math.round(bg.top+bf.baseline+bf.lineWidth),bg.width,1,be.color("color"));break;case"overline":this.renderer.rectangle(bg.left,Math.round(bg.top),bg.width,1,be.color("color"));break;case"line-through":this.renderer.rectangle(bg.left,Math.ceil(bg.top+bf.middle+bf.lineWidth),bg.width,1,be.color("color"));break}};var I={inset:[["darken",0.6],["darken",0.1],["darken",0.1],["darken",0.6]]};ai.prototype.parseBorders=function(bf){var bg=bf.parseBounds();var be=ac(bf);var bi=["Top","Right","Bottom","Left"].map(function(bl,bk){var bn=bf.css("border"+bl+"Style");var bj=bf.color("border"+bl+"Color");if(bn==="inset"&&bj.isBlack()){bj=new L([255,255,255,bj.a])}var bm=I[bn]?I[bn][bk]:null;return{width:bf.cssInt("border"+bl+"Width"),color:bm?bj[bm[0]](bm[1]):bj,args:null}});var bh=a9(bg,be,bi);return{clip:this.parseBackgroundClip(bf,bh,bi,be,bg),borders:aH(bi,bg,bh,be)}};function aH(bh,bf,bg,be){return bh.map(function(bj,bk){if(bj.width>0){var bm=bf.left;var bl=bf.top;var bn=bf.width;var bi=bf.height-(bh[2].width);switch(bk){case 0:bi=bh[0].width;bj.args=z({c1:[bm,bl],c2:[bm+bn,bl],c3:[bm+bn-bh[1].width,bl+bi],c4:[bm+bh[3].width,bl+bi]},be[0],be[1],bg.topLeftOuter,bg.topLeftInner,bg.topRightOuter,bg.topRightInner);break;case 1:bm=bf.left+bf.width-(bh[1].width);bn=bh[1].width;bj.args=z({c1:[bm+bn,bl],c2:[bm+bn,bl+bi+bh[2].width],c3:[bm,bl+bi],c4:[bm,bl+bh[0].width]},be[1],be[2],bg.topRightOuter,bg.topRightInner,bg.bottomRightOuter,bg.bottomRightInner);break;case 2:bl=(bl+bf.height)-(bh[2].width);bi=bh[2].width;bj.args=z({c1:[bm+bn,bl+bi],c2:[bm,bl+bi],c3:[bm+bh[3].width,bl],c4:[bm+bn-bh[3].width,bl]},be[2],be[3],bg.bottomRightOuter,bg.bottomRightInner,bg.bottomLeftOuter,bg.bottomLeftInner);break;case 3:bn=bh[3].width;bj.args=z({c1:[bm,bl+bi+bh[2].width],c2:[bm,bl],c3:[bm+bn,bl+bh[0].width],c4:[bm+bn,bl+bi]},be[3],be[0],bg.bottomLeftOuter,bg.bottomLeftInner,bg.topLeftOuter,bg.topLeftInner);break}}return bj})}ai.prototype.parseBackgroundClip=function(bf,bj,bk,be,bi){var bh=bf.css("backgroundClip"),bg=[];switch(bh){case"content-box":case"padding-box":aD(bg,be[0],be[1],bj.topLeftInner,bj.topRightInner,bi.left+bk[3].width,bi.top+bk[0].width);aD(bg,be[1],be[2],bj.topRightInner,bj.bottomRightInner,bi.left+bi.width-bk[1].width,bi.top+bk[0].width);aD(bg,be[2],be[3],bj.bottomRightInner,bj.bottomLeftInner,bi.left+bi.width-bk[1].width,bi.top+bi.height-bk[2].width);aD(bg,be[3],be[0],bj.bottomLeftInner,bj.topLeftInner,bi.left+bk[3].width,bi.top+bi.height-bk[2].width);break;default:aD(bg,be[0],be[1],bj.topLeftOuter,bj.topRightOuter,bi.left,bi.top);aD(bg,be[1],be[2],bj.topRightOuter,bj.bottomRightOuter,bi.left+bi.width,bi.top);aD(bg,be[2],be[3],bj.bottomRightOuter,bj.bottomLeftOuter,bi.left+bi.width,bi.top+bi.height);aD(bg,be[3],be[0],bj.bottomLeftOuter,bj.topLeftOuter,bi.left,bi.top+bi.height);break}return bg};function ao(bm,bl,bi,bh){var bk=4*((Math.sqrt(2)-1)/3);var bg=(bi)*bk,be=(bh)*bk,bj=bm+bi,bf=bl+bh;return{topLeft:H({x:bm,y:bf},{x:bm,y:bf-be},{x:bj-bg,y:bl},{x:bj,y:bl}),topRight:H({x:bm,y:bl},{x:bm+bg,y:bl},{x:bj,y:bf-be},{x:bj,y:bf}),bottomRight:H({x:bj,y:bl},{x:bj,y:bl+be},{x:bm+bg,y:bf},{x:bm,y:bf}),bottomLeft:H({x:bj,y:bf},{x:bj-bg,y:bf},{x:bm,y:bl+be},{x:bm,y:bl})}}function a9(bh,be,bg){var bl=bh.left,bi=bh.top,bq=bh.width,bp=bh.height,br=be[0][0],bk=be[0][1],bu=be[1][0],bn=be[1][1],bv=be[2][0],bo=be[2][1],bt=be[3][0],bm=be[3][1];var bj=bq-bu,bw=bp-bo,bf=bq-bv,bs=bp-bm;return{topLeftOuter:ao(bl,bi,br,bk).topLeft.subdivide(0.5),topLeftInner:ao(bl+bg[3].width,bi+bg[0].width,Math.max(0,br-bg[3].width),Math.max(0,bk-bg[0].width)).topLeft.subdivide(0.5),topRightOuter:ao(bl+bj,bi,bu,bn).topRight.subdivide(0.5),topRightInner:ao(bl+Math.min(bj,bq+bg[3].width),bi+bg[0].width,(bj>bq+bg[3].width)?0:bu-bg[3].width,bn-bg[0].width).topRight.subdivide(0.5),bottomRightOuter:ao(bl+bf,bi+bw,bv,bo).bottomRight.subdivide(0.5),bottomRightInner:ao(bl+Math.min(bf,bq-bg[3].width),bi+Math.min(bw,bp+bg[0].width),Math.max(0,bv-bg[1].width),bo-bg[2].width).bottomRight.subdivide(0.5),bottomLeftOuter:ao(bl,bi+bs,bt,bm).bottomLeft.subdivide(0.5),bottomLeftInner:ao(bl+bg[3].width,bi+bs,Math.max(0,bt-bg[3].width),bm-bg[2].width).bottomLeft.subdivide(0.5)}}function H(bi,bh,bg,be){var bf=function(bk,bj,bl){return{x:bk.x+(bj.x-bk.x)*bl,y:bk.y+(bj.y-bk.y)*bl}};return{start:bi,startControl:bh,endControl:bg,end:be,subdivide:function(bl){var bn=bf(bi,bh,bl),bo=bf(bh,bg,bl),bp=bf(bg,be,bl),bm=bf(bn,bo,bl),bj=bf(bo,bp,bl),bk=bf(bm,bj,bl);return[H(bi,bn,bm,bk),H(bk,bj,bp,be)]},curveTo:function(bj){bj.push(["bezierCurve",bh.x,bh.y,bg.x,bg.y,be.x,be.y])},curveToReversed:function(bj){bj.push(["bezierCurve",bg.x,bg.y,bh.x,bh.y,bi.x,bi.y])}}}function z(bk,bi,bh,bl,bf,bj,be){var bg=[];if(bi[0]>0||bi[1]>0){bg.push(["line",bl[1].start.x,bl[1].start.y]);bl[1].curveTo(bg)}else{bg.push(["line",bk.c1[0],bk.c1[1]])}if(bh[0]>0||bh[1]>0){bg.push(["line",bj[0].start.x,bj[0].start.y]);bj[0].curveTo(bg);bg.push(["line",be[0].end.x,be[0].end.y]);be[0].curveToReversed(bg)}else{bg.push(["line",bk.c2[0],bk.c2[1]]);bg.push(["line",bk.c3[0],bk.c3[1]])}if(bi[0]>0||bi[1]>0){bg.push(["line",bf[1].end.x,bf[1].end.y]);bf[1].curveToReversed(bg)}else{bg.push(["line",bk.c4[0],bk.c4[1]])}return bg}function aD(bi,bj,bh,bg,bf,be,bk){if(bj[0]>0||bj[1]>0){bi.push(["line",bg[0].start.x,bg[0].start.y]);bg[0].curveTo(bi);bg[1].curveTo(bi)}else{bi.push(["line",be,bk])}if(bh[0]>0||bh[1]>0){bi.push(["line",bf[0].start.x,bf[0].start.y])}}function aO(be){return be.cssInt("zIndex")<0}function av(be){return be.cssInt("zIndex")>0}function au(be){return be.cssInt("zIndex")===0}function d(be){return["inline","inline-block","inline-table"].indexOf(be.css("display"))!==-1}function a4(be){return(be instanceof ag)}function aR(be){return be.node.data.trim().length>0}function m(be){return(/^(normal|none|0px)$/.test(be.parent.css("letterSpacing")))}function ac(be){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(bg){var bh=be.css("border"+bg+"Radius");var bf=bh.split(" ");if(bf.length<=1){bf[1]=bf[0]}return bf.map(bc)})}function az(be){return(be.nodeType===Node.TEXT_NODE||be.nodeType===Node.ELEMENT_NODE)}function C(bf){var be=bf.css("position");var bg=(["absolute","relative","fixed"].indexOf(be)!==-1)?bf.css("zIndex"):"auto";return bg!=="auto"}function aw(be){return be.css("position")!=="static"}function D(be){return be.css("float")!=="none"}function ba(be){return["inline-block","inline-table"].indexOf(be.css("display"))!==-1}function a2(bf){var be=this;return function(){return !bf.apply(be,arguments)}}function aA(be){return be.node.nodeType===Node.ELEMENT_NODE}function bd(be){return be.isPseudoElement===true}function F(be){return be.node.nodeType===Node.TEXT_NODE}function a6(be){return function(bg,bf){return(bg.cssInt("zIndex")+(be.indexOf(bg)/be.length))-(bf.cssInt("zIndex")+(be.indexOf(bf)/be.length))}}function i(be){return be.getOpacity()<1}function a0(bf,be){return function(){return bf.apply(be,arguments)}}function bc(be){return parseInt(be,10)}function g(be){return be.width}function R(be){return(be.node.nodeType!==Node.ELEMENT_NODE||["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(be.node.nodeName)===-1)}function aQ(be){return[].concat.apply([],be)}function o(be){var bf=be.substr(0,1);return(bf===be.substr(be.length-1)&&bf.match(/'|"/))?be.substr(1,be.length-2):be}function M(be){var bi=[],bf=0,bh=false,bg;while(be.length){if(aE(be[bf])===bh){bg=be.splice(0,bf);if(bg.length){bi.push(aX.html2canvas.punycode.ucs2.encode(bg))}bh=!bh;bf=0}else{bf++}if(bf>=be.length){bg=be.splice(0,bf);if(bg.length){bi.push(aX.html2canvas.punycode.ucs2.encode(bg))}}}return bi}function aE(be){return[32,13,10,9,45].indexOf(be)!==-1}function aG(be){return(/[^\u0000-\u00ff]/).test(be)}function O(bg,bi,be){if(!bi){return Promise.reject("No proxy configured")}var bh=n(aP);var bf=a5(bi,bg,bh);return aP?r(bf):(p(be,bf,bh).then(function(bj){return al(bj.content)}))}var f=0;var aP=("withCredentials" in new XMLHttpRequest());var y=("crossOrigin" in new Image());function ah(bg,bi,be){var bh=n(y);var bf=a5(bi,bg,bh);return(y?Promise.resolve(bf):p(be,bf,bh).then(function(bj){return"data:"+bj.type+";base64,"+bj.content}))}function p(be,bf,bg){return new Promise(function(bk,bj){var bi=be.createElement("script");var bh=function(){delete aX.html2canvas.proxy[bg];be.body.removeChild(bi)};aX.html2canvas.proxy[bg]=function(bl){bh();bk(bl)};bi.src=bf;bi.onerror=function(bl){bh();bj(bl)};be.body.appendChild(bi)})}function n(be){return !be?"html2canvas_"+Date.now()+"_"+(++f)+"_"+Math.round(Math.random()*100000):""}function a5(bg,be,bf){return bg+"?url="+encodeURIComponent(be)+(bf.length?"&callback=html2canvas.proxy."+bf:"")}function Q(bi,bg){var bf=ae.createElement("script");var bh=ae.createElement("a");bh.href=bi;bi=bh.href;this.src=bi;this.image=new Image();var be=this;this.promise=new Promise(function(bk,bj){be.image.crossOrigin="Anonymous";be.image.onload=bk;be.image.onerror=bj;new ah(bi,bg,ae).then(function(bl){be.image.src=bl})["catch"](bj)})}function A(bg,bf,be){aa.call(this,bg,bf);this.isPseudoElement=true;this.before=be===":before"}A.prototype.cloneTo=function(be){A.prototype.cloneTo.call(this,be);be.isPseudoElement=true;be.before=this.before};A.prototype=Object.create(aa.prototype);A.prototype.appendToDOM=function(){if(this.before){this.parent.node.insertBefore(this.node,this.parent.node.firstChild)}else{this.parent.node.appendChild(this.node)}this.parent.node.className+=" "+this.getHideClass()};A.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node);this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")};A.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]};A.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before";A.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after";function aB(bi,bg,bf,bh,be){this.width=bi;this.height=bg;this.images=bf;this.options=bh;this.document=be}aB.prototype.renderImage=function(bf,be,bm,bl){var bj=bf.cssInt("paddingLeft"),bo=bf.cssInt("paddingTop"),bi=bf.cssInt("paddingRight"),bh=bf.cssInt("paddingBottom"),bk=bm.borders;var bg=be.width-(bk[1].width+bk[3].width+bj+bi);var bn=be.height-(bk[0].width+bk[2].width+bo+bh);this.drawImage(bl,0,0,bl.image.width||bg,bl.image.height||bn,be.left+bj+bk[3].width,be.top+bo+bk[0].width,bg,bn)};aB.prototype.renderBackground=function(be,bf,bg){if(bf.height>0&&bf.width>0){this.renderBackgroundColor(be,bf);this.renderBackgroundImage(be,bf,bg)}};aB.prototype.renderBackgroundColor=function(be,bg){var bf=be.color("backgroundColor");if(!bf.isTransparent()){this.rectangle(bg.left,bg.top,bg.width,bg.height,bf)}};aB.prototype.renderBorders=function(be){be.forEach(this.renderBorder,this)};aB.prototype.renderBorder=function(be){if(!be.color.isTransparent()&&be.args!==null){this.drawShape(be.args,be.color)}};aB.prototype.renderBackgroundImage=function(bf,bg,bh){var be=bf.parseBackgroundImages();be.reverse().forEach(function(bm,bj,bi){switch(bm.method){case"url":var bl=this.images.get(bm.args[0]);if(bl){this.renderBackgroundRepeating(bf,bg,bl,bi.length-(bj+1),bh)}else{k("Error loading background-image",bm.args[0])}break;case"linear-gradient":case"gradient":var bk=this.images.get(bm.value);if(bk){this.renderBackgroundGradient(bk,bg,bh)}else{k("Error loading background-image",bm.args[0])}break;case"none":break;default:k("Unknown background-image type",bm.args[0])}},this)};aB.prototype.renderBackgroundRepeating=function(bf,bj,bh,bg,bl){var bi=bf.parseBackgroundSize(bj,bh.image,bg);var be=bf.parseBackgroundPosition(bj,bh.image,bg,bi);var bk=bf.parseBackgroundRepeat(bg);switch(bk){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(bh,be,bi,bj,bj.left+bl[3],bj.top+be.top+bl[0],99999,bi.height,bl);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(bh,be,bi,bj,bj.left+be.left+bl[3],bj.top+bl[0],bi.width,99999,bl);break;case"no-repeat":this.backgroundRepeatShape(bh,be,bi,bj,bj.left+be.left+bl[3],bj.top+be.top+bl[0],bi.width,bi.height,bl);break;default:this.renderBackgroundRepeat(bh,be,bi,{top:bj.top,left:bj.left},bl[3],bl[0]);break}};function ag(bg,be,bf,bh){aa.call(this,bf,bh);this.ownStacking=bg;this.contexts=[];this.children=[];this.opacity=(this.parent?this.parent.stack.opacity:1)*be}ag.prototype=Object.create(aa.prototype);ag.prototype.getParentStack=function(bf){var be=(this.parent)?this.parent.stack:null;return be?(be.ownStacking?be:be.getParentStack(bf)):bf.stack};function aF(be){this.rangeBounds=this.testRangeBounds(be);this.cors=this.testCORS();this.svg=this.testSVG()}aF.prototype.testRangeBounds=function(be){var bg,bj,bi,bf,bh=false;if(be.createRange){bg=be.createRange();if(bg.getBoundingClientRect){bj=be.createElement("boundtest");bj.style.height="123px";bj.style.display="block";be.body.appendChild(bj);bg.selectNode(bj);bi=bg.getBoundingClientRect();bf=bi.height;if(bf===123){bh=true}be.body.removeChild(bj)}}return bh};aF.prototype.testCORS=function(){return typeof((new Image()).crossOrigin)!=="undefined"};aF.prototype.testSVG=function(){var bf=new Image();var bg=ae.createElement("canvas");var be=bg.getContext("2d");bf.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{be.drawImage(bf,0,0);bg.toDataURL()}catch(bh){return false}return true};function e(bf){this.src=bf;this.image=null;var be=this;this.promise=this.hasFabric().then(function(){return(be.isInline(bf)?Promise.resolve(be.inlineFormatting(bf)):r(bf))}).then(function(bg){return new Promise(function(bh){html2canvas.fabric.loadSVGFromString(bg,be.createCanvas.call(be,bh))})})}e.prototype.hasFabric=function(){return !html2canvas.fabric?Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg")):Promise.resolve()};e.prototype.inlineFormatting=function(be){return(/^data:image\/svg\+xml;base64,/.test(be))?this.decode64(this.removeContentType(be)):this.removeContentType(be)};e.prototype.removeContentType=function(be){return be.replace(/^data:image\/svg\+xml(;base64)?,/,"")};e.prototype.isInline=function(be){return(/^data:image\/svg\+xml/i.test(be))};e.prototype.createCanvas=function(bf){var be=this;return function(bi,bh){var bg=new html2canvas.fabric.StaticCanvas("c");be.image=bg.lowerCanvasEl;bg.setWidth(bh.width).setHeight(bh.height).add(html2canvas.fabric.util.groupSVGElements(bi,bh)).renderAll();bf(bg.lowerCanvasEl)}};e.prototype.decode64=function(be){return(typeof(aX.atob)==="function")?aX.atob(be):al(be)};function al(bj){var bl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var bk=bj.length,bi,bg,bf,be,bp,bo,bn,bm;var bh="";for(bi=0;bi<bk;bi+=4){bg=bl.indexOf(bj[bi]);bf=bl.indexOf(bj[bi+1]);be=bl.indexOf(bj[bi+2]);bp=bl.indexOf(bj[bi+3]);bo=(bg<<2)|(bf>>4);bn=((bf&15)<<4)|(be>>2);bm=((be&3)<<6)|bp;if(be===64){bh+=String.fromCharCode(bo)}else{if(bp===64||bp===-1){bh+=String.fromCharCode(bo,bn)}else{bh+=String.fromCharCode(bo,bn,bm)}}}return bh}function bb(bg,bf){this.src=bg;this.image=null;var be=this;this.promise=bf?new Promise(function(bi,bh){be.image=new Image();be.image.onload=bi;be.image.onerror=bh;be.image.src="data:image/svg+xml,"+(new XMLSerializer()).serializeToString(bg);if(be.image.complete===true){bi(be.image)}}):this.hasFabric().then(function(){return new Promise(function(bh){html2canvas.fabric.parseSVGDocument(bg,be.createCanvas.call(be,bh))})})}bb.prototype=Object.create(e.prototype);function N(bf,be){aa.call(this,bf,be)}N.prototype=Object.create(aa.prototype);N.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))};N.prototype.transform=function(be){var bf=this.node.data;switch(be){case"lowercase":return bf.toLowerCase();case"capitalize":return bf.replace(/(^|\s|:|-|\(|\))([a-z])/g,P);case"uppercase":return bf.toUpperCase();default:return bf}};function P(be,bg,bf){if(be.length>0){return bg+bf.toUpperCase()}}function aq(be){aL.apply(this,arguments);this.type=(be.args[0]==="linear")?this.TYPES.LINEAR:this.TYPES.RADIAL}aq.prototype=Object.create(aL.prototype);function r(be){return new Promise(function(bg,bf){var bh=new XMLHttpRequest();bh.open("GET",be);bh.onload=function(){if(bh.status===200){bg(bh.responseText)}else{bf(new Error(bh.statusText))}};bh.onerror=function(){bf(new Error("Network Error"))};bh.send()})}function h(bf,be){aB.apply(this,arguments);this.canvas=this.options.canvas||this.document.createElement("canvas");if(!this.options.canvas){this.canvas.width=bf;this.canvas.height=be}this.ctx=this.canvas.getContext("2d");this.taintCtx=this.document.createElement("canvas").getContext("2d");this.ctx.textBaseline="bottom";this.variables={};k("Initialized CanvasRenderer with size",bf,"x",be)}h.prototype=Object.create(aB.prototype);h.prototype.setFillStyle=function(be){this.ctx.fillStyle=typeof(be)==="object"&&!!be.isColor?be.toString():be;return this.ctx};h.prototype.rectangle=function(bi,bh,bg,be,bf){this.setFillStyle(bf).fillRect(bi,bh,bg,be)};h.prototype.circle=function(bh,bg,bf,be){this.setFillStyle(be);this.ctx.beginPath();this.ctx.arc(bh+bf/2,bg+bf/2,bf/2,0,Math.PI*2,true);this.ctx.closePath();this.ctx.fill()};h.prototype.circleStroke=function(bj,bi,bf,be,bh,bg){this.circle(bj,bi,bf,be);this.ctx.strokeStyle=bg.toString();this.ctx.stroke()};h.prototype.drawShape=function(bf,be){this.shape(bf);this.setFillStyle(be).fill()};h.prototype.taints=function(be){if(be.tainted===null){this.taintCtx.drawImage(be.image,0,0);try{this.taintCtx.getImageData(0,0,1,1);be.tainted=false}catch(bf){this.taintCtx=ae.createElement("canvas").getContext("2d");be.tainted=true}}return be.tainted};h.prototype.drawImage=function(bh,bj,bi,bk,bf,bm,bl,be,bg){if(!this.taints(bh)||this.options.allowTaint){this.ctx.drawImage(bh.image,bj,bi,bk,bf,bm,bl,be,bg)}};h.prototype.clip=function(be,bg,bf){this.ctx.save();be.filter(aN).forEach(function(bh){this.shape(bh).clip()},this);bg.call(bf);this.ctx.restore()};h.prototype.shape=function(be){this.ctx.beginPath();be.forEach(function(bf,bg){if(bf[0]==="rect"){this.ctx.rect.apply(this.ctx,bf.slice(1))}else{this.ctx[(bg===0)?"moveTo":bf[0]+"To"].apply(this.ctx,bf.slice(1))}},this);this.ctx.closePath();return this.ctx};h.prototype.font=function(be,bi,bg,bj,bf,bh){this.setFillStyle(be).font=[bi,bg,bj,bf,bh].join(" ").split(",")[0]};h.prototype.fontShadow=function(bf,be,bh,bg){this.setVariable("shadowColor",bf.toString()).setVariable("shadowOffsetY",be).setVariable("shadowOffsetX",bh).setVariable("shadowBlur",bg)};h.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")};h.prototype.setOpacity=function(be){this.ctx.globalAlpha=be};h.prototype.setTransform=function(be){this.ctx.translate(be.origin[0],be.origin[1]);this.ctx.transform.apply(this.ctx,be.matrix);this.ctx.translate(-be.origin[0],-be.origin[1])};h.prototype.setVariable=function(bf,be){if(this.variables[bf]!==be){this.variables[bf]=this.ctx[bf]=be}return this};h.prototype.text=function(bg,bf,be){this.ctx.fillText(bg,bf,be)};h.prototype.backgroundRepeatShape=function(bj,bg,bn,be,bh,bk,bf,bm,bl){var bi=[["line",Math.round(bh),Math.round(bk)],["line",Math.round(bh+bf),Math.round(bk)],["line",Math.round(bh+bf),Math.round(bm+bk)],["line",Math.round(bh),Math.round(bm+bk)]];this.clip([bi],function(){this.renderBackgroundRepeat(bj,bg,bn,be,bl[3],bl[0])},this)};h.prototype.renderBackgroundRepeat=function(bg,bf,bh,bi,bj,bl){var be=Math.round(bi.left+bf.left+bj),bk=Math.round(bi.top+bf.top+bl);this.setFillStyle(this.ctx.createPattern(this.resizeImage(bg,bh),"repeat"));this.ctx.translate(be,bk);this.ctx.fill();this.ctx.translate(-be,-bk)};h.prototype.renderBackgroundGradient=function(bg,be){if(bg instanceof a3){var bf=this.ctx.createLinearGradient(be.left+be.width*bg.x0,be.top+be.height*bg.y0,be.left+be.width*bg.x1,be.top+be.height*bg.y1);bg.colorStops.forEach(function(bh){bf.addColorStop(bh.stop,bh.color.toString())});this.rectangle(be.left,be.top,be.width,be.height,bf)}};h.prototype.resizeImage=function(bg,bh){var bi=bg.image;if(bi.width===bh.width&&bi.height===bh.height){return bi}var be,bf=ae.createElement("canvas");bf.width=bh.width;bf.height=bh.height;be=bf.getContext("2d");be.drawImage(bi,0,0,bi.width,bi.height,0,0,bh.width,bh.height);return bf};function aN(be){return be.length>0}}).call({},typeof(window)!=="undefined"?window:undefined,typeof(document)!=="undefined"?document:undefined);var c=b.extend({init:function(){},htmlToCanvas:function(e,d,f){html2canvas(e,d).then(function(g){if(f!==undefined){f(g)}})},});return c});
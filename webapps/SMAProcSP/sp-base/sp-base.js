/*!  Copyright 2015 Dassault Systemes. All rights reserved. */
(function(e){var g,h,d,f,a;var b=e.CustomEvent.prototype.preventDefault;e.CustomEvent.prototype.preventDefault=function(){b.apply(this,arguments);this.isDefaultPrevented=true};var c=function(){if(e.Polymer&&e.UWA&&e.UWA.Element&&e.UWA.Element.set&&!(e.UWA.Element.set.polypatched)){var i=e.UWA.Element.set;var j=e.Polymer.Base.set;e.UWA.Element.set=function(m,l,k){if(h.toType(m)==="object"||!this._getPathParts){return i.call(this,m,l)}else{return j.call(this,m,l,k)}};e.UWA.Element.set.polypatched=true}};require(["UWA/Element"],c,function(i){if(e.console&&e.console.warn){e.console.warn("Failed to load UWA Element",i)}});c();h=(function(){var m,n,t,j,u,x,v,r,o,l,p,z,A,y,s,k,i,q,w;w={};m=function(B){return{}.toString.call(B).match(/\s([a-zA-Z]+)/)[1].toLowerCase()};n=function(D){var C=false;if(!D){return C}try{[].forEach.call(D,function(){throw w})}catch(B){C=B===w?true:false}return C};t=function(B){return B&&B.toString==={}.toString};j=function(B){return B&&B.toString===Function.toString};u=function(B){return B&&B.toString===[].toString};x=function(B){return B&&B.toString()==="[object NodeList]"};v=function(C){var D=false,B="";if(!isNaN(C)){B=typeof C}if(C||B==="number"||B==="boolean"){C=C.toString().trim();D=C===""}else{D=!C}return D};r=function(D,E){if(e.console&&e.console.warn){e.console.warn("<sp-base>.JS.is.contains is deprecated")}var B=false;try{[].forEach.call(D,function(F){if(F===E){B=true;throw w}},this)}catch(C){if(C!==w){throw C}}return B};o=function(G,F,I){var H=Array.prototype.slice;var D=Array.prototype.concat;var E=m(G)==="array"?G:H.call(G);var C=m(F)==="array"?F:H.call(F);var B=D.call(E,C);if(I){return B}else{return B.filter(function(K,J){return B.indexOf(K,J+1)===-1})}};l=function(D,C,B){[].splice.call(D,B,0,[].splice.call(D,C,1)[0])};p=function(B){return{likeAnArray:n(B),anObject:t(B),aFunction:j(B),anArray:u(B),aNodeList:x(B),contains:r}};z=function(C,B){C.prototype=Object.create(B.prototype);C.prototype.constructor=C};A=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(D){var C=Math.random()*16|0,B=D==="x"?C:C&3|8;return B.toString(16)})};y=function(H){var C={},G,E,F,B;var D=typeof H!=="undefined"&&H!==null?H:e.location.search;D=D.replace("?","").split("&");for(B=0;B<D.length;B++){G=D[B].split("=");if(G.length>0){E=decodeURIComponent(G[0]);if(E.length>0){F=G.length===2?decodeURIComponent(G[1]):true;if(typeof C[E]==="undefined"){C[E]=F}else{if(C[E] instanceof Array){C[E].push(F)}else{C[E]=[C[E],F]}}}}}return C};s=function(D){var B="",C;for(C in D){if(D.hasOwnProperty(C)){B+=(B?"&":"")+encodeURIComponent(C)+"="+encodeURIComponent(D[C])}}return B};k=function(){var B=e&&e.location;return B.search.match(/\$debug/)||(""+B).indexOf("debug_me")>-1};i=function(){return e&&e.console&&e.console.debug};q=function(){var B="$debug_id";e[B]=e[B]?++e[B]:1;return e[B]};return{inherit:z,toType:m,generateGUID:A,parseQueryString:y,toQueryString:s,isInDebug:k,isConsoleAvailable:i,generateDebugId:q,isEmpty:v,is:p,merge:o,moveItemInArray:l,BREAK:w}}());d=(function(){var i=function(j){this.root=h.is(j).anArray||h.is(j).aNodeList||h.is(j).likeAnArray?j:[j]};i.prototype.forEach=function(l,k){try{k=k||this;[].forEach.call(this.root,l,k)}catch(j){if(j!==h.BREAK){e.console.log(j)}}};i.prototype.elements=function(){if(!this.root.forEach){this.root.forEach=[].forEach.bind(this.root);this.root.filter=[].filter.bind(this.root)}return this.root};i.prototype.element=function(){return this.root&&this.root[0]};i.prototype.click=function(j){this.forEach(function(l){try{if(j&&h.is(j).aFunction){l.addEventListener("click",j,false)}else{if(!j){l.click()}else{e.console.warn("Incorrect usage of click method. Please refer to API docs");throw h.BREAK}}}catch(k){e.console.log(k)}});return this};i.prototype.find=function(j){this.forEach(function(k){var m=[],l=null;l=k.querySelectorAll(j);m=h.merge(m,l);if(k.shadowRoot){l=k.shadowRoot.querySelectorAll(j);m=h.merge(m,l)}this.root=m},this);return this};i.prototype.addClass=function(j){this.forEach(function(k){if(!k.classList.contains(j)){k.classList.add(j)}});return this};i.prototype.removeClass=function(j){this.forEach(function(k){k.classList.remove(j)});return this};i.prototype.toggleClass=function(j){this.forEach(function(k){if(k.classList.contains(j)){this.removeClass(j)}else{this.addClass(j)}},this);return this};i.prototype.append=function(j){this.forEach(function(k){k.appendChild(j)});return this};i.prototype.getCoordinates=function(l){var o,j,m,p,k,n,s,r,q;o=l.getBoundingClientRect();j=document.documentElement;m=document.body;k=e.pageYOffset||j.scrollTop||m.scrollTop;p=e.pageXOffset||j.scrollLeft||m.scrollLeft;n=j.clientTop||m.clientTop||0;s=j.clientLeft||m.clientLeft||0;q=o.top+k-n;r=o.left+p-s;return{x:Math.round(r),y:Math.round(q)}};i.prototype.indexNodesById=function(j){j=j||this.root[0].$;this.find("[id]").forEach(function(k){j[k.id]=k});return this};return function(j){return new i(j)}}());f={ERROR:"sp-error"},a={PROCESSNAME:"ProcessName",PARAMETERNAME:"ParameterName"};g={JS:h,DOM:d,COMMON_EVENTS:f,TYPESTRINGS:a,WIN:{openInWindow:function(j,o){if(e.dscef){this.fire&&this.fire(g.COMMON_EVENTS.ERROR,{message:"Window can not be opened in Wintop. Perform the action in web browser",isFatal:false})}else{var l=e.outerWidth*3/4,i=e.outerHeight*3/4,n=l/7,m=i/7,k="height="+i+", width="+l+", top="+m+", left="+n+", resizable=yes",p=e.open(j,o||"_blank",k);if(p&&p.focus){p.focus()}return p}}},asyncFire:function(k,j,i){this.async(this.fire.bind(this,k,j,i))},_waitAndReflect:function(l){var i=l||"",j=arguments.length,k;while(--j>0){if(arguments[j]===null||arguments[j]===k){return null}else{i=i.replace(new RegExp("\\$"+(j-1),"g"),arguments[j])}}return i},tokenList:function(k){var j=[];for(var i in k){if(k[i]){j.push(i)}}return j.join(" ")},isValidString:function(i,j){var k=/^[^\@\,\*\?\[\]\#\$\{\}\\\'\\\"\<\>\|\%]*$/g;if(j===e.DS.SMAProcSP.SPBase.TYPESTRINGS.PROCESSNAME){k=/^[^\@\,\*\?\[\]\#\$\{\}\\\'\\\"\<\>\|\%]*$/g}else{if(j===e.DS.SMAProcSP.SPBase.TYPESTRINGS.PARAMETERNAME){k=/^[^\@\,\*\?\[\]\#\$\{\}\\\'\\\"\<\>\|\%]*$/g}}return k.test(i)}};e.SPBase=g;e.DS=e.DS||{};e.DS.SMAProcSP=e.DS.SMAProcSP||{};e.DS.SMAProcSP.SPBase=g;if(typeof define!=="undefined"){define("DS/SMAProcSP/sp-base/sp-base",g)}}(this));
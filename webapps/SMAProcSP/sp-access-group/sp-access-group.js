/*!  Copyright 2015 Dassault Systemes. All rights reserved. */
(function(e){var a,j,b,d,h="data-id",g,i,c,f;g={};i={BASIC:"basic",READ:"read",WRITE:"write",ADD:"add",REMOVE:"remove",FULL:"full"};c={};f={};j=function(k){return k&&(k.toUpperCase()==="TRUE")};b=function(l){var k=[];k.push(i.BASIC);k.push(i.READ);if(!j(l.locked)||(j(l.locked)&&j(l.lockedByCurrentUser))){if(j(l.modifyMask)){k.push(i.WRITE)}if(j(l.fromconnectMask)){k.push(i.ADD)}if(j(l.fromdisconnectMask)){k.push(i.REMOVE)}}return k};d=function(){var k=f[this.name];if(k){Object.keys(k).forEach(function(l){k[l].accesses=this.accesses},this)}};Polymer({is:"sp-access-group",properties:{name:String,ACCESS:{type:Object,value:function(){return i}},accesses:{type:Array,value:function(){return[]},notify:true},data:{type:Object,notify:true,observer:"dataChanged",reflectToAttribute:true}},attached:function(){if(this.hasAttribute("data")){c[this.name]=this;d.call(this)}else{f[this.name]=f[this.name]||{};Polymer.dom(this).setAttribute(h,Object.keys(f[this.name]).length);f[this.name][this.getAttribute(h)]=this;if(c[this.name]){this.accesses=c[this.name].accesses}}},detached:function(){},dataChanged:function(){var k;if(!this.data){return}c[this.name]=this;this.accesses=b(this.data);k=f[this.name];d.call(this)}})}(this));
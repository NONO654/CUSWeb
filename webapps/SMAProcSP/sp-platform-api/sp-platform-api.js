define(["DS/PlatformAPI/PlatformAPI","UWA/Class/Promise"],function(b,d){var a={},c={},e=[];a.addEventList=function(f){return new d(function(h,g){require(["text!"+f],function(k){var l=null,i=null;try{l=JSON.parse(k)}catch(j){g(j)}for(i in l){if(l.hasOwnProperty(i)){if(c.hasOwnProperty(i)&&c[i]!==l[i]){g("Property :"+i+"already defined")}else{c[i]=l[i]}}}h()})})};a.addListener=function(f,g){e.push(b.subscribe(c[f],g))};a.unsubscribeAll=function(){e.forEach(function(f){b.unsubscribe(f)})};return a});
/*!  Copyright 2018 Dassault Systemes. All rights reserved. */
define("DS/SMAPoweredByViews/ad-batch-iteration-chooser/ad-batch-iteration-chooser",["DS/SMAPoweredByState/ad-state-store","DS/SMAProcSP/PolymerLoader","DS/SMAPoweredByViews/ad-redux-behaviour/ReduxBehaviour","DS/SMAPoweredByState/ad-state-domain-jobs/selectors","DS/SMAPoweredByState/ad-state-domain-managed-data/selectors","text!DS/SMAPoweredByViews/ad-batch-iteration-chooser/ad-batch-iteration-chooser.html","i18n!DS/SMAPoweredByViews/assets/nls/ADBatchIterationChooser","css!DS/UIKIT/UIKIT.css"],function(e,j,b,d,h,a,i){function f(m){var k=null,n=this.iterations[m],l;this.store=e.getStore();if(n.inputs&&(n.inputs.length>0)){l=h.managedDataWithID(this.store.getState(),n.inputs[0].inputID);if(l){k=l.title?l.title:l.name}}if(!k){k=i.EmptyIteration+" #"+m}return k}function g(){var k,l;if(this.$.iterationSelect.options.length>0){for(l=(this.$.iterationSelect.options.length-1);l>0;l--){this.$.iterationSelect.remove(l)}}if(this.iterations){k=document.createElement("option");k.value=-1;k.textContent=i.AllIterations;k.selected=true;this.$.iterationSelect.appendChild(k);for(l=0;l<this.iterations.length;l++){k=document.createElement("option");k.value=l;k.textContent=f.call(this,l);k.selected=false;this.$.iterationSelect.appendChild(k)}}}function c(){if(!this.iterations){this.$.startButton.disabled=true;this.$.leftButton.disabled=true;this.$.rightButton.disabled=true;this.$.endButton.disabled=true}else{if(this.selectedIteration===-1){this.$.startButton.disabled=true;this.$.leftButton.disabled=true;this.$.rightButton.disabled=(this.iterations.length===0);this.$.endButton.disabled=(this.iterations.length===0)}else{if(this.selectedIteration===(this.iterations.length-1)){this.$.startButton.disabled=false;this.$.leftButton.disabled=false;this.$.rightButton.disabled=true;this.$.endButton.disabled=true}else{this.$.startButton.disabled=false;this.$.leftButton.disabled=false;this.$.rightButton.disabled=false;this.$.endButton.disabled=false;if(this.selectedIteration===0){this.$.leftButton.title=i.StartButton}else{this.$.leftButton.title=i.LeftButton}if(this.selectedIteration===(this.iterations.length-2)){this.$.rightButton.title=i.EndButton}else{this.$.rightButton.title=i.RightButton}}}}}j.register(a);return window.Polymer({is:"ad-batch-iteration-chooser",properties:{iterations:{type:Array,value:null,observer:"_iterationsChanged"},selectedIteration:{type:Number,value:-1}},ready:function(){this.NLS=i},_iterationsChanged:function(){g.call(this);c.call(this)},_selectedIterationChanged:function(){c.call(this)},_iterationSelected:function(k){k.stopPropagation();k.cancelBubble=true;this.selectedIteration=parseInt(this.$.iterationSelect.value);c.call(this);this.fire("change",this.selectedIteration)},_goStart:function(k){k.stopPropagation();k.cancelBubble=true;this.selectedIteration=-1;c.call(this);this.fire("change",this.selectedIteration)},_goLeft:function(k){k.stopPropagation();k.cancelBubble=true;this.selectedIteration--;c.call(this);this.fire("change",this.selectedIteration)},_goRight:function(k){k.stopPropagation();k.cancelBubble=true;this.selectedIteration++;c.call(this);this.fire("change",this.selectedIteration)},_goEnd:function(k){k.stopPropagation();k.cancelBubble=true;this.selectedIteration=this.iterations.length-1;c.call(this);this.fire("change",this.selectedIteration)},behaviors:[b]})});
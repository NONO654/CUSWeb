/*!  Copyright 2018 Dassault Systemes. All rights reserved. */
define("DS/SMAPoweredByViews/ad-landing/ad-landing",["DS/SMAProcSP/PolymerLoader","DS/SMAPoweredByViews/ad-redux-behaviour/ReduxBehaviour","DS/SMAPoweredByState/ad-state-app/selectors","DS/SMAPoweredByState/ad-state-domain/actions","DS/SMAPoweredByState/ad-state-domain-study/selectors","DS/SMAPoweredByViews/Utils/ADStudyUtils","WebappsUtils/WebappsUtils","UWA/Drivers/Alone","DS/UIKIT/Spinner","text!DS/SMAPoweredByViews/ad-landing/ad-landing.html","i18n!DS/SMAPoweredByViews/assets/nls/ADLandingPage","DS/SMAPoweredByViews/ad-create-study/ad-create-study","DS/SMAProcSP/import!../../SMAProcSP/sp-search/sp-search.html","css!DS/UIKIT/UIKIT.css"],function(l,g,d,h,f,a,b,j,c,e,k){var i={ABAQUS_STUDY:"SMAPoweredByViews/assets/images/ad_landing.png",SIMULATION_COMPANION:"SMAPoweredByViews/assets/images/sc_landing.png"};l.register(e);window.Polymer({is:"ad-landing",properties:{studyPersistenceOperation:{type:String,value:null,stateSelector:f.studyPersistenceOperation},checkedPreviousStudy:{type:Boolean,value:false},isLoading:{type:Boolean,value:true,computed:"_computeIsLoading(checkedPreviousStudy, studyPersistenceOperation)"},isAbaqusStudy:{type:Boolean,value:window._AD_ISABAQUSSTUDY!==false},isTransientWidget:{type:Boolean,value:false,stateSelector:d.isTransientWidget}},observers:["_toggleSpinner(isLoading)","_handleStoredStudy(store)"],ready:function(){this.NLS=k},_toggleSpinner:function(m){if(!this._spinner){this._spinner=new c({renderTo:this.$.spinnerContainer,visible:false})}if(m){this._spinner.show()}else{this._spinner.hide()}},_handleStoredStudy:function(m){if(m&&m.dispatch){a.loadStoredStudy(m);this.checkedPreviousStudy=true}},_computeIsLoading:function(n,m){return !n||m!==null},_computeIsAbaqusStudy:function(){return window.widget&&window.widget.getValue?window.widget.getValue("AbaqusStudy_isAbaqusStudy")!==false:true},_getImageUrl:function(m){return b.getWebappsBaseUrl()+(m?i.ABAQUS_STUDY:i.SIMULATION_COMPANION)},_onCreateStudy:function(m){m.stopPropagation();m.cancelBubble=true;this.$.createStudy.isOpen=true},_onOpenStudy:function(m){m.stopPropagation();m.cancelBubble=true;this.$.spSearch.multiSelect=false;this.$.spSearch.search()},_onStudySelected:function(m){m.stopPropagation();m.cancelBubble=true;this.store.dispatch(h.reloadStudy(m.detail.getSelectedObjects()[0].objectId))},behaviors:[g]})});
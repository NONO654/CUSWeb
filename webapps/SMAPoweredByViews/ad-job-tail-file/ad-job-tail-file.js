/*!  Copyright 2018 Dassault Systemes. All rights reserved. */
define("DS/SMAPoweredByViews/ad-job-tail-file/ad-job-tail-file",["DS/SMAPoweredByState/ad-state-store","DS/SMAProcSP/PolymerLoader","DS/SMAPoweredByViews/ad-redux-behaviour/ReduxBehaviour","DS/SMAPoweredByState/ad-state-domain-jobs/selectors","DS/SMAPoweredByViews/ad-batch-iteration-chooser/ad-batch-iteration-chooser","text!DS/SMAPoweredByViews/ad-job-tail-file/ad-job-tail-file.html"],function(e,a,d,g,c,f){function b(){var h=null,i=null;if(this.jobId){i=g.jobWithID(this.store.getState(),this.jobId);if(g.isBatchJob(this.store.getState(),i)){h=g.batchJobIterations(this.store.getState(),i)}if(h&&(h.length>0)){this.$.batchIterationRow.classList.remove("hidden");this.$.batchIterationList.iterations=h}else{if(!this.$.batchIterationRow.classList.contains("hidden")){this.$.batchIterationRow.classList.add("hidden")}}}}a.register(f);return window.Polymer({is:"ad-job-tail-file",properties:{jobId:{type:String,value:null,observer:"_jobIdChanged"},selectedBatchIteration:{type:Number,value:-1,observer:"_selectedBatchIterationChanged"}},updateTailContent:function(h){this.$.tailLog.updateTailContent(h)},updateMsg:function(h){this.$.tailLog.updateMsg(h)},showMsg:function(){this.$.tailLog.$.autoRefreshMsg.classList.remove("hidden")},hideMsg:function(){this.$.tailLog.$.autoRefreshMsg.classList.add("hidden")},initializeEditor:function(){this.$.tailLog.initializeEditor()},hideEditor:function(){this.$.tailLog.hideEditor()},editorRelease:function(){this.$.tailLog.editorRelease()},getTailSpinnerHolder:function(){return this.$.tailLog.$.spinnerHolder},ready:function(){},_jobIdChanged:function(){b.call(this)},_selectedBatchIterationChanged:function(){this.fire("change",this.selectedBatchIteration)},onBatchIterationSelect:function(h){h.stopPropagation();h.cancelBubble=true;this.selectedBatchIteration=h.detail},behaviors:[d]})});
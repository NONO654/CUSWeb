(function(){var d,i,f,a,b,e=function(){return new Promise(function(j){require(["DS/SMAPoweredByState/ad-state-app/selectors","DS/SMAPoweredByState/ad-state-domain-managed-data/actions","DS/SMAPoweredByState/ad-state-domain-study/selectors","DS/SMAPoweredByViews/Utils/ADRefreshUtils","DS/SMAPoweredByViews/Utils/ADStudyUtils"],function(l,m,o,k,n){d=l;i=m;f=o;a=k;b=n;j()})})},c=function(){this.boundActionsManagedData=this.getBoundActions(i)},g=function(){this.observeStore({select:f.studyObject,onChange:"studyStateChanged"});this.observeStore({select:d.isTransientWidget,onChange:"isTransientWidgetChanged"})},h=function(){this.$.fileChooser.store=this.store;this.$.studyProperties.store=this.store};DS.SMAPoweredByViews=DS.SMAPoweredByViews||{};DS.SMAPoweredByViews.ADAppHeaderContainer=window.Polymer({is:"ad-app-header-container",properties:{},ready:function(){this.isReady=Promise.resolve().then(this.initReduxBehavior.bind(this)).then(e.bind(this)).then(c.bind(this)).then(g.bind(this)).then(h.bind(this))},isTransientWidgetChanged:function(j){this.$.pres.isReady.then(function(){if(j){this.$.pres.dropDwnMenu.disableItem(3)}else{this.$.pres.dropDwnMenu.enableItem(3)}}.bind(this))},studyStateChanged:function(j){if(j){this.$.pres.study=j;this.$.pres.isReady.then(function(){this.$.pres.isReadOnly=f.isReadOnly(this.store.getState())}.bind(this))}},uploadFiles:function(){this.$.fileChooser.containerId="";this.$.fileChooser.multiple=true;this.$.fileChooser.onChange=function(){this.switchCollection(DS.SMAPoweredByViews.ADAppHeader.CollectionIndex.FILES,true)}.bind(this);this.$.fileChooser.showChooser()},addReferencedContent:function(l){var k=this.store.getState().domain.study.managedDataRootID,j=l.detail,m=this.boundActionsManagedData.addReferencedContent;if(j&&j.length>0){j.forEach(function(n){m(k,n.objectId,n.displayName,n.objectType)});this.switchCollection(DS.SMAPoweredByViews.ADAppHeader.CollectionIndex.FILES,true)}},closeStudy:function(){b.closeStudy(this.store)},refreshApp:function(){a.refreshAll({store:this.store,dispatchAlerts:true})},onOpenStudyProperties:function(j){j.stopPropagation();j.cancelBubble=true;this.$.studyProperties.showDialog()},switchCollection:function(j,k){this.$.pres.switchCollection(j,k)},behaviors:[DS.SMAProcSP.SPBase,DS.SMAPoweredByViews.ADReduxBehaviour]})}(this));
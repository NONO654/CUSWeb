/*!  Copyright 2018 Dassault Systemes. All rights reserved. */
define("DS/SMAPoweredByViews/ad-redux-behaviour/ReduxBehaviour",["DS/SMAPoweredByState/ad-state-store","DS/SMAPoweredByState/ad-state-redux-observer"],function(c,b){var a={properties:{store:{type:Object,observer:"_storeChanged"}},ready:function(){this._observer=new b()},_storeChanged:function(){var d=this;Object.keys(d.properties||{}).forEach(function(h){if(d.properties[h].hasOwnProperty("stateSelector")){var g={};g.select=d.properties[h].stateSelector.bind(d);g.compareFunc=d.properties[h].compareFunc||null;g.arrayCompare=d.properties[h].arrayCompare||null;g.unsubscribeCriteria=d.properties[h].unsubscribeCriteria||null;g.onChange=function(i){d[h]=i};d.observeStore(g)}});var f=d.querySelectorAll("[redux]");for(var e=0;e<f.length;e++){f[e].store=d.store}},observeStore:function(d){if(typeof d.onChange!=="function"){d.onChange=this[d.onChange].bind(this)}d.store=this.store;this._observer.observeStore(d)},waitFor:function(d){d.store=this.store;return this._observer.waitFor(d)},unsubscribeAll:function(){this._observer.unsubscribeAll()}};return a});
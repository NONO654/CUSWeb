/*!  Copyright 2018 Dassault Systemes. All rights reserved. */
define("DS/SMAPoweredByViews/ad-create-job-compute/ad-create-job-compute-new",["DS/SMAProcSP/PolymerLoader","DS/SMAPoweredByViews/ad-redux-behaviour/ReduxBehaviour","DS/SMAPoweredByState/ad-state-app/selectors","DS/SMAPoweredByState/ad-state-cos/selectors","DS/SMAPoweredByState/ad-state-domain-jobs/actions","DS/SMAPoweredByState/ad-state-domain-jobs/selectors","DS/SMAPoweredByState/ad-state-domain-work-data/selectors","text!DS/SMAPoweredByViews/ad-create-job-compute/ad-create-job-compute-new.html","i18n!DS/SMAPoweredByViews/assets/nls/ADCreateJobCompute","DS/SMAPoweredByViews/ad-create-job-license-options/ad-create-job-license-options","css!DS/UIKIT/UIKIT.css"],function(i,c,a,d,g,f,e,b,h){i.register(b);return window.Polymer({is:"ad-create-job-compute-new",properties:{jobId:{type:String,value:null,observer:"_jobIdChanged"},drmMode:{type:String,value:null,stateSelector:function(j){return f.jobDRMMode(j,this.jobId)}},workDirectoryID:{type:String,value:null,stateSelector:function(k){var j=f.jobWorkDirectory(k,this.jobId);return j?j.id:null}},workDirectories:{type:Array,value:[],stateSelector:function(j){return f.allowedWorkDirectories(j,this.jobId)},observer:"_bindWorkDirectories"},removeWorkDir:{type:String,value:null,stateSelector:function(k){var j=f.jobExecutionOptions(k,this.jobId);return j?j.removeWorkDir:null}},isCloudCompute:{type:Boolean,computed:"_isCloudCompute(drmMode)"},isCloudEnabled:{type:Boolean,value:null,stateSelector:function(k){var j=null;if(this.handler&&this.handler.Selectors&&this.handler.Selectors.isCloudEnabled){j=this.handler.Selectors.isCloudEnabled(k)}return j}},currentWhereUsedTenantID:{type:String,value:null,stateSelector:a.currentWhereUsedTenantID}},ready:function(){this.NLS=h},_jobIdChanged:function(j){this.$.licenseOptions.jobId=j},_bindWorkDirectories:function(l){var j=this.$.workDirectorySelect,m=this.workDirectoryID;j.textContent="";var k=document.createElement("option");k.value=f.CREATE_NEW_WORKDIR;k.textContent=h.CreateNewDirectory;k.selected=!m||m===f.CREATE_NEW_WORKDIR;j.appendChild(k);l.forEach(function(n){k=document.createElement("option");k.value=n.id;k.textContent=n.name;k.selected=(n.id===m);j.appendChild(k)})},_isCloudCompute:function(j){return j===d.DRMMode.CLOUD},isCloudLicensingAvailable:function(j){return j!==null},_drmModeChanged:function(j){j.stopPropagation();j.cancelBubble=true;this.store.dispatch(g.setJobExecutionDRMMode(this.jobId,j.target.value))},_workDirectoryChanged:function(j){j.stopPropagation();j.cancelBubble=true;this.store.dispatch(g.setJobExecutionWorkDirectory(this.jobId,j.target.value))},_removeWorkDirectoryChanged:function(j){j.stopPropagation();j.cancelBubble=true;this.store.dispatch(g.setJobExecutionRemoveWorkDirectory(this.jobId,j.target.checked))},behaviors:[c]})});
(function(n){var p=null,d=null,x=null,m=null,t=null,s=null,y=null,B=null,c=null,r=null,q=null,C=null,i=null,z=null,j=null,f=null,h=null,e=null,A=null,v,w,u,g,o={OPTIONREMOVED:"SMAPoweredByViews.ad-create-job-solver-args-container.OPTIONREMOVED"},l={cloud:"Cloud",fiper:"fiper"},b={traditionalTokens:"traditionalTokens"},a={oncloud:"oncloud",onpremise:"onpremise",oncloudonpremise:"oncloudonpremise",oncloudonpremiseuvm:"oncloudonpremiseuvm",customdrmtraditional:"customdrmtraditional",customdrmuvm:"customdrmuvm"},k=["job","input"];p=function(D){D.stopPropagation();D.cancelBubble=true;this.isReady.then(function(){this.handler.setArgs(this.solverArguments,this.jobId)}.bind(this))};d=function(F){F.stopPropagation();F.cancelBubble=true;var E="optionremoved",H=g.Level.WARNING,D=o.OPTIONREMOVED,G="";this.boundAlertActions.addAlert(E,H,G,D)};x=function(D){D.stopPropagation();D.cancelBubble=true;this.boundJobActions.setJobCommandValue(this.jobId,D.detail.command)};m=function(){return new Promise(function(D){require(["DS/SMAPoweredByState/ad-state-domain-jobs/selectors","DS/SMAPoweredByState/ad-state-app-alerts/actions","DS/SMAPoweredByState/ad-state-app-alerts/selectors","DS/SMAPoweredByState/ad-state-domain-jobs/actions"],function(H,E,F,G){v=H;w=E;g=F;u=G;D()})})};y=function(){var D=v.isBatchJob(this.store.getState(),this.jobId);if(D){return v.jobArguments(this.store.getState(),this.jobId,this.selectedIteration)}else{return v.jobArguments(this.store.getState(),this.jobId)}};B=function(D){if(D.length>0){D.forEach(function(E){if(k.indexOf(E.name)!==-1){E.omitted=true}if(E.name==="job"){E.value="<Auto Generated>"}})}return D};c=function(){var F=v.jobWithID(this.store.getState(),this.jobId),D=v.jobArguments(this.store.getState(),this.jobId,this.selectedIteration),E=v.jobExecutionOptions(this.store.getState(),this.jobId,this.selectedIteration);if(F&&D){this.handler.getArgs(this.jobId).then(function(H){var G=v.isBatchJob(this.store.getState(),this.jobId);if(G){H=B.call(this,H)}this.solverArguments=H;this.$.ADSolverArgs.cloudExecMode=A.call(this,this.store.getState(),E)}.bind(this),function(){})}};r=function(){return v.jobArgumentValue(this.store.getState(),this.jobId,"input")};q=function(D){if(D){this.handler.getArgs(this.jobId).then(function(F){var E=v.isBatchJob(this.store.getState(),this.jobId);if(E){F=B.call(this,F)}this.solverArguments=F}.bind(this),function(){})}};C=function(){return v.jobExecutionOptions(this.store.getState(),this.jobId)};z=function(){return v.jobInputObjects(this.store.getState(),this.jobId)};h=function(){return v.jobCommand(this.store.getState(),this.jobId)};e=function(D){if(D){this.isReady.then(function(){this.$.ADSolverArgs.customCommand=D;this.$.ADSolverArgs.commandInput=D}.bind(this))}};A=function(E,D){var F=null;if(E.app.cloudEnabled&&D.drmMode&&D.licenseOptions){if(D.drmMode===l.cloud){F=a.oncloud}else{if(D.drmMode===l.fiper&&D.licenseOptions.licenseType===b.traditionalTokens){F=a.oncloudonpremise}else{if(D.drmMode===l.fiper&&D.licenseOptions.licenseType!==b.traditionalTokens){F=a.oncloudonpremiseuvm}else{if(D.drmMode!==l.fiper&&D.drmMode!==l.cloud&&typeof(D.drmOptions)!=="undefined"){if(D.licenseOptions.licenseType===b.traditionalTokens){F=a.customdrmtraditional}else{F=a.customdrmuvm}}}}}}else{F=a.onpremise}return F};i=function(D){this.isReady.then(function(){if(typeof(this.$.ADSolverArgs.isReady)!=="undefined"){this.$.ADSolverArgs.isReady.then(function(){if(D){this.$.ADSolverArgs.cloudExecMode=A.call(this,this.store.getState(),D)}}.bind(this))}}.bind(this))};f=function(D,F){var E=function(G){return G.sort(function(I,H){if(I.id===H.id){return 0}else{return I.id<H.id?-1:1}}).reduce(function(I,H){return I+H.id},"")};if(typeof(D)!=="undefined"){return E(D)===E(F)}else{return false}};j=function(D){this.isReady.then(function(){this.$.ADSolverArgs.jobInputs=D.map(function(E){if(v.jobArgumentValue(this.store.getState(),this.jobId,"input")){E.selected=(v.jobArgumentValue(this.store.getState(),this.jobId,"input")===E.name)}return E}.bind(this))}.bind(this))};t=function(){this.boundAlertActions=this.getBoundActions(w);this.boundJobActions=this.getBoundActions(u)};s=function(){this.unsubscribeAll();this.observeStore({select:y.bind(this),arrayCompare:true,onChange:c.bind(this)});this.observeStore({select:r.bind(this),onChange:q.bind(this)});this.observeStore({select:C.bind(this),onChange:i.bind(this)});this.observeStore({select:z.bind(this),arrayCompare:true,onChange:j.bind(this),compareFunc:f.bind(this)});this.observeStore({select:h.bind(this),onChange:e.bind(this)})};n.Polymer({is:"ad-create-job-solver-args-container",properties:{handler:{type:Object,observer:"handlerSet"},solverArguments:{type:Array,notify:true},jobId:{type:String,observer:"handlerSet"},isReady:{type:Promise},hasPreDefinedApp:{type:Boolean}},ready:function(){this.isReady=Promise.resolve().then(this.initReduxBehavior.bind(this)).then(m.bind(this))},handlerSet:function(){if(this.handler&&this.jobId){this.isReady.then(function(){t.apply(this);s.apply(this);this.hasPreDefinedApp=this.handler.hasPredefinedApp(this.store.getState(),this.jobId);this.fire("reduxready",{})}.bind(this))}},onSolverArgsChanged:function(){return p.apply(this,arguments)},onNotifyRemoved:function(){return d.apply(this,arguments)},onJobCommandChange:function(){return x.apply(this,arguments)},behaviors:[DS.SMAProcSP.SPBase,DS.SMAPoweredByViews.ADReduxBehaviour]})}(this));
/*!  Copyright 2016 Dassault Systemes. All rights reserved. */
(function(e){var b=e.Polymer,i=e.DS;var l=null,d=null,j=null,h=null,a={select:"select"},g={breadcrumb:".adbreadcrumb",breadcrumbSeparator:".adbreadcrumb-separator"},m={click:"click"},n={live:"is-live"},f=null,k=null,c=null;l=function(){var q=this.DOM(this.$.breadcrumbs).find(g.breadcrumb).elements(),o,p;o=q.length;for(p=0;p<o;p++){q[p].removeEventListener(m.click,this._eventBinding);this.DOM(q[p]).removeClass(n.live);if(p<(o-1)){this.DOM(q[p]).addClass(n.live);q[p].addEventListener(m.click,this._eventBinding,false)}}};d=function(r){var q=b.dom(this.$.breadcrumbs).childNodes,t,s,o=null,p;p=q.length-1;while(p>=0){t=q[p];s=t.id;if(s!==r.id){b.dom(b.dom(t).parentNode).removeChild(t);this._itemObjects.pop();p--;if(p>0){t=q[p];b.dom(b.dom(t).parentNode).removeChild(t);p--}}else{o=this._itemObjects[this._itemObjects.length-1];break}}if(!this.showRootBreadcrumb&&(this._itemObjects.length===1)){this.DOM(this.$.breadcrumbs).find(g.breadcrumb).addClass("hidden")}return o};j=function(){this._itemObjects=[];this._eventBinding=h.bind(this)};h=function(q){if(q){var p=q.target,o;if(p){o=d.call(this,p);l.call(this);this.fire(a.select,{item:o})}}};f=function(p,o){var q;if(this._itemObjects.length===0){q=document.createElement("div");b.dom(q).setAttribute("id",this._itemObjects.length);b.dom(q).setAttribute("class","adbreadcrumb");b.dom(q).appendChild(document.createTextNode(o));b.dom(this.$.breadcrumbs).appendChild(q);if(!this.showRootBreadcrumb){this.DOM(this.$.breadcrumbs).find(g.breadcrumb).addClass("hidden")}}else{if((this._itemObjects.length===1)&&!this.showRootBreadcrumb){this.DOM(this.$.breadcrumbs).find(g.breadcrumb).removeClass("hidden")}q=document.createElement("div");b.dom(q).setAttribute("class","adbreadcrumb-separator");b.dom(this.$.breadcrumbs).appendChild(q);q=document.createElement("div");b.dom(q).setAttribute("id",this._itemObjects.length);b.dom(q).setAttribute("class","adbreadcrumb");b.dom(q).appendChild(document.createTextNode(o));b.dom(this.$.breadcrumbs).appendChild(q)}this._itemObjects.push(p);l.call(this)};k=function(){var r=b.dom(this.$.breadcrumbs).childNodes,o,q,p=null;o=r.length;q=r[o-1];if(q){b.dom(b.dom(q).parentNode).removeChild(q);p=this._itemObjects.pop()}if(o>1){q=r[o-2];if(q){b.dom(b.dom(q).parentNode).removeChild(q)}}if(!this.showRootBreadcrumb&&(o===3)){this.DOM(this.$.breadcrumbs).find(g.breadcrumb).addClass("hidden")}l.call(this);return p};c=function(){var p=b.dom(this.$.breadcrumbs).childNodes,o;for(o=p.length-1;o>=0;o--){b.dom(b.dom(p[o]).parentNode).removeChild(p[o])}this._itemObjects.splice(0)};i.SMAProcADUI=i.SMAProcADUI||{};i.SMAProcADUI.ADBreadcrumbs=b({is:"ad-breadcrumbs",properties:{showRootBreadcrumb:{type:Boolean,value:false}},ready:function(){return j.apply(this,arguments)},onClick:function(){return h.apply(this,arguments)},push:function(){return f.apply(this,arguments)},pop:function(){return k.apply(this,arguments)},clear:function(){return c.apply(this,arguments)},behaviors:[i.SMAProcSP.SPBase]});i.SMAProcADUI.ADBreadcrumbs.EVENTS=i.SMAProcADUI.ADBreadcrumbs.EVENTS||a}(this));
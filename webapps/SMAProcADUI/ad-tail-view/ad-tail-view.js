/*!  Copyright 2016 Dassault Systemes. All rights reserved. */
(function(i){var f=i.Polymer,l=i.DS;var d=null,k=null,n=null,g=null,m=null,c=null,j=100,h="text-error",a=null,e=null,b=null;d=function(){if(this.linesDisplayed===0){return"Full"}else{return this.linesDisplayed+" lines"}};k=function(){this.refreshTail("");this.linesDisplayed=-1;this._currentPosition=0;this.changeViewLine(10)};n=function(){if(this.$.isDash.isInDashboard()){this.DOM(this.$.tailContent).addClass("tailDashboard")}};g=function(o){o.stopPropagation();o.cancelBubble=true;this.$.selectNbLinesddMenu.visible=true;return true};m=function(p){p.stopPropagation();p.cancelBubble=true;this.$.selectNbLinesddMenu.visible=false;var o=p.detail.selectedItem;if(!o){return}if(o.label.charAt(0)==="1"){a.call(this,10)}else{if(o.label.charAt(0)==="2"){a.call(this,20)}else{if(o.label.charAt(0)==="4"){a.call(this,40)}else{a.call(this,0)}}}};c=function(o){o.stopPropagation();o.cancelBubble=true;if(this.onNbLinesChanged){this.onNbLinesChanged.call(this,j,this._currentPosition+1)}};a=function(o){var p=0;if(o!==this.linesDisplayed){this.$.tailContent.value="";this.$.vm.style.display="none";this._currentPosition=0;if(o===0){this.$.tailContent.style.height="";this.$.tailContent.rows=42;this.linesDisplayed=0;p=1;o=j}else{if(o===10){this.$.tailContent.style.height="";this.$.tailContent.rows=12;this.linesDisplayed=10}else{if(o===20){this.$.tailContent.style.height="";this.$.tailContent.rows=22;this.linesDisplayed=20}else{if(o===40){this.$.tailContent.style.height="";this.$.tailContent.rows=42;this.linesDisplayed=40}}}}if(this.onNbLinesChanged){this.onNbLinesChanged.call(this,o,p)}}};e=function(q,r,o,p){if(r){this._currentPosition+=j;if(!o){this.$.vm.style.display="block"}else{this.$.vm.style.display="none"}this.$.tailContent.value+=q}else{this.$.tailContent.value=q;this._currentPosition=0;this.$.vm.style.display="none"}if(p){this.DOM(this.$.tailContent).addClass(h)}else{this.DOM(this.$.tailContent).removeClass(h)}};b=function(){var o=this.linesDisplayed;this.linesDisplayed=-1;a.call(this,o)};l.SMAProcADUI=l.SMAProcADUI||{};l.SMAProcADUI.ADTailView=f({is:"ad-tail-view",properties:{directory:{type:Object,value:null},linesDisplayed:{type:Number,value:function(){return -1}},model:{type:Object,value:null,observer:"modelChanged"},modelModified:{type:String,value:null},onNbLinesChanged:{type:Object,value:null}},ready:function(){return n.apply(this,arguments)},onSelectNbLines:function(){return g.apply(this,arguments)},onSetViewLines:function(){return m.apply(this,arguments)},onViewMore:function(){return c.apply(this,arguments)},changeViewLine:function(){return a.apply(this,arguments)},refreshTail:function(){return e.apply(this,arguments)},refreshCurrent:function(){return b.apply(this,arguments)},modelChanged:function(){k.call(this)},behaviors:[l.SMAProcSP.SPBase],_computeFileTitleText:function(){var o="";if(this.model){o+=this.model.name;if(this.modelModified){o+=" ("+this.modelModified+")"}}return o},_computeButtonLabel:function(){return d.call(this)},})}(this));
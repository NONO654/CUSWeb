/*!  Copyright 2016 Dassault Systemes. All rights reserved. */
window.require(["DS/UIKIT/Input/Select"],function(a){var e=window.Polymer,i=window.DS;var l=null,b=null,c=null,f=null,g=null,j=null,d={onCloud:"oncloud",onPremise:"onpremise"},h={cloud:"Cloud"},k={python:"Abaqus/Python",viewer:"Abaqus/Viewer",cae:"Abaqus/CAE"};b=function(){e.dom(this.$.onCloudWhere).classList.remove("hidden");e.dom(this.$.onPremiseWhere).classList.add("hidden")};c=function(){e.dom(this.$.onCloudWhere).classList.add("hidden");e.dom(this.$.onPremiseWhere).classList.remove("hidden")};f=function(){var m;if(this.session){if(this.session.onCloud&&(this.tools.length>0)&&this.tools[0].configuration.getAppName()!==k.python&&this.tools[0].configuration.getAppName()!==k.viewer&&this.tools[0].configuration.getAppName()!==k.cae){m=this.tools[0].getExecutionConfig();if(m.properties.drmMode===h.cloud||m.properties.drmMode===null){this.$.location.select(d.onCloud);this.$.onCloudWhere.tools=this.tools;b.call(this);this.$.onCloudWhere.setCloudExecConfig();this.$.onCloudWhere.setEnvSettingsProperty()}else{this.$.location.select(d.onPremise);this.$.onPremiseWhere.tools=this.tools;c.call(this)}}else{this.$.location.disable(d.onCloud);this.$.location.select(d.onPremise);this.$.onPremiseWhere.tools=this.tools;c.call(this)}}};l=function(m){m.stopPropagation();m.cancelBubble=true;m.preventDefault();if(this.$.location.getSelection()[0].value===d.onCloud){this.$.onCloudWhere.tools=this.tools;b.call(this);this.$.onCloudWhere.refresh();this.$.onCloudWhere.setCloudExecConfig()}else{if(this.$.location.getSelection()[0].value===d.onPremise){this.$.onPremiseWhere.tools=this.tools;c.call(this);this.$.onPremiseWhere.refresh();this.$.onPremiseWhere.setOnPremiseExecConfig()}}};g=function(){this.$.location=new a({id:"location",required:true,placeholder:false,options:[{value:"oncloud",label:"On-Cloud",selected:true},{value:"onpremise",label:"On-Premise"}]});this.$.location.inject(this.$.locationContainer);this.$.location.addEvent("onChange",l,this)};j=function(){g.call(this)};i.SMAProcADUI=window.DS.SMAProcADUI||{};i.SMAProcADUI.ADToolConfigWhereWrapper=e({is:"ad-tool-config-where-wrapper",properties:{session:{value:null},tools:{type:Array,value:function(){return[]},observer:"toolsChanged"}},ready:function(){return j.apply(this,arguments)},toolsChanged:function(){f.call(this)},onLocationChange:function(){return l.apply(this,arguments)},behaviors:[i.SMAProcSP.SPBase]})});
/*!  Copyright 2016 Dassault Systemes. All rights reserved. */
window.require(["DS/SMAProcADUI/ad-station/ADStation"],function(c){var h=window.DS;var b="vm_os=",e="vm_cpus=";var d=function(k){var j=[];if(k&&(typeof(k.attributes)!=="undefined")&&(typeof(k.attributes.definition)!=="undefined")&&(typeof(k.attributes.definition.flowItem)!=="undefined")&&(typeof(k.attributes.definition.flowItem.implementations)!=="undefined")&&(k.attributes.definition.flowItem.implementations.length>0)&&(typeof(k.attributes.definition.flowItem.implementations[0].children)!=="undefined")){j=k.attributes.definition.flowItem.implementations[0].children}return j};var g=function(k,n){var m=null,l=null,j;if(k&&(typeof(k.FlowItem.stepConfig.childConfigs)!=="undefined")&&k.FlowItem.stepConfig.childConfigs){m=k.FlowItem.stepConfig.childConfigs;for(j=0;j<m.length;j++){if(((typeof(m[j].pluginConfig)!=="undefined")&&m[j].pluginConfig)&&(typeof(m[j].pluginConfig.extensionName)!=="undefined")&&(m[j].pluginConfig.extensionName===n)){l=m[j].pluginConfig;break}}}return l};var i=function(n){var j=d.call(this,n),m=null,l=null,k;for(k=0;k<j.length;k++){if(j[k].FlowItem.stepConfig.extensionName===h.SMAProcADUI.ADToolManager.EXTENSIONTYPES.v6Utility){m=g(j[k],h.SMAProcADUI.ADToolManager.EXTENSIONTYPES.v6UtilityPISimImport);if(m){l=m;break}}}return l};var f=function(){var k,l,j=[];if(this._activity){if((typeof(this._activity.attributes)!=="undefined")&&(typeof(this._activity.attributes.definition)!=="undefined")&&(typeof(this._activity.attributes.definition.flowItem)!=="undefined")&&(typeof(this._activity.attributes.definition.flowItem.implementations)!=="undefined")&&(this._activity.attributes.definition.flowItem.implementations.length>0)&&(typeof(this._activity.attributes.definition.flowItem.implementations[0].children)!=="undefined")){k=this._activity.attributes.definition.flowItem.implementations[0].children;for(l=0;l<k.length;l++){if(k[l].FlowItem.stepConfig.extensionName===h.SMAProcADUI.ADToolManager.EXTENSIONTYPES.v6Utility){j.push(k[l])}}}}return j};var a=function(){var j=f.call(this);for(var k=0;k<j.length;k++){if(j[k]&&(typeof(j[k].FlowItem.stepConfig)!=="undefined")&&(typeof(j[k].FlowItem.stepConfig["3DX_LANG"])==="undefined")){j[k].FlowItem.stepConfig["3DX_LANG"]=window.navigator.userLanguage||window.navigator.language}}if(this._updateObject){this._updateObject.update()}};h.SMAProcADUI=h.SMAProcADUI||{};h.SMAProcADUI.ADToolManagerSimToSOStrategy=function(){this._activity=null;this._updateObject=null;this._simFile=null;this._configurationProperties=[]};h.SMAProcADUI.ADToolManagerSimToSOStrategy.prototype.load=function(l,j){var k=null;this._activity=l;this._updateObject=j;if(this._activity){this._simFile=null;k=i.call(this,this._activity);if(k&&(typeof(k.properties.PLMBatchArguments)!=="undefined")&&k.properties.PLMBatchArguments&&(typeof(k.properties.PLMBatchArguments.NewSimulation_Results)!=="undefined")){this._simFile=k.properties.PLMBatchArguments.NewSimulation_Results}}a.call(this)};h.SMAProcADUI.ADToolManagerSimToSOStrategy.prototype.prepareToRun=function(){if(this._updateObject){this._updateObject.update(true)}};h.SMAProcADUI.ADToolManagerSimToSOStrategy.prototype.getSimFile=function(){return this._simFile};h.SMAProcADUI.ADToolManagerSimToSOStrategy.prototype.setSimFile=function(k){var j=null;this._simFile=k;if(this._activity){j=i.call(this,this._activity);if(j&&(typeof(j.properties.PLMBatchArguments)!=="undefined")){j.properties.PLMBatchArguments.NewSimulation_Results=this._simFile;j.properties.PLMBatchArguments.Simulation_Title=k.replace(/\.[^/.]+$/,"")}}if(this._updateObject){this._updateObject.update()}};h.SMAProcADUI.ADToolManagerSimToSOStrategy.prototype.getResultsUnits=function(){var j=null,k;if(this._activity){j=i.call(this,this._activity);if(j&&(typeof(j.properties)!=="undefined")){k=j.properties.ImportUnits}}return k};h.SMAProcADUI.ADToolManagerSimToSOStrategy.prototype.setResultsUnits=function(k){var j=null;if(this._activity){j=i.call(this,this._activity);if(j&&(typeof(j.properties.PLMBatchArguments)!=="undefined")){j.properties.PLMBatchArguments.ImportUnits=k;j.properties.ImportUnits=k}}if(this._updateObject){this._updateObject.update()}};h.SMAProcADUI.ADToolManagerSimToSOStrategy.prototype.getConfigurationProperties=function(){return this._configurationProperties};h.SMAProcADUI.ADToolManagerSimToSOStrategy.prototype.setConfigurationProperties=function(j){this._configurationProperties=j;if(this._updateObject){this._updateObject.update()}};h.SMAProcADUI.ADToolManagerSimToSOStrategy.prototype.setCommandLineforCloud=function(k){var j=null;if(this._configurationProperties&&(typeof(this._configurationProperties.commandType)!=="undefined")&&k.CloudConfig){j=this.getCommandLine();this._configurationProperties.command=j+" "+b+k.CloudConfig.os+" "+e+k.CloudConfig.numprocs}if(this._updateObject){this._updateObject.update(true)}};h.SMAProcADUI.ADToolManagerSimToSOStrategy.prototype.runsOnStation=function(k){var j=false;if(k&&(k.os===c.ADStation.OSTYPES.windows)){j=true}return j};h.SMAProcADUI.ADToolManagerSimToSOStrategy.prototype.getAppName=function(){return"Import Simulation Results"};h.SMAProcADUI.ADToolManagerSimToSOStrategy.isInstanceOfTool=function(p){var o=false,k=false,n=false,j=d.call(this,p),m=null,l;for(l=0;l<j.length;l++){if(j[l].FlowItem.stepConfig.extensionName===h.SMAProcADUI.ADToolManager.EXTENSIONTYPES.v6Utility){if(!k){m=g(j[l],h.SMAProcADUI.ADToolManager.EXTENSIONTYPES.v6UtilityPISimImport);if(m){k=true}else{break}}else{if(!n){m=g(j[l],h.SMAProcADUI.ADToolManager.EXTENSIONTYPES.v6UtilityPIResultsGen);if(m){n=true;o=true}else{break}}else{o=false;break}}}}return o}});
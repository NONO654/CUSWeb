/*!  Copyright 2017 Dassault Systemes. All rights reserved. */
define(["DS/SMAProcADUI/ad-util/ADObservable"],function(b){var a={};var e="{localhost}",d="_cloud_";var c={invalid:"Invalid",unknown:"Unknown",running:"Running",offline:"Offline",quieting:"Quieting",shutdown:"Shutdown",suspended:"Suspended"},g={windows:"windows",linux:"linux"};var f=function(){this.name="";this._status="Status unknown";this.os=g.windows;this.runAsEnabled=true;this.allowedUsers=[];this.domains=[];Object.defineProperty(this,"status",{get:function(){return this._status},set:function(h){if(this._status!==h){this._status=h;this.notifyObservers("status")}}});b.makeObservable(this)};a.ADStation=f;f.LOCALSTATIONNAME=e;f.CLOUDSTATIONNAME=d;f.STATUS=c;f.OSTYPES=g;f.prototype.load=function(o){var h=null,n="",l,k="",j,m;this.name="";this._status="Status unknown";this.os=g.windows;this.runAsEnabled=true;this.allowedUsers=[];this.domains=[];if(o){this.name=o["@name"];this._status=o["@status"];if(typeof o.GeneralInfo!=="undefined"&&o.GeneralInfo){h=o.GeneralInfo["@os"];if(typeof h!=="undefined"&&h&&h.toLowerCase()==="unix"){this.os=g.linux}this.runAsEnabled=o.GeneralInfo["@disableRunAs"]!=="disabled";n=o.GeneralInfo["@allowedUsers"];if(n){l=n.split(/[\s,]/);for(m=0;m<l.length;m++){if(l[m].length>0){this.allowedUsers.push(l[m])}}}if(this.os===g.windows){k=o.GeneralInfo["@domain"];if(k){j=k.split(/[\s,]/);for(m=0;m<j.length;m++){if(j[m].length>0){this.domains.push(j[m])}}}}}}};return a});
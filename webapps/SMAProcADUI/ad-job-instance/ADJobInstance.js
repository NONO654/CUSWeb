/*!  Copyright 2016 Dassault Systemes. All rights reserved. */
define(["DS/SMAProcADUI/ad-util/ADObservable"],function(b){var a={};var c=function(){this._job=null;this.jobEedId="";this.jobEedServer="";this.jobLabel="";this.jobLogEntries=[];this.jobMcsId="";this.jobMcsPhysicalId="";this.jobProcessId="";this.jobType="";this.jobRemarks="";this._jobStartTime="";this._jobState="";this._jobStopTime="";this.jobTitle="";this.jobToolIcon="";this.jobToolTitle="";Object.defineProperty(this,"jobStartTime",{get:function(){return this._jobStartTime},set:function(d){this._jobStartTime=d;this.notifyObservers("jobStartTime")}});Object.defineProperty(this,"jobState",{get:function(){return this._jobState},set:function(d){this._jobState=d;this.notifyObservers("jobState")}});Object.defineProperty(this,"jobStopTime",{get:function(){return this._jobStopTime},set:function(d){this._jobStopTime=d;this.notifyObservers("jobStopTime")}});Object.defineProperty(this,"isFinished",{get:function(){return(this.jobState&&(this.jobState!=="Running")&&(this.jobState!=="Paused")&&(this.jobState!=="NotStarted")&&(this.jobState!=="Initializing")&&(this.jobState!=="Waiting"))}});Object.defineProperty(this,"isStarted",{get:function(){return(this.jobState&&((this.jobState==="Running")||(this.jobState==="Paused")))}});b.makeObservable(this)};a.ADJobInstance=c;c.prototype.load=function(d){this._job=d;this.jobMcsId=this._job.objectId;this.jobMcsPhysicalId=this._job.physicalId;this.jobEedId=this._job.eedJobId;this.jobEedServer=this._job.eedServerName;this.jobTitle=this._job.title;this._jobState=this._job.status;this.jobRemarks=this._job.remarkString;this.jobType=this._job.type;if(this.jobType!=="tool"&&this.jobType!=="upload"&&this.jobType!=="download"){this.jobType="tool"}this._jobStartTime=this._job.startDate;if(!this.jobStartTime||(this.jobStartTime.trim()==="")){this.jobStartTime="N/A"}this._jobStopTime=this._job.endDate;if(!this.jobStopTime||(this.jobStopTime.trim()==="")){this.jobStopTime="N/A"}this.jobLogEntries=[];this._initializing=false};return a});
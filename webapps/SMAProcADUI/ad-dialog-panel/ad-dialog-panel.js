/*!  Copyright 2016 Dassault Systemes. All rights reserved. */
(function(g){var e=g.Polymer,i=g.DS;var j=null,c=null,b=null,k=null,l=null,n=null,h=null,d={close:"close",stretch:"stretch",popup:"popup",refresh:"refresh"},f=null,m=null,a=null;j=function(){this.DOM(this.$.panel).addClass("open")};c=function(){if(!this.isOpen()){this.$.panel.style.display="none";this.fire(d.close,{})}else{}};k=function(o){o.stopPropagation();o.cancelBubble=true;this.fire(d.close,{});m.call(this);if(e.dom(this.$.panel).classList.contains("stretch")){this.DOM(e.dom(this.$.panel).querySelector("#resizeIcon")).toggleClass("fonticon-resize-small");this.DOM(this.$.panel).toggleClass("stretch")}};l=function(o){o.stopPropagation();o.cancelBubble=true;this.DOM(this.$.panel).toggleClass("open");this.DOM(e.dom(this.$.panel).querySelector("#resizeIcon")).toggleClass("fonticon-resize-small");if(e.dom(this.$.panel).querySelector("#resizeIcon").classList.contains("fonticon-resize-small")){e.dom(this.$.panel).querySelector("#panelStretchButton").title="Minimize"}else{e.dom(this.$.panel).querySelector("#panelStretchButton").title="Maximize"}this.DOM(this.$.panel).toggleClass("stretch");this.fire(d.stretch,{})};n=function(o){o.stopPropagation();o.cancelBubble=true;if(e.dom(this.$.panel).classList.contains("stretch")){this.DOM(e.dom(this.$.panel).querySelector("#resizeIcon")).toggleClass("fonticon-resize-small");this.DOM(this.$.panel).toggleClass("stretch")}this.DOM(this.$.panel).toggleClass("popup");this.DOM(e.dom(this.$.panel).querySelector("#panelStretchButton")).toggleClass("hidden");this.fire(d.popup,{})};h=function(o){o.stopPropagation();o.cancelBubble=true;this.fire(d.refresh,{})};b=function(){this.async(function(){this.$.panel.addEventListener("transitionend",c.bind(this),false)});if(this.showStretch||this.$.spDash.isInDashboard()){this.$.panel.classList.add("noTransition")}};f=function(){this.$.panel.style.display="block";g.setTimeout(j.bind(this),1)};m=function(){this.DOM(this.$.panel).removeClass("open")};a=function(){if(e.dom(this.$.panel).classList.contains("open")||e.dom(this.$.panel).classList.contains("stretch")){return true}else{return false}};i.SMAProcADUI=i.SMAProcADUI||{};i.SMAProcADUI.ADDialogPanel=e({is:"ad-dialog-panel",properties:{showRefresh:{type:Boolean,value:false},showStretch:{type:Boolean,value:false}},attached:function(){return b.apply(this,arguments)},onClose:function(){return k.apply(this,arguments)},onStretch:function(){return l.apply(this,arguments)},onPopUp:function(){return n.apply(this,arguments)},onRefresh:function(){return h.apply(this,arguments)},open:function(){return f.apply(this,arguments)},close:function(){return m.apply(this,arguments)},isOpen:function(){return a.apply(this,arguments)},hostAttributes:{draggable:"false"},behaviors:[i.SMAProcSP.SPBase]});i.SMAProcADUI.ADDialogPanel.EVENTS=i.SMAProcADUI.ADDialogPanel.EVENTS||d}(this));
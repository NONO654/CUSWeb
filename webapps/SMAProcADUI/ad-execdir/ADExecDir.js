/*!  Copyright 2016 Dassault Systemes. All rights reserved. */
define(["DS/SMAProcADUI/ad-util/ADObservable"],function(h){var e={};var f="__AdHoc_RemoveAfterJob",k="__AdHoc_Disabled",m="__AdHoc_EEDJobID=",i="__AdHoc_MCSJobID=",b="__AdHoc_ServerID=",d="|";var j=function(){this._initializing=false;this._updateObject=null;this._processExecDir={};this._cosJobID=null;this._mcsJobID=null;this._station=null;this._serverID=null;this._path=null;this._activityMonitor=false;this._filemonJobID=null;this._filemonURL=null;this._credentials=null;this._name=null;this._lastModified=null;this._files=[];this._folders=[];this._modelID=null;this._type="execdir";this._creating=false;this._loaded=null;this._accessDisabled=false;this._autoRefreshEnabled=false;this._loadFailed=false;this._notFound=false;this._removeAfterJob=false;Object.defineProperty(this,"cosJobID",{get:function(){return this._cosJobID},set:function(n){this._cosJobID=n;if(!this._initializing&&this._processExecDir){this._processExecDir.name=c.call(this);if(this._updateObject&&this._updateObject.update){this._updateObject.update()}}}});Object.defineProperty(this,"mcsJobID",{get:function(){return this._mcsJobID},set:function(n){this._mcsJobID=n;if(!this._initializing&&this._processExecDir){this._processExecDir.name=c.call(this);if(this._updateObject&&this._updateObject.update){this._updateObject.update()}}}});Object.defineProperty(this,"station",{get:function(){return this._station},set:function(n){this._station=n;if(!this._initializing&&this._processExecDir){this._processExecDir.station=this._station;if(this._updateObject&&this._updateObject.update){this._updateObject.update()}}this.notifyObservers("station")}});Object.defineProperty(this,"serverID",{get:function(){return this._serverID},set:function(n){this._serverID=n;if(!this._initializing&&this._processExecDir){this._processExecDir.name=c.call(this);if(this._updateObject&&this._updateObject.update){this._updateObject.update()}}this.notifyObservers("serverID")}});Object.defineProperty(this,"path",{get:function(){return this._path},set:function(n){this._path=n;if(!this._initializing&&this._processExecDir){this._processExecDir.path=this._path;if(this._updateObject&&this._updateObject.update){this._updateObject.update()}}this.notifyObservers("path")}});Object.defineProperty(this,"activityMonitor",{get:function(){return this._activityMonitor},set:function(n){this._activityMonitor=n}});Object.defineProperty(this,"filemonJobID",{get:function(){return this._filemonJobID},set:function(n){this._filemonJobID=n}});Object.defineProperty(this,"filemonURL",{get:function(){return this._filemonURL},set:function(n){this._filemonURL=n}});Object.defineProperty(this,"credentials",{get:function(){return this._credentials},set:function(n){this._credentials=n;if(!this._initializing&&this._processExecDir){g.call(this);if(this._updateObject&&this._updateObject.update){this._updateObject.update()}}this.notifyObservers("credentials")}});Object.defineProperty(this,"name",{get:function(){return this._name},set:function(n){this._name=n;if(!this._initializing&&this._processExecDir){this._processExecDir.name=c.call(this);if(this._updateObject&&this._updateObject.update){this._updateObject.update()}}this.notifyObservers("name")}});Object.defineProperty(this,"type",{get:function(){return this._type},set:function(n){this._type=n}});Object.defineProperty(this,"lastModified",{get:function(){return this._lastModified},set:function(n){this._lastModified=n;if(!this._initializing&&this._processExecDir){this._processExecDir.lastModified=this._lastModified;if(this._updateObject&&this._updateObject.update){this._updateObject.update()}}this.notifyObservers("lastModified")}});Object.defineProperty(this,"files",{get:function(){return this._files},set:function(n){this._files=n;this.notifyObservers("files")}});Object.defineProperty(this,"folders",{get:function(){return this._folders},set:function(n){this._folders=n;this.notifyObservers("folders")}});Object.defineProperty(this,"modelID",{get:function(){return this._modelID},set:function(n){this._modelID=n}});Object.defineProperty(this,"creating",{get:function(){return this._creating},set:function(n){this._creating=n}});Object.defineProperty(this,"loaded",{get:function(){return this._loaded},set:function(n){this._loaded=n}});Object.defineProperty(this,"accessDisabled",{get:function(){return this._accessDisabled},set:function(n){this._accessDisabled=n;if(!this._initializing&&this._processExecDir){this._processExecDir.name=c.call(this);if(this._updateObject&&this._updateObject.update){this._updateObject.update()}}this.notifyObservers("accessDisabled")}});Object.defineProperty(this,"autoRefreshEnabled",{get:function(){return this._autoRefreshEnabled},set:function(n){this._autoRefreshEnabled=n}});Object.defineProperty(this,"loadFailed",{get:function(){return this._loadFailed},set:function(n){this._loadFailed=n}});Object.defineProperty(this,"notFound",{get:function(){return this._notFound},set:function(n){this._notFound=n}});Object.defineProperty(this,"removeAfterJob",{get:function(){return this._removeAfterJob},set:function(n){this._removeAfterJob=n;if(!this._initializing&&this._processExecDir){this._processExecDir.name=c.call(this);if(this._updateObject&&this._updateObject.update){this._updateObject.update()}}}});h.makeObservable(this)};e.ADExecDir=j;j.prototype.load=function(o,n){this._processExecDir=o;this._updateObject=n;a.call(this)};j.prototype.save=function(o,n){if(null!==o){this._processExecDir=o}if(null!==n){this._updateObject=n}if(null!==this._processExecDir){this._processExecDir.name=c.call(this);this._processExecDir.path=this.path;this._processExecDir.lastModified=this.lastModified;if(this.station){this._processExecDir.station=this.station}g.call(this)}};var a=function(){var n=null;this._initializing=true;this.modelID=this._processExecDir.name;l.call(this,this._processExecDir.name);this.lastModified=this._processExecDir.lastModified;this.path=this._processExecDir.path;if(this._processExecDir.station){this.station=this._processExecDir.station}else{this.station=null}this.filemonJobID=null;this.filemonURL=null;this.folders=[];this.files=[];this._activityID="DUMMY_ID";if(this._processExecDir.user&&(this._processExecDir.user.length>0)){n=this._processExecDir.user.split("\\");if(n.length===2){this.credentials={encryptedCredentials:null,domainName:n[0],windowsUser:n[1],windowsPass:null,linuxUser:null,linuxPass:null}}else{if(n.length===1){this.credentials={encryptedCredentials:null,domainName:null,windowsUser:null,windowsPass:null,linuxUser:n[0],linuxPass:null}}}}else{this.credentials=null}this._initializing=false};var g=function(){this._processExecDir.user="";if(this.credentials){if(this.credentials.domainName&&this.credentials.domainName.length>0&&this.credentials.windowsUser&&this.credentials.windowsUser.length>0){this._processExecDir.user=this.credentials.domainName+"\\"+this.credentials.windowsUser}else{if(this.credentials.linuxUser&&this.credentials.linuxUser.length>0){this._processExecDir.user=this.credentials.linuxUser}}}};var l=function(s){var n=s.split(d),p,r,q="",o=false;for(p=0;p<n.length;p++){r=n[p];if(r===k){o=true;this.accessDisabled=true}else{if(r===f){o=true;this.removeAfterJob=true}else{if(r.indexOf(m)===0){o=true;this.cosJobID=r.substring(m.length)}else{if(r.indexOf(i)===0){o=true;this.mcsJobID=r.substring(i.length)}else{if(r.indexOf(b)===0){o=true;this.serverID=r.substring(b.length)}else{if(!o){if(p>0){q+=d}q+=r}}}}}}}this.name=q};var c=function(){var n=this.name;if(this.accessDisabled){n+=d;n+=k}if(this.removeAfterJob){n+=d;n+=f}if(this.cosJobID&&this.cosJobID.length>0){n+=d;n+=m;n+=this.cosJobID}if(this.mcsJobID&&this.mcsJobID.length>0){n+=d;n+=i;n+=this.mcsJobID}if(this.serverID&&this.serverID.length>0){n+=d;n+=b;n+=this.serverID}return n};return e});
define("DS/ENOCharacteristicsWebApp/controls/CharacteristicsWindow",["UWA/Core","DS/PlatformAPI/PlatformAPI","DS/Controls/Abstract","DS/ApplicationFrame/FrameWindow","DS/ApplicationFrame/CommandsManager"],function(b,d,c,e,a){var g=c.extend({name:"CharacteristicsWindow",defaultOptions:{className:"eno-gls-CharacteristicsWindow",},mIsConsolidatedView:false,mFrameWindow:null,mCharListApp:null,mDlgWindow:null,init:function h(j){this._parent(j);this.commandId=j.ID;if(j.ID=="ShowConsolidatedCharactscsCmd"){this.mIsConsolidatedView=true}this._buildSkeleton();this._setSelectionCallbacks()},setDlgWindow:function(j){this.mDlgWindow=j},getDlgWindow:function(){return this.mDlgWindow},_buildSkeleton:function f(){this.elements.container=b.createElement("div",{"class":"eno-gls-charactcswindow-container"});var j="ENOCharacteristicsWebApp.xml";if(this.mIsConsolidatedView){j="ENOConsCharacteristicsWebApp.xml"}var l={workbench:j,workbenchModule:"ENOCharacteristicsWebApp",viewer:"none",width:"100%",context:this.commandId,language:widget.lang,ignoreResetCommandManager:true};this.mFrameWindow=new e(l).inject(this.elements.container);var k=this;require(["DS/ENOCharacteristicsWebApp/utils/WidgetShell"],function(n){var m=new n({target:k.mFrameWindow.getUIFrame(),app:{module:"DS/ENOCharacteristicsWebApp/ENOCharacteristicsWebApp"},isConsolidatedView:k.mIsConsolidatedView});m.runApp(k._setCharListApp.bind(k))})},_setCharListApp:function(j){this.mCharListApp=j},getCharListControl:function(){return this.mCharListApp?this.mCharListApp.charControl:null},_setSelectionCallbacks:function i(){d.subscribe("DS.MGA.Selection.SelectionModified",this.setSelection);d.subscribe("DS.MFN.Selection.SelectionModified",this.setSelection)}});return g});
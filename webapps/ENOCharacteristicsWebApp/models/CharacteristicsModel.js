define("DS/ENOCharacteristicsWebApp/models/CharacteristicsModel",["UWA/Class/Model","DS/Tree/TreeNodeModel","DS/ENOCharacteristicsWebApp/utils/Constants","DS/ENOCharacteristicsWebApp/utils/RequestUtils","i18n!DS/ENOCharacteristicsWebApp/assets/nls/ENOCharacteristicsWebAppNLS"],function(e,f,a,c,d){f.prototype.setAttributeWithLabel=function(h,i){if(this.options.label===undefined||typeof this.options.label==="string"){this.options.label={}}this.setAttribute(h,i);var j;var g=i;if(typeof i.replace==="function"){j=i.replace(/\s/g,"");if(UWA.is(d[j])){g=d[j]}}this.options.label[h]=g};var b=e.extend({mTreeNodeModel:null,mCategory:null,setup:function(g){this.mCategory=g.Category;this.mTreeNodeModel=new f({label:{},grid:{Title:"",current:"",},});this.mTreeNodeModel.setAttribute("ownerModel",this);this.mTreeNodeModel.setAttribute("modelType",a.CHARACTERISTICS_MODEL_TYPE);return},fromJSON:function(g){for(var h in g){if(g.hasOwnProperty(h)){this.mTreeNodeModel.setAttributeWithLabel(h,g[h])}}},deleteCharacteristic:function(){this.mTreeNodeModel.remove();this.mCategory.updateCategory()},removeCharacteristic:function(){this.mTreeNodeModel.remove();this.mCategory=null},copyDataFromNodeModel:function(g){this.fromJSON(g.grid);this.mTreeNodeModel.setAttribute("ownerModel",this);this.mTreeNodeModel.setAttribute("categoryName",this.mCategory.mCharCategory);this.mTreeNodeModel.setLabel(g.label)},});return b});
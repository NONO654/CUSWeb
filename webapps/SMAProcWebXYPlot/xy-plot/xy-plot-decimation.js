define("DS/SMAProcWebXYPlot/xy-plot/xy-plot-decimator",["UWA/Core","UWA/Class"],function(c,b){var a=b.extend({init:function(){this.decimatedData=[]},downsample:function(l,f,e){if(e===true){l.data.droppedData.rawData=l.data.droppedData.originalData;l.data.droppedData.data=l.data.droppedData.originalData}if(l.data.droppedData.rawData&&l.data.droppedData.rawData.length>f){var p=[];var d=0;var o=Math.round(l.data.droppedData.rawData.length/f);for(var m=0;m<l.data.droppedData.rawData.length-o;m+=o){var n=[];for(var h=m;h<Math.min(m+o,l.data.droppedData.rawData.length);h++){n.push(l.data.droppedData.rawData[h])}var q=n.filter(function(j,i,k){return k.indexOf(j)===0});for(var g=0;g<q[0].length;g++){q[0][g]=Number(q[0][g])}p.push(q[0])}if(p[p.length-1]!==l.data.droppedData.rawData[l.data.droppedData.rawData.length-1]){var n=[];n.push(l.data.droppedData.rawData[l.data.droppedData.rawData.length-1]);for(var m=0;m<n[0].length;m++){n[0][m]=Number(n[0][m])}p.push(n[0])}if(!l.data.droppedData.originalData){l.data.droppedData.originalData=l.data.droppedData.rawData}l.data.droppedData.rawData=p}},minmax:function(e,f,d){},downsampleRT:function(l,g){var e=Infinity;var n=-Infinity;for(var m=0;m<l.length;m++){for(var h=1;h<l[m].length;h++){e=Math.min(e,l[m][0]);n=Math.max(n,l[m][0])}}if(l.length>1&&l.length>5000*(n-e)/g){var q=[];var d=0;var p=Math.round(l.length/(5000*(n-e)/g));for(var m=0;m<l.length-p;m+=p){var o=[];for(var h=m;h<Math.min(m+p,l.length);h++){o.push(l[h])}var r=o.filter(function(j,i,k){return k.indexOf(j)===0});for(var f=0;f<r[0].length;f++){r[0][f]=Number(r[0][f])}q.push(r[0])}this.decimatedData=q}else{if(l.length===1||l.length<=5000*(n-e)/g){this.decimatedData=l}}}});return a});
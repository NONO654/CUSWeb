/*!  Copyright 2015 Dassault Systemes. All rights reserved. */
(function(a){Polymer({is:"ra-exp-textarea",properties:{text:{type:String,value:"",notify:true}},getExpression:function(){return this.text},setExpression:function(b){this.text=b},getCursorPosition:function(){var c=this.$.expTextArea;var d=0;if(c.createTextRange){c.focus();var b=c.createTextRange();b.moveStart("character",-c.value.length);d=b.text.length}else{if(c.selectionStart||c.selectionStart==="0"||c.selectionStart===0){d=c.selectionStart}}return d},setCursorPosition:function(d){var c=this.$.expTextArea;if(c.createTextRange){c.focus();var b=c.createTextRange();b.collapse(true);b.moveEnd("character",d);b.moveStart("character",d);b.select();c.focus()}else{if(c.setSelectionRange){c.focus();c.selectionStart=d;c.selectionEnd=d}}},insertAtCursorPosition:function(g){var f=this.$.expTextArea;if(document.selection){f.focus();var b=document.selection.createRange();b.text=g}else{if(f.selectionStart||f.selectionStart==="0"||f.selectionStart===0){var d=f.selectionStart;var c=f.selectionEnd;var h=f.value;var e=h.substring(0,d)+g+h.substring(c,h.length);f.value=e;this.setExpression(e);f.focus();f.selectionStart=d+g.length;f.selectionEnd=d+g.length}else{this.setExpression(f.value+g)}}}})})(this);
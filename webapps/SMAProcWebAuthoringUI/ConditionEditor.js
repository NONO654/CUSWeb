define("DS/SMAProcWebAuthoringUI/ConditionEditor",["DS/SMAProcWebCommonControls/Polymer","DS/SMAProcWebCommonControls/utils","DS/SMAProcWebCMMUtils/SMAJSCMMUtils","DS/SMAProcWebContents/PolyUtils","text!DS/SMAProcWebAuthoringUI/ConditionEditor.html","DS/SMAProcWebCommonControls/HelpIcon","DS/SMAProcWebCommonControls/CalculatorEditor"],function(d,a,c,e,b){a.registerDomModule(b);return d({is:"cmp-condition-editor",properties:{_seqFlow:{type:Object,value:null},_cmmCalc:{type:Object},_cmmCalcNameSpace:{type:Object},flowItemName:{type:String,value:"",notify:true},conditionRadioName:{type:String,value:"",notify:true},expEditorPanel:{type:String,value:"",notify:true},expressionStr:{type:String,value:"",notify:true},expandCollapseBtnIconClass:{type:String,value:"Expand",notify:true},showExpressionPanel:{type:Boolean,value:false},showShortExpressionPanel:{type:Boolean,value:false},showDetailedExpressionPanel:{type:Boolean,value:false}},ready:function(){this.flowItemName="";this.expression="";this._showExpEditor=false;this.isReady=true},attached:function(){},update:function(g,i,l,k){var j=this;if(g){this._seqFlow=g;var f=this._seqFlow.getExecutionMode();if(f===c.ExecutionMode.client["Always Execute"]){this.checkRadioBtn(this.conditionRadioName,"ae")}else{if(f===c.ExecutionMode.client["Never Execute"]){this.checkRadioBtn(this.conditionRadioName,"ne")}else{this.checkRadioBtn(this.conditionRadioName,"ce")}}this.flowItemName=this._seqFlow.getToFlowItem().getName()+":";this.conditionRadioName="ConditionRadio_"+i;this.expEditorPanel="expEditorPanel_"+i;var f=this._seqFlow.getExecutionMode();if(f===c.ExecutionMode.client["Always Execute"]){this._showExpEditor=false}else{if(f===c.ExecutionMode.client["Never Execute"]){this._showExpEditor=false}else{this._showExpEditor=true}}var h=this.$.expEditor;this.expressionStr=this._seqFlow.getConditionalExpression();if(h){e.whenComponentReady(h).then(function(m){m.setContentService(l);m.setModel(k,j.expressionStr)})}}},save:function(){if(this._seqFlow){this._seqFlow.setConditionalExpression(this.$.expEditor.expression)}},onExecutionModeChanged:function(f){if(f.target.id==="ae"){this._seqFlow.setExecutionMode(c.ExecutionMode.client["Always Execute"]);this._showExpEditor=false}else{if(f.target.id==="ne"){this._seqFlow.setExecutionMode(c.ExecutionMode.client["Never Execute"]);this._showExpEditor=false}else{this._seqFlow.setExecutionMode(c.ExecutionMode.client["Conditionally Execute"]);this._showExpEditor=true}}},checkRadioBtn:function(g,j){var h=document.getElementsByName(g);for(var f=0;f<h.length;f++){if(h[f].id===j){h[f].checked=true}}},_showHideExpEditor:function(g,f){var h="";if(f===true){h=g}else{h=g+"-not-visible"}return h}})});
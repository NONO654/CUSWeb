define("DS/SMAProcJobListingUI/Views/ModelForm",["UWA/Core","UWA/Utils","UWA/Class/Listener","DS/W3DXComponents/Views/Temp/TempItemView","DS/UIKIT/Form","DS/W3DXComponents/Views/Temp/TempAutocomplete","css!DS/UIKIT/UIKIT.css"],function(d,b,h,g,f,e){var a;function c(j,l,k,i){if(typeof j[l]==="function"){return j[l].apply(k,i)}else{return d.clone(j[l],false)}}a=f.extend(h,{_disabled:false,init:function(k){var i={},j=k.model;if(!j){throw new Error("You must specify a model")}this.model=k.model;delete k.model;Object.keys(k).map(function(l){i[l]=c(k,l,this.model)},this);this._parent.call(this,i);this.disable();this.syncFields();this._modelEvent={onChange:this._onModelChange,onDestroy:this._onModelDestroy};this.listenTo(this.model,this._modelEvent)},setValues:function(i,j){var k;if(this._disabled&&!j){return}else{if(j){this.setDisabled(false,true);k=true}}this._parent.call(this,i);k&&this.setDisabled();return this},setValue:function(j,l,k){var i={};i[j]=l;return this.setValues(i,k)},getValues:function(){var k=this._parent.apply(this,arguments),n,j,m,o=this.getFields();for(n=0,j=o.length;n<j;n++){m=o[n];if(m.getAttribute("type")==="autocomplete"){k[m.name]=m.getAttribute("data-key")}}return k},clear:function(j){if(this._disabled&&!j){return}var i=this.getValues();Object.keys(i).forEach(function(k){i[k]=""});this.setValues(i);this.dispatchEvent("onClear");return this},reset:function(){this.syncFields();this.dispatchEvent("onReset");return this},syncFields:function(){var i=this;this.getFields().forEach(function(j){i.syncField(j.getAttribute("name"))});return this},syncField:function(i){var k=this.getField(i),j;if(!k){return this}j=k.getAttribute("data-attr");if(d.is(j)){j=new Function(j);j=j.call(this.model)}else{j=this.model.get(i)}this.setValue(i,j,true);return this},setDisabled:function(k,l){var n,j,i,m;this._disabled=true;if(typeof k==="undefined"){k=true}i=this.getFields(true);for(j=0;j<i.length;j++){m=i[j];n=m.getAttribute("data-editable");!d.is(n)&&(n="true");if(n!=="false"&&n!=="true"){n=new Function(n);n=n.call(this.model)}if(!k&&(n==="false"||!n)&&!l){continue}m.disabled=k;this._disabled=k}return this},createField:function(k){var i=this._parent.apply(this,arguments);var m=k.getContent();var l=m.dataset?m.dataset.icon:m.getAttribute("data-icon");if(l){if(d.is(l)){l=new Function(l);l=l.call(this.model)}var j=d.createElement("img",{"class":"type-icon",src:l});i.insertBefore(j,m)}return i},fields:d.extend(f.prototype.fields,{autocomplete:function(l,n){var j,k,m=n,i={id:"input-"+b.getUUID().substring(0,6)};j=new e(d.extend(i,l,true));j.getContent().getElement("input").addClassName("form-control").getParent().removeClassName("temp-autocomplete-searchbox");if(d.is(l.label)){k=d.createElement("label",{"for":j.getId(),text:d.i18n(l.label+m.options.labelSuffix)})}return m.createField.call(m,j,k)}}),_onModelChange:function(){if(this._disabled){return}this.syncFields()},_onModelDestroy:function(){this.disable();this.clear(true)},onSubmit:function(){this.disable()},onReset:function(){this.disable()},onEdit:function(){this.enable()},destroy:function(){this.stopListening(this.model,this._modelEvent);return this._parent.apply(this,arguments)}});return a});
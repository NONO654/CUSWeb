define("DS/SMAProcJobListingUI/Collection/ContentsCollection",["UWA/Core","UWA/Utils","UWA/Class/Model","UWA/Class/Collection","DS/SMAProcJobListingUI/Data"],function(e,b,d,f,c){function a(h,j){var i;if(h){i=h[j];if(e.is(i,"function")){i=i.call(h)}}return i}var g=f.extend({setup:function(i,h){this.idsCollection=h.idsCollection;this.state=h.state},incrementPage:function(){if(!this.state.currentPage){this.state.currentPage=1}else{this.state.currentPage=this.state.currentPage+1}},parse:function(h){return h.datarecords.datagroups},fetch:function(q){var m=this,j,i,k;q=q?e.clone(q,false):{};if(q.parse===undefined){q.parse=true}j=q.onComplete;q.onComplete=function(r){if(!r.success){q.onFailure(r);return}var s=q.reset?"reset":"set";m.incrementPage();if(m.state.currentPage>1){q.remove=false}m[s](r,q);if(j){j(m,r,q)}return m.dispatchEvent("onSync",[m,r,q])};i=q.onFailure;q.onFailure=function(r){if(i){i(m,r,q)}m.dispatchEvent("onError",[m,r,q])};q.method="GET";q.url=a(this,"url");var h=null;if(!this.state.currentPage){h=1}else{h=this.state.currentPage+1}var o=0,l=0;if(h===1){o=0;l=this.state.pageSize}else{o=(h-1)*this.state.pageSize;l=(h)*this.state.pageSize}if(l>this.idsCollection.length){l=this.idsCollection.length}var n=this.idsCollection.model.prototype.idAttribute,p=this.idsCollection.pluck(n);p=p.slice(o,l);q.urlParams={jobId:p.reduce(function(r,s){return r+","+s})};k=q.request=c.request(q);this.dispatchEvent("onRequest",[this,k,q]);return k}});return g});
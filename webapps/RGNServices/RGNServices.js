define("DS/RGNServices/Mockup",[],function(){var a=(function(){var b=function(f,e,g){if(g){g(f)}e(f)},c=function(g,f,e){if(e){e(g)}f(g)};function d(){}d.prototype.getJson=function(e,h,g){var f=window.RGNMockupData;return new Promise(function(k,j){var i=/.+\/rgn\/api\/(.+)/.exec(e);switch(i[1]){case"policies/output_format":b(f.policies.output_format,k,h);break;case"libraries/output_format":b(f.libraries.output_format,k,h);break;case"output_formats":b(f.output_formats,k,h);break;default:c("unsupported command",j,g);break}})};d.prototype.postJson=function(e,h,i,g){var f=window.RGNMockupData;return new Promise(function(l,k){var j=/.+\/rgn\/api\/(.+)/.exec(e);switch(j[1]){case"output_formats":var m=JSON.parse(JSON.stringify(h));m.physicalid=new Date().getMilliseconds();f.output_formats.push(m);l(m.physicalid);break;default:c("unexpected url",k,g);break}})};d.prototype.putJson=function(e,h,i,g){var f=window.RGNMockupData;return new Promise(function(l,k){var j=/.+\/rgn\/api\/(.+)\/(.+)/.exec(e);switch(j[1]){case"output_formats":var m=f.output_formats.find(function(o){return o.physicalid===j[2]});for(var n in h){if(h.hasOwnProperty(n)){m[n]=h[n]}}l("updated");break;default:c("unexpected url",k,g);break}})};d.prototype["delete"]=function(e,h,g){var f=window.RGNMockupData;return new Promise(function(k,j){var i=/.+\/rgn\/api\/(.+)\/(.+)/.exec(e);switch(i[1]){case"output_formats":if(i[2]){f.output_formats.splice(parseInt(i[2]),1);k("")}else{c("unexpected url",j,g)}break;default:c("unexpected url",j,g)}})};return d})();return a});define("DS/RGNServices/FormControl",[],function(){return(function(){function a(){}a.prototype.check=function(b){return new Promise(function(g,f){var e=Array.prototype.slice.call(b.querySelectorAll(".form-mandatory")),d=e.map(function(h){return h.querySelector(".form-control-check")}),c=d.filter(function(i){var h=i.parentElement.querySelector(".form-control-error-text");if(h){h.style.display="none"}return i.control&&!i.control.check(i)});if(c.length===0){g()}else{f(c)}})};return a})()});define("DS/RGNServices/TableView",["DS/Tree/TreeListView","DS/Utilities/Dom"],function(c,b){var a=function(e,d){this.model=e;this.options=d};a.prototype.inject=function(d){var e=this.options.onStatusbarIconPointerDown;new c({height:"auto",enableDragAndDrop:false,columns:[{dataIndex:"tree",text:"Display",width:"auto",isSortable:true},{text:"Name",dataIndex:"name",width:"auto"},{text:"Actions",dataIndex:"actions",width:"auto",onCellRequest:function(j){if(!j.isHeader){var h=j.nodeModel.options,k=function(i){e({clickedIconIndex:i.target.iconIndex,cellInfos:j})};for(var f=0;f<h.statusbarIcons.length;f++){var g=b.generateIcon(h.statusbarIcons[f]);g.iconIndex=f;g.onclick=k;g.inject(j.view)}j.cellView.getContent().setAttribute("id",h.data.physicalid);j.cellView.getContent().info=h.data}}}],treeDocument:this.model}).inject(d)};return a});define("DS/RGNServices/TilesView",["DS/CollectionView/ResponsiveTilesCollectionView"],function(a){var b=function(d,c){this.model=d;this.options=c};b.prototype.inject=function(c){var d=new a({useDragAndDrop:true});d.onPostCellRequest(function(e){e.cellView.getContent().setAttribute("id",e.nodeModel.options.data.physicalid);e.cellView.getContent().info=e.nodeModel.options.data});d.model=this.model;d.onStatusbarIconPointerDown=this.options.onStatusbarIconPointerDown;d.getContent().inject(c)};return b});define("DS/RGNServices/Alert",["DS/Notifications/NotificationsManagerUXMessages","DS/Notifications/NotificationsManagerViewOnScreen"],function(a,b){b.setNotificationManager(a);return{error:function(d,c){if(c){c.getBody().ownerDocument.querySelector(".wux-notification-screen").style["z-index"]=1050}a.addNotif({level:"error",message:d.message?d.message:d,sticky:true})},info:function(d,c){if(c){c.getBody().ownerDocument.querySelector(".wux-notification-screen").style["z-index"]=1050}a.addNotif({level:"info",message:d.message?d.message:d,sticky:false})}}});define("DS/RGNServices/FormBuilder",["DS/DataDragAndDrop/DataDragAndDrop"],function(a){return(function(){var b=function(e,f){if(f.hasOwnProperty("collapsed")){e.style.display=f.collapsed?"none":"block";e.classList.add("form-collapsable")}},d=function(g){var f=g.target.parentElement,e=f.querySelector(".form-collapse"),h=f.querySelector(".form-collapsable");h.style.display=h.style.display==="none"?"block":"none";e.classList.toggle("fonticon-expand-down");e.classList.toggle("fonticon-expand-right")};function c(e){this.withSearch=e&&e.withSearch}c.prototype.newElement=function(m,l,j){var e=document.createElement(m);if(l){var f=l.attributes,g=l.control,k=l.events;if(f){for(var h in f){if(f.hasOwnProperty(h)){e.setAttribute(h,f[h])}}}if(g){e.control=g;e.classList.add("form-control-check")}if(k){for(var i in k){if(k.hasOwnProperty(i)){e[i]=k[i]}}}}if(j){e.innerHTML=j}return e};c.prototype.newForm=function(h,e){var g=this.newElement("div");this.options=e;g.className="form form-root";g.classList.add((e&&e.align)?e.align:"form-vertical");if(h instanceof Array){for(var f=0;f<h.length;f++){this.newFormGroup(g,h[f])}}else{if(h instanceof Object){this.newFormGroup(g,h)}}return g};c.prototype.newFormGroup=function(f,g){var h;if(!g||!g.hidden){h=this.newElement("div");h.className="form-group";if(g instanceof Array){for(var e=0;e<g.length;e++){this.newFormData(h,g[e])}}else{if(g instanceof Object){this.newFormData(h,g)}}f.appendChild(h)}return h};c.prototype.newFormFooter=function(f,g){var h=this.newElement("div");h.className="form-group form-footer";if(g instanceof Array){for(var e=0;e<g.length;e++){this.newFormData(h,g[e])}}else{if(g instanceof Object){this.newFormData(h,g)}}f.appendChild(h)};c.prototype.newFormData=function(e,f){if(f instanceof Object){switch(f.type){case"label":this.newLabel(e,f);break;case"text":case"hidden":case"textarea":this.newLabel(e,f);this.newInput(e,f);break;case"droplist":this.newLabel(e,f);this.newDroplist(e,f);break;case"footer":this.newFormFooter(e,f.elements);break;case"dnd":var g=this.newElement("div",f);this.newDnd(g,f.value);e.appendChild(g);break;case"search":this.newLabel(e,f);this.newSearch(e,f);break;case"textInput":this.newLabel(e,f);this.newInput(e,f,function(h,i){h.newFormData(i,{type:"hidden",attributes:{"class":"form-oid",id:f.attributes.inputId+"OID"},value:f.value,control:f.control});h.newFormData(i,{type:"hidden",attributes:{"class":"form-type"},value:f.inputTypeName});h.newFormData(i,{type:"hidden",attributes:{"class":"form-is-plm-data"},value:f.isPLMObject})});break;case"button":this.newButton(e,f);break;default:break}}};c.prototype.newInput=function(g,h,i){var e="textarea"===h.type,f=this.newElement(e?"textarea":"input",h);f.value=h.value||"";f.classList.add("form-control");if(!e){f.type=h.type}if(i){i(this,f)}b(f,h);g.appendChild(f)};c.prototype.newLabel=function(f,g){if(g.hasOwnProperty("label")){var e=this.newElement("label");if(g.hasOwnProperty("collapsed")){this.newSpan(f,{attributes:{"class":"fonticon form-collapse"+(g.collapsed?" fonticon-expand-right":" fonticon-expand-down")},events:{onclick:d}});e.onclick=d}e.innerHTML=g.label;if(g.mandatory){this.newSpan(e,{attributes:{"class":"label-field-required"}},"*");f.classList.add("form-mandatory")}f.appendChild(e)}return""};c.prototype.newDroplist=function(h,k){var e=this.newElement("select",k),j=k.value,f=k.values;if(typeof f==="string"){f=[f]}e.classList.add("form-control");if(f){for(var g=0;g<f.length;g++){e.appendChild(this.newElement("option",{attributes:{value:f[g]}},f[g]))}}if(j&&f.indexOf(j)>=0){e.value=j}b(e,k);h.appendChild(e)};c.prototype.newButton=function(f,g){var e=this.newElement("button",g,g.value);f.appendChild(e)};c.prototype.newSpan=function(f,g,h){var e=this.newElement("span",g,h);f.appendChild(e)};c.prototype.newDnd=function(f,e){this.newSpan(f,{attributes:{"class":"fonticon fonticon-3x fonticon-drag-drop"}});this.newSpan(f,{attributes:{"class":"dnd-label",style:"padding-right: 10px"}},e?e:"Drop here")};c.prototype.newSearch=function(g,i){var e=this.newElement("div",i),k=this.newFormGroup(e),h=i.value,j=this.withSearch?"Drop here or":"Drop an element from Search",f=[];if(h){if(h instanceof Array){j=h.map(function(l){return l instanceof Object?l.display:l.physicalid}).join(",");h.forEach(function(l){if(l instanceof Object){if(l.physicalid){f.push(l.physicalid)}}else{if(typeof l==="string"){f.push(l)}}})}else{if(h instanceof Object){j=h.display||h.physicalid||"no value";if(h.physicalid){f.push(h.physicalid)}}else{f.push(h)}}}e.classList.add("form-inline");e.classList.add("form-search");this.newDnd(k,j);if(i.dnd){a.droppable(k,i.dnd)}if(this.withSearch){this.newButton(k,i.search);this.newFormData(k,{type:"text",attributes:{id:i.attributes.inputId,placeholder:"Search pattern"}})}this.newFormData(k,{type:"hidden",attributes:{"class":"form-oid",id:i.attributes.inputId+"OID"},value:f,control:i.control});this.newFormData(k,{type:"hidden",attributes:{"class":"form-type"},value:i.inputTypeName});this.newFormData(k,{type:"hidden",attributes:{"class":"form-is-plm-data"},value:i.isPLMObject});b(e,i);g.appendChild(e)};return c})()});define("DS/RGNServices/Dialogs",["DS/UIKIT/SuperModal"],function(a){var b=function(){};b.prototype.confirm=function(c,d){new a().dialog({closable:true,title:d.title||"Confirmation",buttons:[{className:"primary",value:"OK",action:function(e){d.onconfirm(e)}},{className:"default",value:"Cancel",action:function(e){e.hide()}}],body:d.message||"Are you sure?"})};b.prototype.choice=function(c,d){new a().dialog({closable:true,title:d.title||"Choice",buttons:d.buttons||[{className:"primary",value:"OK",action:function(e){d.onconfirm(e)}},{className:"default",value:"Cancel",action:function(e){e.hide()}}],body:d.message||"Are you sure?"})};return b});define("DS/RGNServices/ModelElement",["UWA/Core","DS/TreeModel/TreeNodeModel"],function(c,b){function a(f,e){var d=e.titleAttribute,g=(d?f[d]:f["attribute[Title]"])||f.name||"";this.info=f;this.info.display=g;this.options=e;this.basicOptions={data:this.info,thumbnail:e.picture,label:g,icons:[e.imageUrl],badges:{},statusbarIcons:[],statusbarIconsTooltips:[],statusbarIconsAction:[],grid:{name:f.name}}}a.prototype.getNode=function(){var e=c.clone(this.basicOptions),g=this.options.contextualActions;for(var d in g){if(g.hasOwnProperty(d)){var f=g[d];e.statusbarIcons.push(f.icon);e.statusbarIconsTooltips.push(f.tooltip);e.statusbarIconsAction.push(f.onclick)}}return new b(e)};return a});define("DS/RGNServices/Request",["DS/WAFData/WAFData"],function(a){var b=(function(){var e=function(h,g,i){if(i){i(h)}g(h)},f=function(h,g,k,i){var j={error:h,message:(g?(g instanceof Object?g.message:JSON.parse(g).message):h.message)};if(i){i(j)}k(j)},d=function(g){if(window.hasOwnProperty("widget")&&widget.lang){if(!g.headers){g.headers={}}g.headers["Accept-Language"]=widget.lang}};function c(){}c.prototype.getData=function(h,g,k,j){var i=h;return new Promise(function(n,m){var l={method:"GET",responseType:g,timeout:0,onComplete:function(o){e(o,n,k)},onFailure:function(p,o){f(p,o,m,j)}};d(l);return a.authenticatedRequest(i,l)})};c.prototype.getJson=function(g,i,h){return this.getData(g,"json",i,h)};c.prototype.postData=function(g,i,k,j,h){return new Promise(function(n,m){var l={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},responseType:k,timeout:0,type:k,data:typeof i==="string"?i:JSON.stringify(i),onComplete:function(o){e(o,n,j)},onFailure:function(p,o){f(p,o,m,h)}};d(l);return a.authenticatedRequest(g,l)})};c.prototype.postJson=function(g,i,j,h){return this.postData(g,i,"json",j,h)};c.prototype.putJson=function(g,i,j,h){return new Promise(function(m,l){var k={method:"PUT",headers:{"Content-Type":"application/json; charset=utf-8"},responseType:"json",timeout:0,data:i instanceof Object?JSON.stringify(i):i,onComplete:function(n){e(n,m,j)},onFailure:function(o,n){f(o,n,l,h)}};d(k);return a.authenticatedRequest(g,k)})};c.prototype.deleteObject=function(g,i,h){return new Promise(function(l,k){var j={method:"DELETE",timeout:0,onComplete:function(m){e(m,l,i)},onFailure:function(n,m){f(n,m,k,h)}};d(j);return a.authenticatedRequest(g,j)})};c.prototype.download=function(g,i,h){return new Promise(function(l,k){var j={method:"GET",responseType:"blob",timeout:0,onComplete:function(m){e(m,l,i)},onFailure:function(n,m){f(n,m,k,h)}};d(j);return a.authenticatedRequest(g,j)})};return c})();return b});define("DS/RGNServices/ActionBar",[],function(){return(function(){var a={newAction:function(e){var d=document.createElement("li"),c=document.createElement("span");d.className="item";for(var f in e){if(e.hasOwnProperty(f)){c[f]=e[f]}}d.appendChild(c);return d},newBar:function(e){var c=document.createElement("ul");c.className="iconbar-items-wrap iconbar-items-icons";for(var d=0;d<e.length;d++){c.appendChild(this.newAction(e[d]))}return c}};function b(c){this.actionBar=document.createElement("div");this.actionBar.className="iconbar";this.actionBar.appendChild(a.newBar(c))}b.prototype.inject=function(c){c.appendChild(this.actionBar)};return b})()});define("DS/RGNServices/DataCard",["DS/UIKIT/Spinner","DS/DataDragAndDrop/DataDragAndDrop"],function(a,b){return(function(){var e=function(h,i,f,k){var g=document.createElement(h);if(f){switch(typeof f){case"object":for(var j in f){if(f.hasOwnProperty(j)){switch(j){case"className":g.className=f[j];break;case"hidden":g.hidden=true;break;default:g.setAttribute(j,f[j]);break}}}break;case"string":g.innerHTML=f;break;default:break}}if(k){g.innerHTML=k}if(i){i.appendChild(g)}return g},d={load:function(g,h,f){this.card=g;this.card.info=h;this.title=(g.titleAttribute?h[g.titleAttribute]:h["attribute[Title]"])||h.name||"";if(this.title===""){this.title=h.name}this.card.id=h.physicalid;b.draggable(this.card,{data:JSON.stringify({protocol:f.protocol,version:"1.1",source:f.source,widgetId:f.widgetId,data:{items:[{objectId:h.physicalid,objectType:h.type,displayName:this.title}]}})});return this},addImage:function(){if(this.card.imageUrl){var f=document.createElement("img");f.setAttribute("src",this.card.imageUrl);f.className="card-img pull-left";this.card.appendChild(f)}},addTitle:function(){if(this.title){var h=document.createElement("div"),j=document.createElement("h4"),i=document.createElement("h5"),f=(this.card.info.type||"")+" "+(this.card.info.name||"")+" "+(this.card.info.revision||""),g=30;h.className="card-block";j.className="card-title";j.innerHTML=this.title;i.className="card-subtitle";if(f.length>g){i.innerHTML=f.substring(0,g)+"...";i.setAttribute("title",f)}else{i.innerHTML=f}h.appendChild(j);h.appendChild(i);this.card.appendChild(h)}},addFooter:function(){var g=this.card.actions,p=this.card;if(g){var i=document.createElement("div"),k=function(r){var s=r.querySelectorAll("span");for(var q=0;q<s.length;q++){s[q].style.display=s[q].style.display==="none"?"":"none"}},l=function(r){var q=document.createElement("span");for(var s in r){if(r.hasOwnProperty(s)){q[s]=r[s]}}q.elementId=p.info.physicalid;if(r.confirmation){q.onclick=function(x){var w=r.confirmation(p.info);if(w){var y=x.target.parentElement,t=y.querySelector("#confirm"),u,v;k(y);if(t){t.style.display="block"}else{t=e("div",y,{id:"confirm"});e("span",t,{},w);u=e("span",t,{className:"fonticon fonticon-check"});v=e("span",t,{className:"fonticon fonticon-wrong "});u.onclick=function(){var z=new a().inject(y);t.style.display="none";z.show();q.onconfirm(x).then(function(){z.destroy();k(y)},function(){z.destroy();k(y)})};v.onclick=function(){if(q.onreject){var z=new a().inject(y);t.style.display="none";z.show();q.onreject(x).then(function(){z.destroy();k(y)},function(){z.destroy();k(y)})}else{k(y)}}}}else{r.onclick(x)}}}else{q.onclick=r.onclick}return q},o=function(q,s){var r=p.info;q.getHref(r,function(t,v){var u=document.createElement("a");u.appendChild(l(q));u.setAttribute("href",t);if(t.startsWith("data:application/octet-stream")){u.setAttribute("download","["+r.type+"] "+r["attribute[Title]"]+".bin")}if(v){u.setAttribute("title",v)}s.appendChild(u)})},j=function(r){var q=l(r);q.onclick=function(v){var w=v.target.parentElement,s=w.querySelector("#confirm"),t,u;k(w);if(s){s.style.display="block"}else{s=e("div",w,{id:"confirm"});e("span",s,{},"Delete ? ");t=e("span",s,{className:"fonticon fonticon-check"});u=e("span",s,{className:"fonticon fonticon-wrong "});t.onclick=function(){var x=new a().inject(w);s.style.display="none";x.show();q.onconfirm(v)["catch"](function(){x.destroy();k(w)})};u.onclick=function(){k(w)}}};return q};i.className="card-footer";for(var n in g){if(g.hasOwnProperty(n)){var h=g[n];switch(n){case"edit":if(p.info.reserved!=="TRUE"){i.appendChild(l(h))}break;case"open":var f=l(h);if(p.info.reserved==="TRUE"){var m=document.createElement("span");m.className="tooltip tooltip-root fade top in";m.innerHTML="Template reserved by "+p.info.reservedby;f.appendChild(m)}i.appendChild(f);break;case"delete":i.appendChild(j(h));break;case"download":o(h,i);break;default:i.appendChild(l(h));break}}}p.appendChild(i)}},build:function(){this.addImage();this.addTitle();this.addFooter()}};function c(g,f){this.card=document.createElement("div");this.card.className="card ";if(f.selectable){this.card.classList.add("card-thumbnail-selectable");this.card.onclick=function(){if(!f.multiSelection){var h=this.parentElement.querySelector(".card-thumbnail-selected");if(h){h.classList.toggle("card-thumbnail-selected");h.classList.toggle("selected-data")}}this.classList.toggle("card-thumbnail-selected");this.classList.toggle("selected-data")}}this.card.imageUrl=f.imageUrl;this.card.titleAttribute=f.titleAttribute;this.card.actions=f.contextualActions;this.builder=d.load(this.card,g,f)}c.prototype.getElement=function(){if(this.card.childNodes.length===0){this.builder.build()}return this.card};return c})()});define("DS/RGNServices/DropZone",["UWA/Core","DS/DataDragAndDrop/DataDragAndDrop"],function(b,a){return(function(){var c=function(h){var e=b.Element("div",{style:"display:block;"}),f=b.Element("span",{"class":"fonticon fonticon-3x fonticon-drag-drop",draggable:false}),g=b.Element("div",{"class":"font-3ds-regular"});g.innerHTML=h.label||"Drop here";a.droppable(e,{drop:function(i,j){h.ondrop(i,j,h.context)},enter:function(i){i.classList.add("ondragover")},over:function(i){i.classList.add("ondragover")},leave:function(i){i.classList.remove("ondragover")}});f.inject(e);g.inject(e);return e};function d(e){this.html=c(e||{})}d.prototype.inject=function(e){this.html.inject(e)};return d})()});define("DS/RGNServices/RGNServices",[],function(){return{download:function(b,a,c){var d=document.createElement("a"),e=function(f){f.stopPropagation();document.body.removeChild(d);d.removeEventListener("click",e)};if(c){d.setAttribute("href",window.URL.createObjectURL(a));d.setAttribute("download",b)}else{d.setAttribute("href",a)}d.addEventListener("click",e);document.body.appendChild(d);d.click()}}});define("DS/RGNServices/DataForm",["DS/UIKIT/SuperModal","DS/RGNServices/FormBuilder"],function(a,b){return(function(){function c(f,e){var d;this.searchButtons=e&&e.searchButtons;this.withSearch=this.searchButtons&&this.searchButtons.length>0;this.builder=new b({withSearch:this.withSearch});d=this.builder.newElement("div");d.appendChild(this.builder.newForm(f));this.form=d;if(this.withSearch){this.addSearch(this.searchButtons)}}c.prototype.disable=function(){var f=this.form.querySelectorAll(".form-control"),e=this.form.querySelectorAll(".form-search .form-group :not(.dnd-label)"),l=this.form.querySelectorAll(".fonticon-drag-drop");for(var h=0;h<f.length;h++){f[h].setAttribute("disabled","")}for(var g=0;g<e.length;g++){e[g].style.display="none"}for(var d=0;d<l.length;d++){l[d].style.display="none";l[d].parentElement.ondragover=undefined;l[d].parentElement.ondragenter=undefined}return this};c.prototype.postProcess=function(d){var e=this;return new Promise(function(f,g){d(e.form).then(function(){return f(e)},function(h){return g(h)})})};c.prototype.addSearch=function(f){var g=this.builder;var d=g.newElement("div",{attributes:{id:"searchDiv","class":"quick-search"}});var e=g.newElement("div",{attributes:{id:"searchButtons"}});f.forEach(function(h){g.newButton(e,h)});d.style.display="none";e.style.display="none";e.style["text-align"]="right";this.form.appendChild(d);this.form.appendChild(e);return this};c.prototype.inject=function(e,d){new a().dialog({body:this.form,title:e,buttons:d})};return c})()});define("DS/RGNServices/QuickSearch",["UWA/Core","DS/RGNServices/DataCard","DS/RGNServices/Alert"],function(c,a,b){return(function(){function d(e,f){this.container=e;this.options=f||{}}d.prototype.display=function(i,h){var e=c.extend(this.options,h),g=this.container,f=i||[];g.innerHTML="";if(f.length>50){b.info("Too many results, only the 50 first item are displayed")}f.slice(0,49).forEach(function(j){g.appendChild(new a(j,e).getElement())})};return d})()});define("DS/RGNServices/QueryDisplayer",["UWA/Core","DS/TreeModel/TreeDocument","DS/DataDragAndDrop/DataDragAndDrop","DS/RGNServices/ModelElement","DS/RGNServices/TilesView","DS/RGNServices/TableView","DS/RGNServices/Alert","DS/RGNServices/DropZone"],function(h,c,f,b,e,a,d,g){return(function(){function i(k,l){var n=this,m=function(s,t){var o=l.library,u=l.acceptedTypes,r=[],q;try{if(s.startsWith("javascript:link")){r.push(s.match(/[^,]+,%22(\w+)/)[1])}else{q=JSON.parse(s);if(q){if(q.data&&q.data.items){q.data.items.forEach(function(w){var v=w.objectType;if(!u||u.includes(v)){r.push(w.objectId)}})}else{if(q.objects){q.objects.forEach(function(w){var v=w.type;if(!u||u.includes(v)){r.push(w.oid)}})}}}}if(r.length===0){d.info("Invalid Data")}else{o.pushDroppedIds(r,n).then(function(v){n.refresh(v)},function(v){d.error(v)})}t.classList.remove("ondragover")}catch(p){d.error("Invalid data")}};this.container=k;this.options=l||{};this.options.onStatusbarIconPointerDown=function(p){var q=p.clickedIconIndex,o=p.cellInfos.nodeModel.options.statusbarIconsAction[q];if(o){o(p.cellInfos.nodeModel.options.data)}};this.model=new c({useAsyncPreExpand:true});this.noDataCtnr=h.Element("div",{"class":"rgn-no-data"});this.noDataCtnr.style.position="relative";this.noDataCtnr.inject(this.container);var j=new g({options:l,ondrop:m});j.inject(this.noDataCtnr);this.tileViewCtnr=h.Element("div",{"class":"rgn-tile-view"});this.tileViewCtnr.style.display="none";this.tilesView=new e(this.model,this.options);this.tilesView.inject(this.tileViewCtnr);this.tileViewCtnr.inject(this.container);this.tableViewCtnr=h.Element("div",{"class":"rgn-table-view"});this.tableViewCtnr.style.display="none";this.tableView=new a(this.model,this.options);this.tableView.inject(this.tableViewCtnr);this.tableViewCtnr.inject(this.container);f.droppable(this.container,{drop:m})}i.prototype.display=function(l,k){var j=h.extend(this.options,k),m=this.model;this.data=l||[];if(this.data&&this.data.length>0){m.prepareUpdate();m.empty();this.data.forEach(function(n){m.addChild(new b(n,j).getNode())});m.pushUpdate()}this.switchView(this.currentMode||j.mode)};i.prototype.refresh=function(j){this.display(j)};i.prototype.switchView=function(j){if(!this.data||(this.data instanceof Array&&this.data.length===0)){j="nodata"}switch(j){case"tile":this.tileViewCtnr.style.display="block";this.tableViewCtnr.style.display="none";this.noDataCtnr.style.display="none";this.currentMode=j;break;case"table":this.tableViewCtnr.style.display="block";this.tileViewCtnr.style.display="none";this.noDataCtnr.style.display="none";this.currentMode=j;break;case"nodata":this.noDataCtnr.style.display="block";this.tableViewCtnr.style.display="none";this.tileViewCtnr.style.display="none";break;default:this.currentMode="tile";this.noDataCtnr.style.display="none";this.tileViewCtnr.style.display="block";this.tableViewCtnr.style.display="none";break}};i.prototype.show=function(){this.container.style.display="block";return this};i.prototype.isVisible=function(){return this.container.style.display==="block"};i.prototype.hide=function(){this.container.style.display="none";return this};i.prototype.addElement=function(j){var k=this;return new Promise(function(m,l){try{k.model.prepareUpdate();k.model.addChild(new b(j,k.options).getNode());k.model.pushUpdate();m()}catch(n){l(n)}})};i.prototype.removeElement=function(j){var k=this;return new Promise(function(n,m){try{var l=k.model.search({match:function(p){return j===p.nodeModel.options.data.physicalid}});k.model.prepareUpdate();l.forEach(function(p){p.remove()});k.model.pushUpdate();n()}catch(o){m(o)}})};return i})()});
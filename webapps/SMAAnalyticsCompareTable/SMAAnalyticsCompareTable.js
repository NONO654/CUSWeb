define("DS/SMAAnalyticsCompareTable/SMAAnalyticsHierarchyObject",[],function(){var c=false;if(!c){var b=Object.create(HTMLElement.prototype);b.createdCallback=function(){return true};document.register=document.register||document.registerElement;var a=Object.create(HTMLElement.prototype);a.createdCallback=function(){return true};a.hierarchyRoot=true;a.buildHierarchyFromJSON=function(i){var k=this.setupLink(i);if(k){if(typeof i.parameters!=="undefined"||typeof i.groups!=="undefined"){k.linkType="group";var g=i.groups;if(typeof g!=="undefined"){for(var l=0,m=g.length;l<m;l++){var e=this.buildHierarchyFromJSON(g[l]);k.appendChild(e)}}var n=i.parameters;if(typeof n!=="undefined"){for(var h=0,j=n.length;h<j;h++){var f=this.buildHierarchyFromJSON(n[h]);k.appendChild(f)}}}else{if(typeof i.dataType!=="undefined"){k.linkType="parameter";if(i.structure.toLowerCase()==="array"){k.linkStruct="arrayparam"}}}}return k};a.checkForParameterChanges=function(g){var f=[];if(typeof g==="function"){var h=this;var e=this.querySelectorAll("ra-hlink");[].forEach.call(e,function(i){var l=g(i.dataId);var k=false;if(l!==null){var j=i.rawJSON;k=h.checkObjectForChanges(j,l);if(k){f.push(i.dataId)}}})}return f};a.checkObjectForChanges=function(h,j){var g=false;for(var l in j){var f=h[l];var e=j[l];if(typeof f==="undefined"){g=true;break}if(Array.isArray(e)){if(e.length!==f.length){g=true;break}for(var k=0;k<e.length;k++){if(e[k]!==f[k]){g=true}}}else{if(typeof e==="object"){g=this.checkObjectForChanges(f,e);if(g){break}}else{if(f!==e){g=true;break}}}}return g};a.checkForHierarchyChanges=function(g,e,j){j=typeof j==="undefined"?true:j;var k=this;if(e===k.children[0]){e.classList.add("changes-checked")}var f=document.createElement("div");f.style.display="none";this.appendChild(f);if(typeof g.groups!=="undefined"){[].forEach.call(g.groups,function(m){var l=k.querySelector('[data-id="'+m.ID+'"]');if(l!==null&&k.checkForValueChanges(l.rawJSON,m)){l.rawJSON=m;l.setAttribute("data-parameterChanged","true")}if(l===null){if(!(typeof m.groups==="undefined"&&typeof m.parameters==="undefined")){l=k.setupLink(m);l.linkType="group";e.appendChild(l)}}else{if(l.parentNode!==e){e.inTransitFlag();e.insertBefore(l,null)}}if(l!==null){l.classList.add("changes-checked");k.checkForHierarchyChanges(m,l,false);if(l.children.length===0&&typeof l.parentNode!=="undefined"&&l.parentNode!==null){l.parentNode.removeChild(l)}}})}if(typeof g.parameters!=="undefined"){[].forEach.call(g.parameters,function(m){var l=k.querySelector('[data-id="'+m.ID+'"]');if(l!==null){l.setAttribute("data-parameterchanged","true");l.rawJSON=m;if(l.parentNode!==e){e.inTransitFlag();e.insertBefore(l,null)}}else{l=k.setupLink(m);l.linkType="parameter";e.appendChild(l)}l.classList.add("changes-checked")})}if(j){var i=k.querySelectorAll(".changes-checked");var h=k.querySelectorAll("ra-hlink:not(.changes-checked)");[].forEach.call(h,function(l){if(typeof l.parentNode!=="undefined"&&l.parentNode!==null){l.parentNode.removeChild(l)}});[].forEach.call(i,function(l){l.classList.remove("changes-checked")});this.removeChild(f)}};a.checkForValueChanges=function(e,h){var g=false;for(var f in e){if(typeof e[f]!=="object"){if(!h.hasOwnProperty(f)||e[f]!==h[f]){g=true}}}for(f in h){if(typeof h[f]!=="object"&&!e.hasOwnProperty(f)){g=true}}return g};a.setupLink=function(e){if(typeof e==="undefined"){console.log("Invalid json string: json was undefined");return false}var f=document.createElement("ra-hlink");f.dataId=e.ID;f.setAttribute("data-id",e.ID);f.rawJSON=e;return f};a.sortHierarchy=function(e){var f=0;while(this.extraColumns[f].name!==e&&f<this.extraColumns.length){f+=1}if(f<this.extraColumns.length){this.children[0].sortChildren(this.extraColumns[f].sortFunction)}else{console.log("invalid column name")}};var d=Object.create(HTMLElement.prototype);d.createdCallback=function(){return true};d.parentGroup=null;d.rawJSON={};d.dataId="";d.childLinks=[];d.linkType="";d.attachedCallback=function(){};d.inTransitFlag=function(){this.inTransit=typeof this.inTransit==="undefined"?true:!this.inTransit};d.hasChildWithID=function(g){var f=false;if(typeof this.children!=="undefined"&&this.children!==null&&this.children.length>0){var e=function(h){if(h.dataId===g){f=true}};[].forEach.call(this.children,e)}return f};d.checkForChanges=function(e){if(JSON.stringify(this.rawJSON)!==JSON.stringify(e)){if(this.rawJSON.priorityWeight!==e.priorityWeight){this.setAttribute("data-priority",e.priorityWeight)}if(this.rawJSON.displayName!==e.displayName){this.setAttribute("data-displayname",e.displayName)}if(this.rawJSON.units!==e.units){this.setAttribute("data-units",e.units)}this.rawJSON=e}};d.sortChildren=function(e){if(this.children.length>0){[].forEach.call(this.children,function(f){if(f.children.length>0){this.sortChildren(e)}});if(typeof e==="function"){[].sort(this.children,e)}else{console.log("Bad Sort Function")}}};d.saveOrder=function(){var e=[];if(typeof this.children!=="undefined"&&this.children.length>0){[].forEach.call(this.children,function(f){if(typeof f.dataId!=="undefined"){e.push(f.dataId)}})}this.order=e};d.getSavedOrder=function(){if(typeof this.order!=="undefined"){return this.order}else{return[]}};d.getChildren=function(){var e=this.children;var g=[];for(var f in e){if(typeof e[f].dataId!=="undefined"){g.push(e[f])}}return g};d.reorder=function(g,f){var h=this;if(typeof g!=="undefined"&&g.length>0){g.reverse();var e=null;g.forEach(function(j){var i=null;if(typeof f!=="undefined"&&f){i=h.querySelector('[data-id="'+j+'"]')}else{i=j}if(h===i.parentNode){i.inTransitFlag();h.insertBefore(i,e);e=null}else{console.log("???")}})}};document.register("ra-hierarchy",{prototype:a});document.register("ra-hlink",{prototype:d})}c=true});define("DS/SMAAnalyticsCompareTable/SMAAnalyticsCollectionsObject",[],function(){function a(){}a.prototype.registerCollectionObject=function(c){a.prototype.proxy=c;a.prototype.previouslyLoaded=typeof a.prototype.previouslyLoaded==="undefined"?false:a.prototype.previouslyLoaded;if(!a.prototype.previouslyLoaded){var e=Object.create(HTMLElement.prototype);e.createdCallback=function(){return true};e.primaryCollection=null;e.activeCollection=null;e.collections=[];e.addCollections=function(f){[].forEach.call(f,function(g){this.addCollection(g)},this)};e.addCollection=function(g){var i=this;var h=document.createElement("ra-datacollection");h.jsonParser=this.jsonParser;h.setAttribute("data-collectionid",i.collections.length);if(typeof this.otherFunctions!=="undefined"){if(typeof this.otherFunctions.getRecommendedDesign==="function"){var f=a.prototype.proxy.getRecommendedDesign();if(!(f instanceof Array)){f=[f]}h.setAttribute("data-recommended",JSON.stringify(f))}}h.sortFunctions=this.sortFunctions;this.getFilesFunction=g.getFilesFunction;h.setupCollection(g);if(i.children.length===0){i.primaryCollection=h;i.activeCollection=h;i.setAttribute("data-activecollection",i.collections.length)}else{if(h.isPrimary()){i.primaryCollection=h}}i.collections.push(h);i.appendChild(h);return this};e.setActiveCollection=function(f){var g=this.querySelector('[data-collectionid="'+f+'"]');if(typeof g!=="undefined"){this.setAttribute("data-activecollection",f);this.activeCollection=g}return this};e.updatePrimary=function(){if(typeof this.primaryCollection!=="undefined"&&this.primaryCollection!==null){this.primaryCollection.update()}};e.updateCollections=function(){[].forEach.call(this.children,function(f){if(typeof f.update==="function"){f.update()}})};e.getCollectionsController=function(h){if(this.children.length>1){var f=document.createElement("select");var g=function(k){var j=document.createElement("option");j.value=k.getAttribute("data-collectionid");if(typeof k.settings!=="undefined"&&k.settings!==null){j.text=k.settings.label}if(k.isPrimary()){j.setAttribute("selected","selected")}f.appendChild(j)};[].forEach.call(this.children,g);var i=this;f.onchange=function(){var j=f.options[f.selectedIndex].value;i.setActiveCollection(j);if(typeof h==="function"){h(f.options[f.selectedIndex].text)}};return f}else{return null}};e.updateFiles=function(i){var h=this;var f=[];var g=this.querySelectorAll("ra-dataobj");[].forEach.call(g,function(j){if(f.indexOf(j.data.rowID)<0){f.push(j.data.rowID)}});if(typeof this.getFilesFunction==="function"){this.getFilesFunction(f,function(l){var m=l;var k;var n=function(o){o.fileList=m[k]};for(k in m){if(m.hasOwnProperty(k)){var j=h.querySelectorAll('ra-dataobj[data-col="'+k+'"]');[].forEach.call(j,n)}}if(typeof i==="function"){i()}})}};var d=Object.create(HTMLElement.prototype);d.createdCallback=function(){this.setAttribute("data-imgset","");this.watchSelf();return true};d.addList=[];d.updateList=[];d.newFiles=[];d.counter=0;d.columnCount=0;d.iCounter=function(){this.counter++;if(this.counter>=this.addList.length+this.updateList.length){this.counter=0;this.addList=[];this.updateList=[];return true}return false};d.imageCounter=0;d.totalImages=0;d.headerThumbs=[];d.imgsLoadedCounter=function(h,g){this.imageCounter+=1;if(!h){this.totalImages-=1;var f=this.headerThumbs.indexOf(g);if(f>-1){this.headerThumbs.splice(f,1)}}else{this.headerThumbs.push(g)}if(this.imageCounter===this.columnCount){this.newFiles=[];this.setAttribute("data-imgset",this.headerThumbs.toString())}};d.getNewFiles=function(){var h=this;h.setAttribute("data-filesloaded","loading");if(typeof this.addList!==undefined&&this.addList!==null&&this.addList.length>0&&typeof h.settings.getFilesFunction!=="undefined"){var f=h.getAttribute("data-filesloaded");var g=function(j){var i=0;for(var k in j){if(j.hasOwnProperty(k)){i=Math.max(i,j[k].length)}}h.newFiles=j;if(i<1&&f!=="true"){h.setAttribute("data-filesloaded","nofiles")}else{h.setAttribute("data-filesloaded","true")}};h.settings.getFilesFunction(this.addList,g)}else{h.setAttribute("data-filesloaded","nofiles")}};d.fillCollectionData=function(f){var g=this;[].forEach.call(f,function(n){var m=g.querySelector('[data-col="'+n.rowID+'"]');var o=false;if(m===null){o=true;m=document.createElement("ra-dataobj");m.fileList=g.newFiles[n.rowID]}m.data=n;m.setup();var h=JSON.parse(g.getAttribute("data-recommended"));if(h!==null&&h.contains(parseInt(n.rowID,10))){m.setRecommended(true)}else{m.setRecommended(false)}if(o){m.preloadThumbnail(function(){g.imgsLoadedCounter.call(g,true)},function(){g.imgsLoadedCounter.call(g,false)})}if(o){if(!g.sortDisabled&&g.children.length>0){var p=g.children[0];if(typeof g.sortFunctions!=="undefined"&&g.sortFunction!==null){while(p!==null&&g.sortFunctions[0].sortFunction(m,p)>-1){p=p.nextElementSibling}}g.insertBefore(m,p)}else{g.appendChild(m)}}else{var k="";var j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var l=0;l<15;l++){k+=j.charAt(Math.floor(Math.random()*j.length))}m.setAttribute("data-refresh",k)}if(g.iCounter()){g.setAttribute("data-objectiveschanged","")}})};d.collectionDataLoop=function(){var g=this;this.columnCount=0;this.imageCounter=0;this.columnCount=this.addList.length;this.totalImages=this.addList.length;var f=function(h){g.fillCollectionData.call(g,h)};this.settings.getDataFunction(this.updateList,f);this.settings.getDataFunction(this.addList,f)};d.setupCollection=function(f){this.settings=f;this.update()};d.update=function(){var k=this;this.updating=true;try{var h=this.settings.updateFunction();var g=[];this.updateList=[];[].forEach.call(this.querySelectorAll("ra-dataobj"),function(n){var m=h.indexOf(parseInt(n.dataId,10));if(m<0||g.indexOf(m)>-1){n.parentNode.removeChild(n)}else{k.updateList.push(parseInt(n.dataId,10));g.push(m)}});this.addList=[];for(var j=0,f=h.length;j<f;j++){var i=this.querySelector('ra-dataobj[data-col="'+h[j]+'"]');if((typeof i==="undefined"||i===null)&&this.addList.indexOf(h[j])<0){this.addList.push(h[j])}}if(this.addList.length>0){this.getNewFiles()}else{if(this.updateList.length>0){this.setAttribute("data-updatecollectiondata","")}}}catch(l){console.error("Error updating data collection: ");console.error(l)}};d.watchSelf=function(){var f=this;this.attrObserver=new MutationObserver(function(g){g.forEach(f.mutationSwitchboard)});this.attrObserver.observe(f,{attributes:true,attributeFilter:["data-filesloaded","data-updatecollectiondata"]})};d.mutationSwitchboard=function(g){var h=g.target;if(g.type==="attributes"){var f=h.getAttribute(g.attributeName);if((g.attributeName==="data-filesloaded"&&f!=="loading")||g.attributeName==="data-updatecollectiondata"){h.collectionDataLoop.call(h)}}};d.attachedCallback=function(){var f=this;this.primaryObserver=new MutationObserver(function(g){g.forEach(function(i){if(i.type==="childList"){if(i.addedNodes.length>0){[].forEach.call(i.addedNodes,function(k){[].forEach.call(f.children,function(l){if(l.dataId===k.dataId){l.setAttribute("data-inprimary","true")}})})}if(i.removedNodes.length>0){[].forEach.call(i.removedNodes,function(k){[].forEach.call(f.children,function(l){if(l.dataId===k.dataId){l.setAttribute("data-inprimary","false")}})})}}else{if(i.type==="attributes"){if(i.attributeName==="data-recommended"){var j=i.target.getAttribute("data-recommended");var h=JSON.parse(j);[].forEach.call(f.children,function(k){if(h.contains(parseInt(k.dataId,10))){k.setAttribute("data-isrecommended","true");k.setRecommended(true)}else{k.setRecommended(false)}});if(f.getAttribute("data-recommended")!==j){f.setAttribute("data-recommended",j)}}}}})});if(this.parentNode.primaryCollection!==null){this.primaryObserver.observe(this.parentNode.primaryCollection,{childList:true,attributes:true,attributeFilter:["data-recommended"]})}else{console.log(" ... ")}};d.isPrimary=function(){try{if(this.settings.primary===true){return true}else{if(this.parentNode!==null){return this.parentNode.primaryCollection===this}else{return false}}}catch(f){console.error("Error checking if collection is the primary:");if(typeof this.settings==="undefined"){console.error(" - Settings not attached to the collection")}else{if(typeof this.parentNode==="undefined"||this.parentNode===null){console.error(" - Collection is not defined as primary and has no parent")}else{console.error(" - Error unknown")}}console.error(f)}};d.isInPrimary=function(f){if(this.parentNode!==null){var h=this.parentNode.primaryCollection;if(h===this){return true}else{var g=h.querySelector('[data-id="'+f.dataId+'"]');if(g!==null){return true}else{return false}return h.querySelector('[data-id="'+f.dataId+'"]')}}else{return false}};var b=Object.create(HTMLElement.prototype);b.dataId=-1;b.createdCallback=function(){return true};b.data={};b.fileList=[];b.thumbnail="";b.attachedCallback=function(){if(this.dataId!==-1){this.setAttribute("data-col",this.dataId);return true}else{this.parentNode.removeChild(this);return false}};b.isInPrimary=function(){var f=this.getAttribute("data-inprimary");if(f!==null&&f!==""){if(f==="true"){return true}else{return false}}if(this.parentNode!==null){return this.parentNode.isInPrimary(this)}else{return false}};b.setup=function(){if(this.data!=={}){this.dataId=this.data.rowID;this.setAttribute("data-col",this.data.rowID)}this.setRecommended(false)};b.setRecommended=function(f){this.isRecommended=f;if(this.isRecommended){this.setAttribute("data-isrecommended","true")}else{this.setAttribute("data-isrecommended","false")}};b.findThumbnail=function(n,m){try{var j=-1;for(var f=0,h=n.length;f<h;f++){var k=n[f],i=k.type,l=k.thumbnail;if(i.toLowerCase().indexOf("3dxml")>-1&&l.toLowerCase().indexOf("smaadvise")<0){j=f;break}else{if(j<0&&k.isImage){j=f}}}return m(j,n)}catch(g){return""}};b.preloadThumbnail=function(f,k){var l=this;var j=function(m,i){if(m>=0){l.thumbnail=a.prototype.proxy.getCompleteURL(i[m].thumbnail);l.hasImage=true}return l.thumbnail};var h=this.findThumbnail(this.fileList,j);if(h!==""&&typeof h!=="undefined"){var g=new Image();g.src=h;g.onload=f;g.onerror=k}else{k()}};b.getFileObjectById=function(j){var h=null;if(typeof j!=="undefined"&&j!==null){for(var g=0,f=this.fileList.length;g<f&&h===null;g++){if(typeof this.fileList[g].id===j){h=this.fileList[g]}}}return h};document.registerElement("ra-datacollections",{prototype:e});document.registerElement("ra-datacollection",{prototype:d});document.registerElement("ra-dataobj",{prototype:b})}a.prototype.previouslyLoaded=true};return a});define("DS/SMAAnalyticsCompareTable/SMAAnalyticsHierarchicalTable",["DS/SMAAnalyticsNLS/SMAAnalyticsNLSUtils","DS/SMAAnalyticsCompareTable/SMAAnalyticsCollectionsObject","DS/SMAAnalyticsCompareTable/SMAAnalyticsHierarchyObject","UWA/Controls/Drag","UWA/Core","UWA/Utils","UWA/Class","UWA/Element","UWA/Drivers/Alone"],function(a,c,f,b){var e=false;var d=20;var g=function(){};g.prototype.registerTableWebComponents=function(A,D,h,s,o,i){i=i||"SMAAnalyticsUI";c.prototype.registerCollectionObject(D);if(!e){var w=Object.create(HTMLElement.prototype);w.createdCallback=function(){return true};var k=Object.create(HTMLElement.prototype);k.attachBindings=function(L){var M=this;L.compareObserver=new MutationObserver(function(N){N.forEach(function(O){M.compareRowChildListObserver.call(M,O)})});L.compareObserver.observe(L,{childList:true});this.preCheck(L);L.compareObjectObserver=new MutationObserver(function(N){N.forEach(function(O){if(O.type==="attributes"){if(O.attributeName==="data-comparefunction"){M.runComparison(L)}}})});L.compareObjectObserverOptions={attributes:true,attributeFilter:["data-comparefunction"]};L.compareObjectObserver.observe(M,L.compareObjectObserverOptions);this.runComparison(L)};k.currentlySelected="actual";k.createdCallback=function(){var P=this;this.setAttribute("data-comparefunction","actual");var L=function(Q){Q.forEach(function(R){if(R.type==="childList"){if(R.addedNodes.length>0){[].forEach.call(R.addedNodes,function(S){if(typeof S.tagName!=="undefined"){if(S.tagName.toLowerCase()==="data-row"){P.attachBindings.call(P,S)}else{if(S.tagName.toLowerCase()==="data-group"){var T=S.querySelectorAll("data-row");[].forEach.call(T,function(U){P.attachBindings.call(P,U)})}}}})}}})};this.parentObserver=new MutationObserver(L);var N=A.createElement("div");N.textContent=a.translate("Compare")+": ";this.compareDropdown=A.createElement("select");this.actualValsOption=A.createElement("option");this.plusminusDiffOption=A.createElement("option");this.percentDiffOption=A.createElement("option");this.actualValsOption.setAttribute("label",a.translate("Actual"));this.plusminusDiffOption.setAttribute("label",a.translate("plusminus Diff"));this.percentDiffOption.setAttribute("label",a.translate("percent Diff"));this.actualValsOption.setAttribute("value","actual");this.plusminusDiffOption.setAttribute("value","plusminus");this.percentDiffOption.setAttribute("value","percentage");this.actualValsOption.textContent=a.translate("Actual");this.plusminusDiffOption.textContent=a.translate("plusminus Diff");this.percentDiffOption.textContent=a.translate("percent Diff");this.compareDropdown.appendChild(this.actualValsOption);this.compareDropdown.appendChild(this.plusminusDiffOption);this.compareDropdown.appendChild(this.percentDiffOption);var M=this.compareDropdown.querySelector('option[value="'+this.currentlySelected+'"]');if(M!==null){M.setAttribute("selected","selected")}else{this.currentlySelected="actual";this.actualValsOption.setAttribute("selected","selected")}var O=function(R){var Q=R||null;if(Q!==null){Q.preventDefault();Q.stopPropagation()}var S=P.compareDropdown.options[P.compareDropdown.selectedIndex].value;P.setAttribute("data-comparefunction",S);this.currentlySelected=S};this.compareDropdown.onchange=O;N.appendChild(this.compareDropdown);this.appendChild(N);return true};k.mainContent=null;k.turnOn=function(){if(typeof this.parentObserver!=="undefined"&&this.mainContent!==null){this.parentObserver.observe(this.mainContent,{childList:true,subtree:true});this.baselineHighlight=A.createElement("div");this.baselineHighlight.classList.add("ra-compare-baselinehighlight");return this.baselineHighlight}};k.attachedCallback=function(){return true};k.preCheck=function(M){if(typeof this.baselineCol!=="undefined"){var L=M.querySelector('[data-col="'+this.baselineCol+'"]');if(L!==null){L.setAttribute("data-isBaseline","true")}}};k.compareRowChildListObserver=function(L){var O=this;if(L.type==="childList"){var M=L.target;var N=M.getAttribute("data-datatype");if(N==="integer"||N==="real"){if(L.addedNodes.length>0){[].forEach.call(L.addedNodes,function(Q){if(Q.tagName.toLowerCase()==="data-val"){var P=M.querySelector('[data-isBaseline="true"]');if(Q.previousElementSibling===null||(Q.previousElementSibling!==null&&Q.previousElementSibling.tagName.toLowerCase()!=="data-val")){if(P!==null){P.setAttribute("data-isBaseline","")}Q.setAttribute("data-isBaseline","true");O.baselineCol=Q.getAttribute("data-col");O.runComparison(M,Q)}else{O.runComparison(M,P)}}})}if(L.removedNodes.length>0){[].forEach.call(L.removedNodes,function(P){if(P.tagName.toLowerCase()==="data-val"&&P.getAttribute("data-isBaseline")==="true"){var Q=M.querySelector("data-val");if(Q!==null){Q.setAttribute("data-isBaseline","true");O.baselineCol=Q.getAttribute("data-col");O.runComparison(M,Q)}}})}}}};k.runComparison=function(L,N){var O=typeof N==="undefined"?L.querySelector('[data-isBaseline="true"]'):N;if(!(typeof O==="undefined"||O===null)&&this.baselineCol!==O.getAttribute("data-col")){O.setAttribute("data-isBaseline","");O=L.querySelector('[data-col="'+this.baselineCol+'"]');O.setAttribute("data-isBaseline","true")}if(typeof O==="undefined"||O===null){return false}else{var M=this.getAttribute("data-comparefunction");if(M==="percentage"){this.percentage(L,O)}else{if(M==="plusminus"){this.difference(L,O)}else{this.reset(L)}}}};k.runFullComparison=function(L){if(typeof L.querySelectorAll==="function"){var M=L.querySelectorAll("data-row");[].forEach.call(M,function(N){this.runComparison(N)},this)}};k.reset=function(M){var L=M.querySelectorAll("data-val");[].forEach.call(L,function(N){N._isRendered=false;N.classList.remove("isRendered");N.setContents(true);N.setAttribute("data-compareStatus","")})};k.percentage=function(M,L){this.compareThroughRows.call(M,L,"%",function(O,N){return(O-N)/N*100})};k.difference=function(M,L){this.compareThroughRows.call(M,L,"",function(O,N){return O-N})};k.compareThroughRows=function(O,S,Q){var R=this;var L=this.querySelectorAll("data-val");var P=O;var N=parseFloat(this.getParamValue(P.dataObj));var M=parseFloat(this.getAttribute("data-objective"));[].forEach.call(L,function(T){var Y=R.getParamValue(T.dataObj);if(T!==P&&typeof Q==="function"){if(typeof Y!=="undefined"&&Y!==""){var X=parseFloat(Y);var W=Q(X,N);var V=W>0?"+":"";T.textContent=V+h.formatExp(W)+S;var U=W*M;if(U>0){T.setAttribute("data-compareStatus","good")}else{if(U<0){T.setAttribute("data-compareStatus","bad")}else{T.setAttribute("data-compareStatus","")}}}}else{if(typeof N!=="undefined"&&N!==""){T.textContent=h.formatExp(N)}T.setAttribute("data-compareStatus","")}})};var l=Object.create(HTMLElement.prototype);l.compareFunction=null;l.createdCallback=function(){this.style.width="calc(100% - 2em)";return true};var K=Object.create(HTMLElement.prototype);K.createdCallback=function(){this.setAttribute("data-isset","false")};K.setup=function(L){var M=this;if(typeof L!=="undefined"&&L.length>0){L.forEach(function(O){var N=A.createElement("ra-fixedcolumn");N.setAttribute("data-name",O.name);N.data=O;M.insertBefore(N,null)});this.setAttribute("data-isset","true")}};var x=Object.create(HTMLElement.prototype);x.data=[];x.direction=0;x.headerFunction=function(L){if(typeof this.data.displayHeaderFunction==="function"){return this.data.displayHeaderFunction(L)}else{console.error("displayHeaderFunction is not defined")}};x.rowFunction=function(L){if(typeof this.data.displayFunction==="function"){return this.data.displayFunction(L)}else{console.error("displayFunction is not defined")}};x.reset=function(){this.direction=1;this.setAttribute("data-sortdir",this.direction)};x.sortRows=function(L,M){var N=this;if(typeof this.data.sortable!=="undefined"&&this.data.sortable===false){return false}if(typeof L.children!=="undefined"&&L.children.length>0){if(this.direction===0){L.saveOrder()}if(typeof this.parentNode!=="undefined"&&this.parentNode!==null){[].forEach.call(this.parentNode.children,function(O){if(O!==N){O.reset()}})}this.direction=typeof M!=="undefined"?M:this.direction>0?-1:this.direction+1;this.performSort(L)}};x.performSort=function(M){var N=this;[].forEach.call(M.children,function(O){N.performSort(O)});var L=null;if(this.direction===0){L=M.getSavedOrder();M.reorder(L,true)}else{L=M.getChildren();if(typeof this.data.sortFunction==="function"){L.sort(this.data.sortFunction)}else{L.sort()}if(this.direction===-1){L.reverse()}M.reorder(L)}};var I=Object.create(HTMLElement.prototype);I.createdCallback=function(){var L=this;this.items=[];this.bin=null;this.draggedElement=null;this.dropContainer=null;this.handleEvent=function(M){try{switch(M.type){case"dragstart":this.handleDragStart(M);break;case"dragenter":this.handleDragEnter(M);break;case"dragover":this.handleDragOver(M);break;case"dragleave":this.handleDragLeave(M);break;case"drop":this.handleDrop(M);break;case"dragend":this.handleDragEnd(M);break}}catch(N){console.error(N)}};this.observer=new MutationObserver(function(M){M.forEach(function(N){if(N.type==="childList"&&N.addedNodes.length>0){[].forEach.call(N.addedNodes,function(P){if(P.parentNode===L.bin&&typeof P.rowHeader==="undefined"){var O=false;[].forEach.call(L.items,function(Q){if(Q===P){O=true}});if(!O){L.items.push(P);L.makeDraggable(P)}}})}})})};I.attachedCallback=function(){var L=this;L.bin=L.parentNode;if(L.items.length<1){[].forEach.call(L.bin.children,function(M){if(typeof M.rowHeader==="undefined"){L.items.push(M);L.makeDraggable(M)}})}this.observer.observe(this.bin,{childList:true,attributes:true})};I.setDropContainer=function(M){var L=this.draggedElement.actualDrag.parentNode;if(M.parentNode!==L&&L.contains(M)){return this.setDropContainer(M.parentNode)}else{if(M.parentNode===L){this.dropContainer=M;return true}else{return false}}};I.findDraggable=function(L){if(L.isDraggable){return L}else{return this.findDraggable(L.parentNode)}};I.handleDragStart=function(L){if(!L){L=window.event}this.draggedElement=L.target||L.srcElement;L.dataTransfer.effectAllowed="move";L.dataTransfer.setData("text/plain","foo")};I.handleDragOver=function(R){if(R.preventDefault){R.preventDefault()}if(this.draggedElement===null){return false}R=R||window.event;var S=R.target||R.srcElement;while(S!==this.parentNode&&typeof S.actualDrag==="undefined"){S=S.parentNode}var T=this.draggedElement.actualDrag,N=this.setDropContainer(S.actualDrag);if(!N||this.dropContainer===null){return false}if(this.dropContainer!==T){var V=T.getBoundingClientRect(),L=this.dropContainer.getBoundingClientRect(),M=0,P=0,U=0,O=0,Q=R.pageY;if(V.top===L.top){M=parseFloat(L.left);P=parseFloat(L.right);U=L.width/2+M;O=1;Q=R.pageX}else{M=parseFloat(L.top);P=parseFloat(L.bottom);U=L.height/2+M}if(Q<U){this.dropContainer.classList.remove("afterDrag");if(this.dropContainer!==T.nextSibling){this.dropContainer.classList.add("beforeDrag")}}else{if(Q>U){this.dropContainer.classList.remove("beforeDrag");if(this.dropContainer!==T.previousSibling){this.dropContainer.classList.add("afterDrag")}}}}if(this.dropContainer.parentNode===T.parentNode){this.dropContainer.classList.add("over");R.dataTransfer.dropEffect="move"}return false};I.dragEnterEffect=function(N){var L="."+N;var M=this.parentNode.querySelectorAll(L);[].forEach.call(M,function(O){O.classList.remove(N)});this.classList.add(N)};I.dragLeaveEffect=function(L){this.classList.remove(L);this.classList.remove("beforeDrag");this.classList.remove("afterDrag")};I.handleDragEnter=function(){};I.handleDragLeave=function(L){if(this.dropContainer===null){return}L=L||window.event;var M=this.dropContainer.getBoundingClientRect();if(L.pageX>M.right||L.pageX<M.left||L.pageY>M.bottom||L.pageY<M.top){this.dragLeaveEffect.call(this.dropContainer,"over")}};I.moveFunction=function(M){var L=this.draggedElement.actualDrag;if(typeof L.parentNode.dragSortFunction!=="undefined"){L.parentNode.dragSortFunction(L,M)}else{this.parentNode.insertBefore(L,M)}this.dropContainer.classList.remove("over");this.dropContainer.classList.remove("beforeDrag");this.dropContainer.classList.remove("afterDrag")};I.handleDrop=function(M){if(M.preventDefault){M.preventDefault()}if(M.stopPropagation){M.stopPropagation()}if(this.draggedElement){var L=this.draggedElement.actualDrag;if(this.dropContainer.parentNode===L.parentNode){if(this.dropContainer.classList.contains("beforeDrag")){this.moveFunction(this.dropContainer)}else{if(this.dropContainer.classList.contains("afterDrag")){this.moveFunction(this.dropContainer.nextElementSibling)}}}}return false};I.handleDragEnd=function(){this.draggedElement=null;this.dropContainer=null;try{var L=this.actualDrag.parentNode.querySelectorAll(".beforeDrag,.afterDrag,.over");[].forEach.call(L,function(N){N.classList.remove("beforeDrag");N.classList.remove("afterDrag");N.classList.remove("over")})}catch(M){}};I.activateDrag=function(M){var L=null;var Q=this;if(M.nodeName==="DATA-HEAD"&&!M.classList.contains("isRendered")){L=new MutationObserver(function(R){R.forEach(function(S){Q.activateDrag(S.target);L.disconnect()})});L.observe(M,{attributes:true,attributeFilter:["class"]});return false}var N=M.querySelector('[data-handle="true"]');var P=M.querySelector("data-handle");if(N===null&&P!==null){console.warn("data-handle element needs to be removed from template");N=M.querySelector("data-handle")}else{if(P!==null){console.warn("data-handle element needs to be removed from template");P.parentNode.removeChild(P)}}if(N!==null){var O=N.parentNode;O.actualDrag=this.findDraggable(O);M.setAttribute("draggable","true");O.addEventListener("dragstart",this,false);O.addEventListener("dragend",this,false);O.addEventListener("dragenter",this,false);O.addEventListener("dragover",this,false);O.addEventListener("dragleave",this,false);O.addEventListener("drop",this,false);return true}else{return false}};I.makeDraggable=function(L){if(typeof L==="undefined"){[].forEach.call(this.items,this.activateDrag)}else{if(!L.isSetForDrag){var M=this.activateDrag(L);if(M){L.isSetForDrag=true}}}};var u=Object.create(HTMLElement.prototype);u.checkRendering=function(){try{return this.tableRoot.renderSignal}catch(L){try{return this.parentNode.tableRoot.renderSignal}catch(L){console.error(L)}}};u.stopRendering=function(){var L=this;if(typeof this.tableRoot==="undefined"){this.tableRoot=this.parentNode.tableRoot}if(this.tableRoot.renderSignal){this.tableRoot.renderSignal=false;setTimeout(function(){L.tableRoot.renderSignal=true},200)}};var j=Object.create(u);j.mutationSwitchboard=function(L){if(L.type==="attributes"){if(L.attributeName==="data-collection"){this.resetObservedCollection()}}};j.clearHeight=function(){this.setAttribute("data-height","NaN")};j.resize=function(N){if(!this.classList.contains("ra-needs-sizing")&&this.querySelector('[data-height="NaN"]')!==null){return}var M=this.getAttribute("data-height");if(M===null||M===""){this.clearHeight();M="NaN"}if(N===this.nodeHead){var O=parseInt(N.getAttribute("data-height"),10);if(M==="NaN"||O>parseInt(M,10)){this.clearHeight();var L=parseInt(this.clientHeight,10);var Q=true;if(O>L){L=O;Q=false}this.style.height=L+"px";this.setAttribute("data-height",parseInt(this.scrollHeight,10));if(Q){this.nodeHead.resize(this)}}}else{var O=parseInt(typeof N!=="undefined"?N.getAttribute("data-height"):0,10);if(M==="NaN"||O>M){this.clearHeight();this.style.height="";M=parseInt(this.scrollHeight,10);this.setAttribute("data-height",M);this.nodeHead.resize(N)}}try{this.parentNode.resize()}catch(P){this.tableRoot.resize()}};j.showRow=function(){this.classList.remove("ra-row-hidden")};j.hideRow=function(){this.classList.add("ra-row-hidden")};j.resetObservedCollection=function(){var Q=this;if(typeof this.dataObserver!=="undefined"){this.dataObserver.disconnect()}if(typeof this.tableRoot.observedCollection!=="undefined"&&this.tableRoot.observedCollection!==null){var O=this.tableRoot.observedCollection.querySelectorAll("ra-dataobj");var N=this.querySelectorAll("data-val,data-head");[].forEach.call(N,function(R){R.parentNode.removeChild(R)});this.columnCount=O.length;if(typeof this.startCollectionReset==="function"){this.startCollectionReset()}for(var M=0,P=this.columnCount;M<P;M++){var L=O[M];this.appendChild(this.setupData(L))}if(typeof this.dataObserver==="undefined"){Q.dataObserver=new MutationObserver(function(R){R.forEach(function(S){Q.dataChange.call(Q,S)})})}if(typeof this.collectionObserverOptions!=="undefined"&&this.collectionObserverOptions!==null){this.dataObserver.observe(this.tableRoot.observedCollection,this.collectionObserverOptions)}else{console.error("Observer options were not set!")}}};j.addedNodeCallback=function(N){var Q=N.dataId;var M=this.querySelector('[data-col="'+Q+'"]');if(typeof M==="undefined"||M===null){var P=null;if(this.theoreticalNextSibling!==null){var L=this.theoreticalNextSibling.dataId;var O=this.querySelector('[data-col="'+L+'"]');if(typeof O!=="undefined"){P=O}}this.insertBefore(this.setupData(N),P)}};j.removedNodeCallback=function(M){var N=M.dataId;var L=this.querySelector('[data-col="'+N+'"]');if(typeof L!=="undefined"&&L!==null){this.removeChild(L)}};j.dataChange=function(L){if(L.type==="childList"){if(L.addedNodes!==null){this.theoreticalNextSibling=L.nextSibling;[].forEach.call(L.addedNodes,this.addedNodeCallback,this);this.theoreticalNextSibling=null}if(L.removedNodes!==null){[].forEach.call(L.removedNodes,this.removedNodeCallback,this)}}else{if(L.type==="attributes"){if(L.attributeName==="data-objectiveschanged"&&typeof this.resetObjective==="function"){this.resetObjective()}}}};j.refreshData=function(){console.info('Implementation missing "setupDataContents" function')};var y=Object.create(j);y.template=A.querySelector("#smaAdviseECommerceHeaderRow");y.allProperties=true;y.isColumnHead=true;y.loadError=0;y.isDraggable=false;y.collectionObserverOptions={childList:true,attributes:true};y.createdCallback=function(){this.nodeHead=A.createElement("row-head");this.nodeHead.resizeChildren=true;this.appendChild(this.nodeHead);this.sortcontroller=A.createElement("ra-sortcontroller");this.sortcontroller.sortFunction=this.dragSortFunction;this.appendChild(this.sortcontroller);return true};y.dragSortFunction=function(L,M){var N=null;if(M!==null){N=M.dataObj}this.tableRoot.observedCollection.insertBefore(L.dataObj,N)};y.observedCollection=null;y.columnCount=0;y.setupFixedCols=function(){if(this.tableRoot.fixedWidth>0){var L=this.tableRoot.getUniqueSelector()+" row-head";var M="calc("+parseInt(this.tableRoot.fixedWidth,10)+"px - 1em)";this.tableRoot.hierarchyStyles.addStyle(L,"width",M)}this.nodeHead.setup();if(typeof this.compareControls!=="undefined"){this.utilityBox=A.createElement("div");this.utilityBox.classList.add("comparetableextra");this.utilityBox.appendChild(this.compareControls);this.nodeHead.appendChild(this.utilityBox);this.nodeHead.classList.add("ra-has-controls")}};y.datT=A.querySelector("#smaAdviseECommerceDataHead");y.startCollectionReset=function(){var M=this.tableRoot.classList.contains("no-header-images");var L=this.tableRoot.observedCollection.getAttribute("data-imgset");var N=L!==null?L.length:-1;if(M&&N>0){this.tableRoot.classList.remove("no-header-images");this.tableRoot.resizeHeaderFooter()}else{if(!M&&N<1){this.tableRoot.classList.add("no-header-images");this.tableRoot.resizeHeaderFooter()}}};y.setup=function(){if(this.children.length>0&&this.loadError===0){if(typeof this.tableRoot!=="undefined"&&this.tableRoot!==null){this.setupFixedCols();var L=this;this.attrObserver=new MutationObserver(function(M){M.forEach(L.mutationSwitchboard,L)});this.attrObserver.observe(this.tableRoot,{attributes:true,attributeFilter:["data-hierarchysource","data-collectionsource","data-collection"]})}}return this};y.setupData=function(L){var N=this;var M=A.createElement("data-head");M.dataObj=L;M.tableRoot=this.tableRoot;M.setAttribute("data-col",L.dataId);this.refreshData(M);M.dataObjObserver=new MutationObserver(function(O){O.forEach(function(P){N.dataObjObserverFunction.call(N,P,M)})});M.dataObjObserver.observe(M.dataObj,{attributes:true,attributeFilter:["data-inprimary","data-isrecommended","data-refresh"]});return M};y.refreshData=function(L){if(L.parentNode!==this){return false}L.innerHTML="";if(L._isRendered){L._isRendered=false;L.classList.remove("isRendered")}var M;if(this.checkRendering()){M=L._isVisible();if(M.isVisible){this.setCellContent(L,L.dataObj)}else{if(!M.isHidden){this.stopRendering()}}}};y.setCellContent=function(L){var Q=this;if(!this.tableRoot.setRenderStatus(L)){return}L.innerHTML="";if(typeof this.tableRoot!=="undefined"&&this.tableRoot!==null&&typeof this.tableRoot.dataHeaderDisplayFunc==="function"){this.tableRoot.dataHeaderDisplayFunc.call(L,L.dataObj,this)}else{L.appendChild(A.createElement("h1"))}var M=L.querySelector("h1");if(M!==null){var N=D.getNameForAlternative(L.dataObj.dataId);M.textContent=N;M.title=N}L.setAttribute("data-col",L.dataObj.dataId);var P=L.querySelector("img");if(P!==null){if(L.dataObj.thumbnail!==""){P.parentCell=L;P.onerror=L.imageError;P.onload=L.imageLoaded;P.setAttribute("src",L.dataObj.thumbnail)}else{P.parentNode.classList.add("no-image")}}else{setTimeout(function(){Q.resize()},10)}var O=new o();O.setUploadWrapperElement(L);O.uploadFilesWithDragDrop();O.setSuccessCallBack(function(R){D.syncBasketFiles()});L.setup();if(L.dataObj.isRecommended){L.setRecommended(true)}else{L.setRecommended(false)}if(L.dataObj.isInPrimary()){L.setInPrimary(true)}else{L.setInPrimary(false)}};y.dataObjObserverFunction=function(L,N){if(L.type==="attributes"){var M=L.target.getAttribute(L.attributeName);if(L.attributeName==="data-isrecommended"){if(M==="true"){N.setRecommended(true)}else{N.setRecommended(false)}}if(L.attributeName==="data-inprimary"){if(M==="true"){N.setInPrimary(true)}else{N.setInPrimary(false)}}if(L.attributeName==="data-refresh"){if(N.parentNode&&typeof N.parentNode.refreshData==="function"){N.parentNode.refreshData(N)}}}};var E=Object.create(HTMLElement.prototype);E.rowHeaderCell=false;E.clearHeight=function(){this.setAttribute("data-height","NaN")};E.resize=function(){if(!this._isRendered){return}this.setAttribute("data-height",parseInt(this.scrollHeight,10));if(typeof this.parentNode.resize==="function"){this.parentNode.resize(this)}else{console.log("parentNode has no resize event")}};E.attachedCallback=function(){var L=this;setTimeout(function(){L.resize()},10)};E._isVisible=function(){if(this.classList.contains("hidden")){return{isVisible:true,isHidden:false}}var Q=this.getBoundingClientRect().top,R,N=this.parentNode,L,M={isVisible:true,isHidden:false},T=this.rowHeaderCell?N.parentNode:N;if(N==null){console.warn("visiblity check for dangling node");M.isVisible=false;M.isHidden=true;return M}var P=wrap(A.body);var S=false;if(typeof T.tableRoot!=="undefined"&&T.tableRoot!==null){S=T.tableRoot.mainContainer.contains(T);if(S){L=T.tableRoot.mainContainer.parentNode}else{L=T.tableRoot}}else{L=P}var O=false;do{if(!O&&(N.offsetParent===null||(N!==T&&N.classList.contains("collapsed"))||N.classList.contains("ra-row-hidden"))){M.isVisible=false;M.isHidden=true;return M}R=N.getBoundingClientRect();if((O&&N.offsetParent===null)||Q<=R.bottom===false||N.classList.contains("hidden")){M.isVisible=false;M.isHidden=false;return M}N=N.parentNode;if(N===L&&N.clientHeight===0){if(S){N=N.parentNode;L=T.tableRoot}else{O=true;L=P}}}while(N!==L&&N!==null);return{isVisible:true,isHidden:false}};E.hide=function(){this.classList.add("hidden")};E.show=function(){this.classList.remove("hidden")};var t=Object.create(E);t.rowHeaderCell=true;t.allDefHeaders=[];t.props=null;t.isSortable=false;t.createdCallback=function(){var L=this;this.clearHeight();t.allDefHeaders.push(this)};t.reset=function(){this.setAttribute("data-sortdir",0)};t.sortByMe=function(){if(typeof this.tableRoot!=="undefined"&&this.tableRoot!==null){if(typeof this.tableRoot.parameterData!==null&&this.tableRoot.parameterData.children.length>0){this.props.sortRows(this.tableRoot.parameterData.children[0]);this.setAttribute("data-sortdir",this.props.direction)}}};t.setContents=function(M){var L;var N=this;if(typeof this.parentNode!=="undefined"&&this.parentNode!==null&&typeof this.parentNode.setHeaderCellContent==="function"){if(M){L=this._isVisible()}if(L.isVisible){setTimeout(function(){N.parentNode.setHeaderCellContent(N)},10);return true}else{if(L.isHidden){return true}}}return false};t.resize=function(){this.setAttribute("data-height",parseInt(this.scrollHeight,10));if(typeof this.parentNode.resize==="function"){this.parentNode.resize()}else{console.log("parentNode has no resize event")}};var n=Object.create(E);n.isDraggable=true;n.dataObj=null;n.hasImage=false;n.createdCallback=function(){return true};n.imageError=function(){this.parentNode.classList.add("no-image");this.parentCell.resize()};n.imageLoaded=function(){this.parentNode.classList.remove("no-image");this.parentCell.resize()};n.setup=function(){this.setContents(true)};n.setContents=function(M){var L;var N=this;if(typeof this.parentNode!=="undefined"&&this.parentNode!==null&&typeof this.dataObj!=="undefined"){if(M){L=this._isVisible()}if(L.isVisible){setTimeout(function(){N.parentNode.setCellContent(N)},10);return true}else{if(L.isHidden){return true}}}return false};n.finishSetup=function(){};n.setRecommended=function(L){this.isRecommended=L;if(this.isRecommended){this.setAttribute("data-isrecommended","true")}else{this.setAttribute("data-isrecommended","false")}};n.setInPrimary=function(L){this.inPrimary=L;if(this.inPrimary){this.setAttribute("data-inprimary","true")}else{this.setAttribute("data-inprimary","false")}};var B=Object.create(u);B.createdCallback=function(){return true};B.rowHeader=true;B.attachedCallback=function(){};B.clearHeight=function(){this.setAttribute("data-height","NaN");this.style.height="auto"};B.resize=function(N){var P=this;if(this.querySelector('[data-height="NaN"]')!==null){return}this.clearHeight();var M=parseInt(this.parentNode.getAttribute("data-height")||0,10);var O=parseInt(this.scrollHeight,10);var L=false;if(M==="NaN"||M<O){L=true;M=O}else{this.style.height=M+"px"}[].forEach.call(this.vertCells,function(Q){Q.setAttribute("style","-webkit-transform:none;transform:none;overflow:visible;margin-top:0;margin-left:1.5em;width:1.5em;height"+M+"px");if(Q.children.length>0){Q.children[0].setAttribute("style","-webkit-transform:translate(-1.5em,"+M+"px) rotate(-90deg);transform:translate(-1.5em,"+M+"px) rotate(-90deg);-webkit-transform-origin: 0 0 0;transform-origin: 0 0 0;width:"+M+"px;display: inline-block")}});if(M===0){M="NaN";this.parentNode.classList.add("ra-needs-sizing")}else{if(this.parentNode.classList.contains("ra-needs-sizing")){this.parentNode.classList.remove("ra-needs-sizing")}}this.setAttribute("data-height",M);if(L){setTimeout(function(){P.parentNode.resize(P)},10)}};B.setup=function(M){this.vertCells=[];if(typeof this.parentNode!=="undefined"&&this.parentNode!==null){this.setFlags();var O=null;var N=null;if(typeof this.parentNode.tableRoot.extraColumns!=="undefined"&&this.parentNode.tableRoot.extraColumns!==null){for(var P=0,L=this.parentNode.tableRoot.extraColumns.children.length;P<L;P++){O=this.parentNode.tableRoot.extraColumns.children[P];N=this.setupDefinition(O,this.parseDisplayType(O.data));N.myOptions=M;this.appendChild(N)}}this.resize()}};B.indentFirstCell=function(M){var L=M||this.firstElementChild;if(L!==null&&L.firstElementChild!==null&&typeof this.parentNode.offset!=="undefined"){L.firstElementChild.style.marginLeft=this.parentNode.offset+"px"}};B.checkParamChanges=function(){var M=this;if(this.isColumnHead){return false}var L=this.querySelectorAll("data-prop");[].forEach.call(L,function(P){if(typeof P.props!=="undefined"){var O=P;if(O._isRendered){O._isRendered=false;O.classList.remove("isRendered")}var N;if(this.parentNode.checkRendering()){N=P._isVisible();if(N.isVisible){this.setCellContent(P)}else{if(!N.isHidden){this.stopRendering()}}}}},this);return true};B.setFlags=function(){this.isColumnHead=typeof this.parentNode.isColumnHead!=="undefined"?this.parentNode.isColumnHead:false;this.allProperties=typeof this.parentNode.allProperties!=="undefined"?this.parentNode.allProperties:false;this.expandable=typeof this.parentNode.expandable!=="undefined"?this.parentNode.expandable:false};B.setupToggle=function(M,L){var N=this;if(M!==null){this.toggleControl=A.createElement("span");this.toggleControl.classList.add("collapse-group");this.toggleControl.classList.add("ui-icon");if(typeof L==="object"&&L.collapsed===true){this.toggleControl.classList.add("ui-icon-triangle-1-s")}else{this.toggleControl.classList.add("ui-icon-triangle-1-n")}this.toggleControl.classList.add("sim-ui-panel-controlgroup-toolbarbutton");this.toggleControl.onclick=function(O){O.stopPropagation();if(typeof N.parentNode.toggleGroup==="function"){N.parentNode.toggleGroup(this);N.parentNode.tableRoot.renderVisibleCells()}};M.insertBefore(this.toggleControl,M.firstElementChild)}};B.setupDefinition=function(O,L){var N=null;var M=O.data;if(this.isColumnHead){N=A.createElement("definition-head");N.tableRoot=this.tableRoot;N.props=O;N.setAttribute("data-columnName",M.name)}else{N=A.createElement("data-prop");N.tableRoot=this.tableRoot;N.props=O}if(typeof M.textDirection!=="undefined"&&M.textDirection==="vertical"){N.classList.add("raHTableVerticalText");this.vertCells.push(N)}if(typeof M.sortable!=="undefined"&&!M.sortable){N.classList.add("raHierarchyTable-sortableColumn")}if(typeof M.isHandle!=="undefined"&&M.isHandle){N.setAttribute("data-handle","true")}return N};B.setHeaderCellContent=function(N){if(!this.parentNode.tableRoot.setRenderStatus(N)){return}var L=N;if(N.props.data.resizableColumn){L=A.createElement("div");L.classList.add("ra-table-resizable-header");N.appendChild(L);var M=A.createElement("div");M.classList.add("ra-table-resizable-handle");N.appendChild(M);M.draggable=true;N.classList.add("ra-table-resizable-cell");this.parentNode.tableRoot.setupFixedColumnResize()}if(typeof N.props.data.displayHeaderFunction==="function"){N.props.data.displayHeaderFunction(L)}else{N.textContent=N.props.data.displayName}setTimeout(function(){N.resize()},10)};B.setCellContent=function(N){var O=this;if(!this.parentNode.tableRoot.setRenderStatus(N)){return}N.innerHTML="";var M;if(typeof this.parentNode.arrLoc!=="undefined"&&(N.props.data.name==="displayName"||N.props.data.name==="name")&&typeof this.parentNode.arrLocString!=="undefined"){M=decodeURIComponent(this.parentNode.arrLocString)}if(this.parseDisplayType(N.props.data)){if(typeof N.props.data.isEditable!=="undefined"&&N.props.data.isEditable){N.setAttribute("contentEditable","true");N.addEventListener("blur",function(){var P=N.props.data.saveFunction.call(N,O.parentNode.hLink.rawJSON.ID,N.props.data.name);N.props.data.displayFunction(N,P)})}var L=N;if(typeof N.props.data.textDirection!=="undefined"&&N.props.data.textDirection==="vertical"){N.classList.add("raHTableVerticalText");L=A.createElement("div");L.classList.add("raVertContent");N.appendChild(L)}M=typeof M!=="undefined"?M:this.getCellValue(N.props.data);M=!M&&M!==0?this.parentNode.hLink.rawJSON:M;N.props.data.displayFunction(L,M);if(N.parentNode.firstElementChild===N){if(this.expandable){this.setupToggle(N,N.myOptions)}this.indentFirstCell(N)}setTimeout(function(){N.resize()},10)}};B.parseDisplayType=function(L){var M=this.parentNode.localName;if(M==="header-row"){return true}else{if(L.displayType==="general"){if(M==="data-row"||M==="ra-harray"){return true}console.log(L.displayType)}else{if(L.displayType==="detail"){if(M==="data-row"||M==="ra-harray"||M==="ra-harrayrow"){return true}console.log(L.displayType)}else{return true}}}return false};B.setFlexExpand=function(L){if(typeof L.textDirection!=="undefined"&&L.textDirection==="vertical"){return 0}if(typeof L.colWidthExpandToFill!=="undefined"&&!L.colWidthExpandToFill){return 0}else{if(typeof L.stretchFactor!=="undefined"&&L!==null){return L.stretchFactor}}if(L.name==="name"||L.name==="notes"){return 3}else{if(L.name==="displayName"){return 2}}return 1};B.setFlexShrink=function(L){if(typeof L.textDirection!=="undefined"&&L.textDirection==="vertical"){return 0}if(typeof L.colWidthShrinkToFit!=="undefined"&&L.colWidthShrinkToFit){return 1}return 0};B.setFlexWidth=function(L){if(!L.forceWidth){if(typeof L.textDirection!=="undefined"&&L.textDirection==="vertical"){return"2em"}return"0%"}else{return L.width}};B.getCellValue=function(Q){var M=Q.getValue;if(typeof Q.getArrayValue==="function"&&(this.parentNode.localName==="ra-harray"||this.parentNode.localName==="ra-hsubarray"||this.parentNode.localName==="ra-harrayrow")){M=Q.getArrayValue}var O="";if(typeof M==="function"){O=M.call(this,this.parentNode.hLink)}else{O=this.parentNode.hLink.rawJSON[Q.name]}var P=this.parentNode.hLink.rawJSON.dimensions;if(typeof P!=="undefined"&&P!==null&&Q.name==="displayName"){O+=" : ";for(var N=0,L=P.length;N<L;N++){O+="["+P[N]+"]"}}return O};var r=Object.create(u);r.template=A.querySelector("#smaAdviseECommerceDataGroup");r.expandable=true;r.isDraggable=true;r.createdCallback=function(){this.childRows={};this.nodeBack=A.createElement("div");this.nodeBack.classList.add("data-group-back");this.nodeHead=A.createElement("row-head");this.appendChild(this.nodeBack);this.appendChild(this.nodeHead);return true};r.showRow=function(){};r.hideRow=function(){};r.attachedCallback=function(){this.sortcontroller=A.createElement("ra-sortcontroller");this.sortcontroller.sortFunction=this.dragSortFunction;this.appendChild(this.sortcontroller);return true};r.dragSortFunction=function(L,M){var N=null;if(M!==null&&typeof M.hLink!=="undefined"){N=M.hLink}L.hLink.inTransitFlag();L.hLink.parentNode.insertBefore(L.hLink,N)};r.resize=function(){if(!this.classList.contains("ra-needs-sizing")&&this.querySelector('[data-height="NaN"]')!==null){return}if(typeof this.nodeBack!=="undefined"&&this.nodeBack!==null){this.nodeBack.style.height=this.scrollHeight+"px"}if(typeof this.parentNode.resize==="function"){this.parentNode.resize()}else{this.tableRoot.resize()}};r.toggleGroup=function(L){var M=this;if(L.classList.contains("ui-icon-triangle-1-n")){M.classList.add("collapsed");L.classList.remove("ui-icon-triangle-1-n");L.classList.add("ui-icon-triangle-1-s")}else{M.classList.remove("collapsed");L.classList.remove("ui-icon-triangle-1-s");L.classList.add("ui-icon-triangle-1-n")}this.resize()};r.indentLength=d;r.groupFooter=null;r.setup=function(){this.groupID=this.hLink.rawJSON.ID;this.setAttribute("data-id",this.groupID);this.isRoot=typeof this.hLink.parentNode.hierarchyRoot!=="undefined"&&this.hLink.parentNode.hierarchyRoot===true;this.nodeHead=this.querySelector("row-head");if(!this.isRoot){this.groupFooter=A.createElement("div");this.groupFooter.classList.add("raDataGroupFooter");this.appendChild(this.groupFooter);this.indent();this.nodeHead.setup({displayType:"name"});this.nodeHead.style.marginTop="calc(-1.25em - 9px)";this.nodeBack.style.marginTop="calc(-1.75em - 9px)";this.style.paddingTop="calc(1.75em + 9px)"}else{this.removeChild(this.nodeBack);this.removeChild(this.nodeHead);if(this.groupFooter!==null){if(this.groupFooter.parentNode!==null){this.groupFooter.parentNode.removeChild(this.groupFooter)}this.groupFooter=null}}for(var L=0,M;(M=this.hLink.children[L]);L++){this.addChildRow(M)}if(this.nodeBack!==null){this.nodeBack.style.height=this.scrollHeight+"px"}};r.addChildRow=function(N){var L;if(N.dataId in this.childRows){L=this.childRows[N.dataId];L.indent();var M=L.querySelectorAll("data-val");[].forEach.call(M,function(O){L.parentNode.refreshData(O)})}else{if(N.linkType==="group"){L=A.createElement("data-group");if(!this.classList.contains("odd")&&!this.isRoot){L.classList.add("odd")}}else{if(typeof N.linkStruct!=="undefined"&&N.linkStruct==="arrayparam"){L=A.createElement("ra-harray");if(!this.classList.contains("odd")&&!this.isRoot){L.classList.add("odd")}}else{L=A.createElement("data-row")}}L.hLink=N;L.tableRoot=this.tableRoot;L.setup();this.childRows[N.dataId]=L}if(typeof L!=="undefined"&&L!==null){this.insertBefore(L,this.groupFooter);if(typeof L.nodeBack!=="undefined"&&L.nodeBack!==null){L.nodeBack.style.height=L.clientHeight+"px"}L.indent()}else{if(N.dataId in this.childRows){delete this.childRows[N.dataId]}}};r.indent=function(){this.offset=5;if(typeof this.parentNode!=="undefined"&&this.parentNode!==null){var L=this.parentNode.childIndent;if(typeof L!=="undefined"&&L!==null){this.offset=L}}this.nodeHead.indentFirstCell();this.childIndent=this.offset+this.indentLength;[].forEach.call(this.children,function(M){if(typeof M.indent==="function"){M.indent()}});if(typeof this.nodeBack!=="undefined"&&this.nodeBack!==null){this.nodeBack.style.left=this.offset+"px"}if(this.groupFooter!==null){this.groupFooter.style.left=this.offset+"px";this.groupFooter.style.width="100%"}};r.getJSON=function(){return this.rawJSON};r.refreshData=function(){};var p=Object.create(j);p.template=A.querySelector("#smaAdviseECommerceDataRow");p.allProperties=true;p.collectionObserverOptions={childList:true,attributes:true,attributeFilter:["data-objectiveschanged"]};p.createdCallback=function(){this.style.width="calc(100% - 10px)";this.nodeHead=A.createElement("row-head");this.appendChild(this.nodeHead);return true};p.attachedCallback=function(){};p.setup=function(){this.parameterID=this.hLink.rawJSON.ID;this.setAttribute("data-id",this.parameterID);this.resetObjective();var L=this.hLink.rawJSON.dataType?this.hLink.rawJSON.dataType.toLowerCase():"";if(L===""){L=this.hLink.rawJSON.type?this.hLink.rawJSON.type.toLowerCase():""}this.setAttribute("data-datatype",L);this.indent();if(typeof this.tableRoot!=="undefined"&&this.tableRoot!==null){this.nodeHead.setup();var M=this;this.resetObservedCollection();this.attrObserver=new MutationObserver(function(N){N.forEach(M.mutationSwitchboard,M)});this.attrObserver.observe(this.tableRoot,{attributes:true,attributeFilter:["data-hierarchysource","data-collectionsource","data-collection"]});this.paramObserver=new MutationObserver(function(N){N.forEach(M.parameterMutationHandler,M)});this.paramObserver.observe(this.hLink,{attributes:true,attributeFilter:["data-parameterchanged"]})}};p.parameterMutationHandler=function(){try{this.nodeHead.checkParamChanges()}catch(L){console.error(L)}};p.indent=function(){this.offset=5;if(typeof this.parentNode!=="undefined"&&this.parentNode!==null){var L=this.parentNode.childIndent;if(typeof L!=="undefined"&&L!==null){this.offset=L}}this.nodeHead.indentFirstCell()};p.isDraggable=true;p.setupData=function(L){var M=A.createElement("data-val");M.dataObj=L;M.parameter=this.parameterID;M.setAttribute("data-col",L.dataId);return M};p.refreshData=function(L){if(L.parentNode!==this){return false}L.innerHTML="";if(L._isRendered){L._isRendered=false;L.classList.remove("isRendered")}var M;if(this.checkRendering()){M=L._isVisible();if(M.isVisible){this.setCellContent(L,L.dataObj)}else{if(!M.isHidden){this.stopRendering()}}}};p.getParamValue=function(L){return L.data.parmValues[this.parameterID]};p.getViolationFlags=function(L){if(L.data.violationFlags){return L.data.violationFlags[this.parameterID]}};p.setCellContent=function(P,N){var Q=this;if(N.infoCell){return}if(!this.tableRoot.setRenderStatus(P)){return}if(typeof this.hLink.displayValue==="function"){P.clearHeight();this.hLink.displayValue.call(P,this)}else{var O=this.getParamValue(N);var M=this.getViolationFlags(N);if(M){P.classList.add("hierarchical-constraintViolation")}if(O!==null&&typeof O!=="undefined"){P.clearHeight();if(this.getAttribute("data-datatype")==="string"){if(h.isLink(O)){var L=A.createElement("a");L.setAttribute("href",O);L.setAttribute("target","_blank");L.textContent=O;P.appendChild(L)}else{P.textContent=O}}else{if((this.getAttribute("data-datatype")==="integer"||this.getAttribute("data-datatype")==="real")&&O!==""){O=h.formatExp(O)}P.textContent=O}setTimeout(function(){P.resize()},10)}}};p.resetObjective=function(){var L=D.getObjective(this.parameterID);if(L==="MAXIMIZE"){this.hLink.objective=1;this.setAttribute("data-objective",1)}else{if(L==="MINIMIZE"){this.hLink.objective=-1;this.setAttribute("data-objective",-1)}else{if(L==="TARGET"){this.hLink.objective=2;this.setAttribute("data-objective",2)}else{this.hLink.objective=0;this.setAttribute("data-objective",0)}}}};p.getJSON=function(){return this.rawJSON};var H=Object.create(E);H.rowHeaderCell=true;H.createdCallback=function(){this.clearHeight();return true};H.setContents=function(M){var L;var N=this;if(typeof this.parentNode!=="undefined"&&this.parentNode!==null&&typeof this.parentNode.setCellContent==="function"){if(M){L=this._isVisible()}if(L.isVisible){setTimeout(function(){N.parentNode.setCellContent(N)},10);return true}else{if(L.isHidden){return true}}}return false};var v=Object.create(E);v.createdCallback=function(){return true};v.attachedCallback=function(){this.setAttribute("data-col",this.dataObj.dataId);this.clearHeight();return true};v.getValue=function(){if(typeof this.dataObj!=="undefined"){if(this.parentNode!==null&&typeof this.parentNode!=="undefined"){var L=this.parentNode.hLink.rawJSON.dataType.toLowerCase();var M=this.parentNode.getParamValue(this.dataObj);if(M!==null&&typeof M!=="undefined"){if(L==="integer"||L==="real"){return h.formatExp(M)}return M}}return""}else{return""}};v.setContents=function(M){var L;var N=this;if(typeof this.parentNode!=="undefined"&&this.parentNode!==null&&typeof this.dataObj!=="undefined"&&typeof this.parentNode.setCellContent==="function"){if(M){L=this._isVisible()}if(L.isVisible){setTimeout(function(){if(N.parentNode!==null&&typeof N.parentNode!=="undefined"){N.parentNode.setCellContent(N,N.dataObj)}},10);return true}else{if(L.isHidden){return true}}}return false};var J=Object.create(u);J.isDraggable=true;J.expandable=true;J.allProperties=true;J.indentLength=d;J.createdCallback=function(){this.nodeBack=A.createElement("div");this.nodeBack.classList.add("data-group-back");this.nodeHead=A.createElement("row-head");this.appendChild(this.nodeBack);this.appendChild(this.nodeHead);this.nodeBody=A.createElement("div");this.nodeBody.classList.add("arrayDetails");this.appendChild(this.nodeBody);this.groupFooter=A.createElement("div");this.groupFooter.classList.add("raHArrayFooter");this.appendChild(this.groupFooter)};J.attachedCallback=function(){};J.toggleGroup=function(L){var M=this;if(L.classList.contains("ui-icon-triangle-1-n")){M.classList.add("collapsed");L.classList.remove("ui-icon-triangle-1-n");L.classList.add("ui-icon-triangle-1-s")}else{M.classList.remove("collapsed");L.classList.remove("ui-icon-triangle-1-s");L.classList.add("ui-icon-triangle-1-n")}this.resize()};J.setup=function(){this.parameterID=this.hLink.rawJSON.ID;this.setAttribute("data-id",this.parameterID);this.indent();if(typeof this.tableRoot!=="undefined"&&this.tableRoot!==null){this.nodeHead.setup({collapsed:true});this.classList.add("collapsed");var O=0;var M=this.hLink.rawJSON.dimensions.length;var N=M-O>1;for(var L=0;L<this.hLink.rawJSON.dimensions[O];L++){var P=null;if(N){P=A.createElement("ra-hsubarray");if(!this.classList.contains("odd")){P.classList.add("odd")}}else{P=A.createElement("ra-harrayrow")}P.setAttribute("data-arraycontents","true");P.arrLoc=[L];P.arrLocString=this.hLink.rawJSON.displayName+"["+L+"]";P.hLink=this.hLink;P.tableRoot=this.tableRoot;P.setup();this.insertBefore(P,this.groupFooter)}}if(typeof this.nodeBack!=="undefined"&&this.nodeBack!==null){this.nodeBack.style.height=this.scrollHeight+"px"}};J.indent=function(){this.offset=5;if(typeof this.parentNode!=="undefined"&&this.parentNode!==null){var L=this.parentNode.childIndent;if(typeof L!=="undefined"&&L!==null){this.offset=L}}this.childIndent=this.offset+this.indentLength;[].forEach.call(this.children,function(M){if(typeof M.indent==="function"){M.indent()}});if(typeof this.nodeBack!=="undefined"&&this.nodeBack!==null){this.nodeBack.style.left=this.offset+"px"}if(typeof this.groupFooter!=="undefined"&&this.groupFooter!==null){this.groupFooter.style.left=this.offset+"px";this.groupFooter.style.width="100%"}};J.resize=function(){if(this.classList.contains("ra-needs-sizing")&&this.querySelector('[data-height="NaN"]:not(data-val)')!==null){return}if(typeof this.nodeBack!=="undefined"&&this.nodeBack!==null){this.nodeBack.style.height=this.scrollHeight+"px"}if(this.parentNode!==null&&typeof this.parentNode!=="undefined"&&typeof this.parentNode.resize==="function"){this.parentNode.resize()}else{this.tableRoot.resize()}};J.showRow=function(){this.classList.remove("ra-row-hidden")};J.hideRow=function(){this.classList.add("ra-row-hidden")};var m=Object.create(u);m.expandable=true;m.indentLength=d;m.createdCallback=function(){this.nodeBack=A.createElement("div");this.nodeBack.classList.add("data-group-back");this.nodeHead=A.createElement("row-head");this.appendChild(this.nodeBack);this.appendChild(this.nodeHead);this.nodeBody=A.createElement("div");this.nodeBody.classList.add("arrayDetails");this.appendChild(this.nodeBody);this.groupFooter=A.createElement("div");this.groupFooter.classList.add("raHArrayFooter");this.appendChild(this.groupFooter)};m.attachedCallback=function(){};m.toggleGroup=function(L){var M=this;if(L.classList.contains("ui-icon-triangle-1-n")){M.classList.add("collapsed");L.classList.remove("ui-icon-triangle-1-n");L.classList.add("ui-icon-triangle-1-s")}else{M.classList.remove("collapsed");L.classList.remove("ui-icon-triangle-1-s");L.classList.add("ui-icon-triangle-1-n")}this.resize()};m.setup=function(){this.parameterID=this.hLink.rawJSON.ID;this.setAttribute("data-id",this.parameterID);this.indent();if(typeof this.tableRoot!=="undefined"&&this.tableRoot!==null){this.nodeHead.setup({collapsed:true});this.classList.add("collapsed");var P=this.arrLoc.length;var N=this.hLink.rawJSON.dimensions.length;var O=N-P>1;for(var M=0;M<this.hLink.rawJSON.dimensions[P];M++){var R=null;if(O){R=A.createElement("ra-hsubarray");if(!this.classList.contains("odd")){R.classList.add("odd")}}else{R=A.createElement("ra-harrayrow")}R.setAttribute("data-arraycontents","true");R.arrLoc=[];R.arrLocString=this.hLink.rawJSON.name;for(var L=0,Q=this.arrLoc.length;L<Q;L++){R.arrLoc.push(this.arrLoc[L]);R.arrLocString+="["+this.arrLoc[L]+"]"}R.arrLoc.push(M);R.arrLocString+="["+M+"]";R.hLink=this.hLink;R.tableRoot=this.tableRoot;R.setup();this.insertBefore(R,this.groupFooter)}}};m.indent=function(){this.offset=5;if(typeof this.parentNode!=="undefined"&&this.parentNode!==null){var L=this.parentNode.childIndent;if(typeof L!=="undefined"&&L!==null){this.offset=L}}this.childIndent=this.offset+this.indentLength;[].forEach.call(this.children,function(M){if(typeof M.indent==="function"){M.indent()}});if(typeof this.nodeBack!=="undefined"&&this.nodeBack!==null){this.nodeBack.style.left=this.offset+"px"}if(typeof this.groupFooter!=="undefined"&&this.groupFooter!==null){this.groupFooter.style.left=this.offset+"px";this.groupFooter.style.width="100%"}};m.resize=function(){if(this.classList.contains("ra-needs-sizing")&&this.querySelector('[data-height="NaN"]:not(data-val)')!==null){return}if(typeof this.nodeBack!=="undefined"&&this.nodeBack!==null){this.nodeBack.style.height=this.scrollHeight+"px"}if(typeof this.parentNode.resize==="function"){this.parentNode.resize()}else{this.tableRoot.resize()}};m.showRow=function(){this.classList.remove("ra-row-hidden")};m.hideRow=function(){this.classList.add("ra-row-hidden")};var G=Object.create(j);G.template=A.querySelector("#smaAdviseECommerceDataRow");G.isDraggable=false;G.collectionObserverOptions={childList:true,attributes:true,attributeFilter:["data-objectiveschanged"]};G.createdCallback=function(){this.style.width="calc(100% - 10px)";this.nodeHead=A.createElement("row-head");this.appendChild(this.nodeHead);return true};G.setup=function(){this.parameterID=this.hLink.rawJSON.ID;this.setAttribute("data-id",this.parameterID);this.resetObjective();this.setAttribute("data-datatype",this.hLink.rawJSON.dataType?this.hLink.rawJSON.dataType.toLowerCase():"");this.indent();if(typeof this.tableRoot!=="undefined"&&this.tableRoot!==null){this.nodeHead.setup();var L=this;this.attrObserver=new MutationObserver(function(M){M.forEach(L.mutationSwitchboard,L)});this.attrObserver.observe(this.tableRoot,{attributes:true,attributeFilter:["data-hierarchysource","data-collectionsource","data-collection"]});this.resetObservedCollection()}};G.indent=function(){this.offset=5;if(typeof this.parentNode!=="undefined"&&this.parentNode!==null){var L=this.parentNode.childIndent;if(typeof L!=="undefined"&&L!==null){this.offset=L}}};G.setupData=function(L){var M=A.createElement("data-val");M.dataObj=L;M.parameter=this.parameterID;M.setAttribute("data-col",L.dataId);return M};G.refreshData=function(L){if(L.parentNode!==this){return false}L.innerHTML="";if(L._isRendered){L._isRendered=false;L.classList.remove("isRendered")}var M;if(this.checkRendering()){M=this._isVisible();if(M.isVisible){this.setCellContent(L,L.dataObj);L._isRendered=true;L.classList.add("isRendered")}else{if(!M.isHidden){this.stopRendering()}}}};G.getParamValue=function(M){if(typeof this.arrLoc!=="undefined"){var O=M.data.parmValues[this.parameterID];for(var N=0,L=this.arrLoc.length;N<L;N++){O=O[this.arrLoc[N]]}return O}return -1};G.resetObjective=function(){var L=D.getObjective(this.parameterID);if(L==="MAXIMIZE"){this.hLink.objective=1;this.setAttribute("data-objective",1)}else{if(L==="MINIMIZE"){this.hLink.objective=-1;this.setAttribute("data-objective",-1)}else{if(L==="TARGET"){this.hLink.objective=2;this.setAttribute("data-objective",2)}else{this.hLink.objective=0;this.setAttribute("data-objective",0)}}}};G.getJSON=function(){return this.rawJSON};G.setCellContent=function(O,M){if(!this.tableRoot.setRenderStatus(O)){return}var N=this.getParamValue(M);if(typeof N!=="undefined"&&N!==null){O.clearHeight();if(this.getAttribute("data-datatype")==="string"){if(h.isLink(N)){var L=A.createElement("a");L.setAttribute("href",N);L.setAttribute("target","_blank");L.textContent=N;L.title=N;O.appendChild(L)}else{O.textContent=N;O.title=N}}else{if((this.getAttribute("data-datatype")==="integer"||this.getAttribute("data-datatype")==="real")&&N!==""){N=h.formatExp(N)}O.textContent=N;O.title=N}setTimeout(function(){O.resize()},10)}};var F=Object.create(HTMLElement.prototype);F.createdCallback=function(){return true};F.setup=function(){var L=this;if(typeof this.rowList!=="undefined"&&this.rowList!==null){[].forEach.call(this.rowList,function(N){var M=A.createElement("ra-footerrow");M.rowSettings=N;M.tableRoot=L.tableRoot;M.setup();L.appendChild(M)})}};var z=Object.create(j);z.createdCallback=function(){this.style.width="calc(100% - 10px)";return true};z.setup=function(){this.nodeHead=A.createElement("row-head");if(this.tableRoot.fixedWidth>0){var L=this.tableRoot.getUniqueSelector()+" row-head";var M="calc("+parseInt(this.tableRoot.fixedWidth,10)+"px - 1em)";this.tableRoot.hierarchyStyles.addStyle(L,"width",M)}var N=A.createElement("div");N.textContent=a.translate(this.rowSettings.name);this.nodeHead.appendChild(N);this.appendChild(this.nodeHead);var O=this;this.attrObserver=new MutationObserver(function(P){P.forEach(O.mutationSwitchboard,O)});if(typeof this.tableRoot!=="undefined"&&this.tableRoot!==null){this.attrObserver.observe(this.tableRoot,{attributes:true,attributeFilter:["data-hierarchysource","data-collectionsource","data-collection"]})}};z.collectionObserverOptions={childList:true,attributes:true,attributesFilter:["data-objectiveschanged"]};z.resetObjective=function(){var M=this;if(typeof this.rowSettings.changeOn!=="undefined"&&this.rowSettings.changeOn.indexOf("grading")>-1&&typeof this.rowSettings.getFunction==="function"){var L=this.querySelectorAll("data-val");[].forEach.call(L,function(N){M.rowSettings.getFunction.call(N,N.dataObj.data)})}};z.setupData=function(L){var M=A.createElement("data-val");M.dataObj=L;M.setAttribute("data-col",L.dataId);if(typeof this.rowSettings.getFunction==="function"){this.rowSettings.getFunction.call(M,M.dataObj.data)}return M};z.refreshData=function(L){if(L.parentNode!==this){return false}L.innerHTML="";if(L._isRendered){L._isRendered=false;L.classList.remove("isRendered")}if(typeof this.rowSettings.getFunction==="function"){this.rowSettings.getFunction.call(L,L.dataObj.data)}};var C=Object.create(HTMLElement.prototype);C.createdCallback=function(){return true};C.attachedCallback=function(){return true};var q=Object.create(HTMLElement.prototype);q.extraColumns=[];q.defaultGroupIndent=d;q.template=A.querySelector("#SMAAnalyticsECommerceTable");q.instanceNumber=0;q.instanceID=null;q.renderSignal=true;q.checkRenderStatus=function(L){if(L._isRendered){return false}return true};q.setRenderStatus=function(L){if(this.checkRenderStatus(L)){L._isRendered=true;L.classList.add("isRendered");return true}return false};q.createdCallback=function(){try{this.myInstance=this.template.content.cloneNode(true).querySelector(".smaAdviseEcommerceBase")}catch(M){this.myInstance=A.createElement("div");this.myInstance.classList.add("smaAdviseEcommerceBase");var O=A.createElement("div");O.classList.add("smaAdviseEcommerceHeader");var N=A.createElement("div");N.classList.add("smaAdviseEcommerceHeadOuter");var L=A.createElement("div");L.classList.add("smaAdviseEcommerceHeadInner");N.appendChild(L);O.appendChild(N);this.myInstance.appendChild(O);O=A.createElement("div");O.classList.add("smaAdviseEcommerceMain");N=A.createElement("div");N.classList.add("smaAdviseEcommerceContentOuter");L=A.createElement("div");L.classList.add("smaAdviseEcommerceContentInner");N.appendChild(L);O.appendChild(N);this.myInstance.appendChild(O);O=A.createElement("div");O.classList.add("smaAdviseEcommerceFooter");N=A.createElement("div");N.classList.add("smaAdviseEcommerceFooterOuter");L=A.createElement("div");L.classList.add("smaAdviseEcommerceFooterInner");N.appendChild(L);O.appendChild(N);this.myInstance.appendChild(O);O=A.createElement("div");O.classList.add("smaAdviseTable-leftbar");this.myInstance.appendChild(O);O=A.createElement("div");O.classList.add("smaAdviseTable-rightbar");this.myInstance.appendChild(O)}this.appendChild(this.myInstance);this.mainContainer=this.querySelector(".smaAdviseEcommerceContentInner");this.headerContainer=this.querySelector(".smaAdviseEcommerceHeadInner");this.footerContainer=this.querySelector(".smaAdviseEcommerceFooterInner");this.vdivider=this.querySelector(".smaAdviseTable-leftbar");this.rightBorder=this.querySelector(".smaAdviseTable-rightbar");this.emptyBlock=A.createElement("div");this.emptyBlock.classList.add("cover-screen-message");this.emptyBlock.classList.add("empty-display");this.emptyBlock.textContent=a.translate("no_alternatives_in_basket");this.watchSelf();return true};q.applyHeaderRowTemplate=function(){var L=A.createElement("header-row");L.tableRoot=this;L.compareControls=this.compareController;L.setup();this.utilityBox=L.utilityBox;this.headerContainer.appendChild(L)};q.applyFooterRowTemplate=function(){var L=A.createElement("footer-row");L.tableRoot=this;L.rowList=this.footerRows;L.setup();this.footerContainer.appendChild(L)};q.applyBodyTemplate=function(){var L=A.createElement("data-group");L.tableRoot=this;L.hLink=this.parameterData.children[0];this.mainContainer.appendChild(L);L.setup();this.applyRowFilter();this.applyColumnFilter();this.resize();this.setAttribute("data-hierarchyloaded","true");var M=this;this.hierarchyObserver=new MutationObserver(function(N){N.forEach(function(O){if(O.type==="childList"){if(O.addedNodes!==null&&O.addedNodes.length>0){[].forEach.call(O.addedNodes,function(P){var R=P.dataId;var S=null;if(typeof P.inTransit!=="undefined"&&P.inTransit&&(typeof M.removedChildren!=="undefined"&&M.removedChildren.hasOwnProperty(R))){S=M.removedChildren[R];delete M.removedChildren[R];P.inTransitFlag()}if(typeof S==="undefined"||S===null){S=M.mainContainer.querySelector('[data-id="'+R+'"]')}var U=P.parentNode.dataId;var V=M.mainContainer.querySelector('[data-id="'+U+'"]');var T=typeof P.parentNode.hierarchyRoot!=="undefined"&&P.parentNode.hierarchyRoot===true;if(S===null){if(P.linkType==="group"){S=A.createElement("data-group");if(!M.classList.contains("odd")&&!T){S.classList.add("odd")}}else{if(typeof P.linkStruct!=="undefined"&&P.linkStruct==="arrayparam"){S=A.createElement("ra-harray");if(!M.classList.contains("odd")&&!T){S.classList.add("odd")}}else{S=A.createElement("data-row")}}if(S!==null){S.hLink=P;S.tableRoot=V.tableRoot;S.setup()}}if(S!==null){var Q=null;if(O.nextSibling!==null){var W=O.nextSibling.dataId;var X=V.querySelector('[data-id="'+W+'"]');if(typeof X!=="undefined"){Q=X}}if(Q===null){Q=V.groupFooter}V.insertBefore(S,Q);if(typeof S.nodeBack!=="undefined"&&S.nodeBack!==null){S.nodeBack.style.height=S.clientHeight+"px"}S.indent();M.applyFilterFunctionToRow(S);M.renderVisibleCells();V.childRows[R]=S}})}if(O.removedNodes!==null){[].forEach.call(O.removedNodes,function(P){var T=P.dataId;var Q=M.mainContainer.querySelectorAll('[data-id="'+T+'"]:not([data-arraycontents])');var S=null;if(Q!==null&&Q.length>1){[].forEach.call(Q,function(V){var U=V.parentNode.hLink;if(U.hasChildWithID(T)){S=V}else{delete V.parentNode.childRows[T];V.parentNode.removeChild(V)}})}if(Q!==null&&Q.length===1){S=Q[0]}if(S!==null){delete S.parentNode.childRows[T];var R=S.parentNode.removeChild(S);if(typeof P.inTransit!=="undefined"&&P.inTransit){if(typeof M.removedChildren==="undefined"){M.removedChildren={}}M.removedChildren[T]=R}}})}}})});this.hierarchyObserver.observe(L.hLink,{childList:true,subtree:true})};q.watchSelfMutationTracker=function(L){L.forEach(this.mutationSwitchboard)};q.watchSelf=function(){var M=this;var L=function(N){M.watchSelfMutationTracker(N)};this.attrObserver=new MutationObserver(L);this.attrObserver.observe(this,{attributes:true,attributeFilter:["data-fixedcolumnsource","data-hierarchysource","data-collectionsource"]})};q.mutationSwitchboard=function(M){var N=M.target;if(M.type==="attributes"){var L=N.getAttribute(M.attributeName);if(L!==null&&typeof L!=="undefined"&&L!==""){if(M.attributeName==="data-fixedcolumnsource"&&typeof N.fixedColsSet==="undefined"){N.waitForFixedColumns(L)}else{if(M.attributeName==="data-hierarchysource"){if(typeof N.fixedColsSet==="undefined"){N.hierarchyWaiting=true}else{N.setHierarchySource(L)}}else{if(M.attributeName==="data-collectionsource"){if(typeof N.fixedColsSet==="undefined"){N.collectionsWaiting=true}else{N.setCollectionSource(L)}}}}}}};q.setfixedWidths=function(N){var Q=this;var L=0;var P=false;var M=this.myParentSelector||"#"+this.parentNode.id;if(typeof Q.fixedManualAdjust==="undefined"&&N){P=true;Q.fixedManualAdjust=true}if(!Q.columnBoxData){Q.columnBoxData={}}var O=0;[].forEach.call(Q.extraColumns.children,function(W){L+=1;try{var Y=M+" data-prop:nth-of-type("+L+")";var X=M+" definition-head:nth-of-type("+L+")";var ac=null,S=0,ab="";if(P){ac=Q.querySelector(Y);S=ac.scrollWidth;ab=S+"px";W.data.width=ab;O+=S}var T=Q.columnBoxData[W.data.name]||W.data;if(T&&!Q.columnBoxData[W.data.name]&&ac){Q.columnBoxData[W.data.name]={width:ab}}var R="0 0 "+T.width;if(!Q.fixedManualAdjust){var aa=B.setFlexExpand(W.data);var V=B.setFlexShrink(W.data);var U=B.setFlexWidth(W.data);R=aa+" "+V+" "+U}Q.hierarchyStyles.addStyle(Y,"-webkit-flex",R);Q.hierarchyStyles.addStyle(Y,"-ms-flex",R);Q.hierarchyStyles.addStyle(Y,"flex",R);Q.hierarchyStyles.addStyle(X,"-webkit-flex",R);Q.hierarchyStyles.addStyle(X,"-ms-flex",R);Q.hierarchyStyles.addStyle(X,"flex",R)}catch(Z){console.error(Z)}});if(O>0){this.fixedWidth=O}if(Q.fixedManualAdjust){this.sizeFixedCols()}};q.waitForFixedColumns=function(M){var P=this;var N=A.querySelector("#"+M);if(N!==null&&N!==P.extraColumns){P.extraColumns=N;var O=function(){if(typeof P.hierarchyWaiting!=="undefined"&&P.hierarchyWaiting){P.setHierarchySource(P.getAttribute("data-hierarchysource"))}if(typeof P.collectionsWaiting!=="undefined"&&P.collectionsWaiting){P.setCollectionSource(P.getAttribute("data-collectionsource"))}P.setfixedWidths();P.fixedColsSet=true;P.applyHeaderRowTemplate()};var L=new MutationObserver(function(Q){Q.forEach(function(R){if(R.attributeName==="data-isset"&&R.target.getAttribute("data-isset")==="true"){O()}})});if(N.getAttribute("data-isset")==="true"){O()}else{L.observe(N,{attributes:true,attributeFilter:["data-isset"]})}}};q.setHierarchySource=function(L){var M=A.querySelector("#"+L);if(M!==null&&M!==this.parameterData){this.parameterData=M;this.applyBodyTemplate();if(this.forceFooter){this.footerRows=this.footerRows||[{name:"",getFunction:function(){this.textContent=""}}];this.applyFooterRowTemplate()}}};q.setCollectionSource=function(L){var O=this;var M=A.querySelector("#"+L);if(M!==null&&M!==this.dataCollections){this.dataCollections=M;if(typeof this.headerObserver==="undefined"){this.headerObserver=new MutationObserver(function(P){P.forEach(function(Q){O.headCountObserver.call(O,Q)})});this.headerObserver.observe(this.headerContainer.children[0],{childList:true})}this.applyFooterRowTemplate()}this.resetObservedCollection();if(typeof this.collectionsObserver==="undefined"){this.collectionsObserver=new MutationObserver(function(P){P.forEach(O.resetObservedCollection,O)})}else{this.collectionsObserver.disconnect()}var N={attributes:true,attributeFilter:["data-activecollection"]};this.collectionsObserver.observe(O.dataCollections,N);O.dataCollections.updateCollections()};q.getHierarchy=function(){return this.parameterData};q.initialize=function(M){this.hierarchyStyles=new s();for(var L=0;L<A.styleSheets.length;L++){if(typeof A.styleSheets[L].href==="string"&&A.styleSheets[L].href.indexOf(i)>-1){this.hierarchyStyles.setStyleSheet(A.styleSheets[L]);break}}this.tablePostfix=M.tablePostfix;this.dataHeaderDisplayFunc=M.dataHeaderDisplayFunc;this.jsonParser=M.jsonParser;this.myParentSelector=M.target;this.fixedWidth=typeof M.fixedWidth!=="undefined"?M.fixedWidth:null;this.scrollFixed=typeof M.scrollFixed==="boolean"?M.scrollFixed:false;if(this.fixedWidth!==null){this.sizeFixedCols()}this.forceFooter=M.forceFooter;this.footerRows=M.footerRows;return this};q.getMyStyles=function(){return this.hierarchyStyles};q.firstRun=true;q.detachedCallback=function(){if(this.resizeColumnHandler){this.resizeColumnHandler.destroy()}};q.attachedCallback=function(){if(this.firstRun){this.firstRun=false;if(this.getAttribute("data-iscomparable")==="true"){this.compareController=A.createElement("ra-comparecontrol");this.compareController.mainContent=this.mainContainer;this.baselineHighlight=this.compareController.turnOn();this.myInstance.insertBefore(this.baselineHighlight,this.myInstance.children[0])}}var O=this;var L=function(){O.headerContainer.parentNode.scrollLeft=this.scrollLeft;O.mainContainer.scrollLeft=this.scrollLeft;var P=parseInt(this.scrollWidth,10)-parseInt(this.clientWidth,10)-parseInt(this.scrollLeft,10);if(this.scrollLeft>0){O.classList.add("moreLeft")}else{O.classList.remove("moreLeft")}if(P>0){O.classList.add("moreRight")}else{O.classList.remove("moreRight")}};this.footerContainer.parentNode.addEventListener("scroll",L);var M;var N=function(){var Q=this;var R=parseInt(this.scrollHeight,10);var P=parseInt(this.clientHeight,10);var S=parseInt(this.scrollTop,10);var T=R-P-S;if(S>0){O.classList.add("moreAbove")}else{O.classList.remove("moreAbove")}if(T>0){O.classList.add("moreBelow")}else{O.classList.remove("moreBelow")}if(typeof M!=="undefined"){clearTimeout(M)}M=setTimeout(function(){O.renderVisibleCells()},50)};this.mainContainer.parentNode.parentNode.addEventListener("scroll",N);this.scrollbarWidth=parseInt(h.getScrollWidth(),10)};q.primaryCollectionChanged=function(){this.dataCollections.updatePrimary()};q.updateCollections=function(){if(typeof this.dataCollections!=="undefined"&&this.dataCollections!==null&&typeof this.dataCollections.updateCollections==="function"){this.dataCollections.updateCollections()}};q.parameterChange=function(){};q.hierarchyChanged=function(L){if(this.parameterData){this.parameterData.checkForHierarchyChanges(L,this.parameterData.children[0])}};q._contentWidth=0;q._contentWidthAdj=0;q.resizeWidth=function(){if(this.mainContainer.children.length>0){var M=this.mainContainer.children[0];M.setAttribute("style","width:auto;");var L=parseInt(this.mainContainer.scrollWidth,10)-this.scrollbarWidth;this._contentWidth=parseInt(this.parentNode.clientWidth,10);this.sizeFixedCols();this.rightBorder.style.right=this.scrollbarWidth+"px";var N=L+"px";M.style.width=N;this.headerContainer.style.width=N;this.footerContainer.style.width=N;this.headerContainer.parentNode.scrollLeft=this.footerContainer.parentNode.scrollLeft;this.mainContainer.scrollLeft=this.footerContainer.parentNode.scrollLeft}};q.sizeFixedCols=function(){var T=this.getUniqueSelector(),V=T+" .smaAdviseEcommerceMain",U=T+" .smaAdviseEcommerceContentOuter",R=T+" .smaAdviseEcommerceContentInner",W=T+" .smaAdviseEcommerceHeader",O=T+" .smaAdviseEcommerceHeadOuter",L=T+" .smaAdviseEcommerceHeadInner",N=T+" .smaAdviseEcommerceFooter",Q=T+" .smaAdviseEcommerceFooterOuter",Y=T+" .smaAdviseEcommerceFooterInner",M=T+" .smaAdviseTable-leftbar";if(this.fixedWidth===null){var S=this.querySelector(T+" row-head");if(S&&S.scrollWidth>0){this.fixedWidth=S.scrollWidth}}var P="calc(100% - "+this.fixedWidth+"px)";this.hierarchyStyles.addStyle(U,"width",P);if(this.scrollFixed){this.hierarchyStyles.addStyle(R,"width","auto");this.hierarchyStyles.addStyle(O,"width","auto");this.hierarchyStyles.addStyle(Q,"width","auto");this.hierarchyStyles.addStyle(R,"display","block");this.hierarchyStyles.addStyle(O,"display","block");this.hierarchyStyles.addStyle(Q,"display","block");this.hierarchyStyles.addStyle(M,"left","0px");this.hierarchyStyles.addStyle(T+"data-row","min-width",P);this.hierarchyStyles.addStyle(T+"header-row","min-width",P);this.hierarchyStyles.addStyle(T+"ra-footerrow","min-width",P);this.hierarchyStyles.addStyle(T+"ra-harray","min-width",P);this.hierarchyStyles.addStyle(T+"ra-hsubarray","min-width",P);this.hierarchyStyles.addStyle(R,"margin-left","0px");this.hierarchyStyles.addStyle(O,"margin-left","0px");this.hierarchyStyles.addStyle(Q,"margin-left","0px");this.hierarchyStyles.addStyle(T+" row-head","position","relative");this.hierarchyStyles.addStyle(T+" row-head","width","100%");this._contentWidthAdj=this._contentWidth-X}else{this.hierarchyStyles.addStyle(O,"width",P);this.hierarchyStyles.addStyle(Q,"width",P);this.hierarchyStyles.addStyle(M,"left",this.fixedWidth+"px");this.hierarchyStyles.addStyle(R,"margin-left",this.fixedWidth+"px");this.hierarchyStyles.addStyle(O,"margin-left",this.fixedWidth+"px");this.hierarchyStyles.addStyle(Q,"margin-left",this.fixedWidth+"px");var X=parseInt(this.mainContainer.clientWidth,10);this._contentWidthAdj=this._contentWidth-X;this.hierarchyStyles.addStyle(T+" row-head","width",this.fixedWidth+"px")}};q.stopRenderingRow=null;q.attemptToRenderCell=function(L){var N=L.parentNode;if(N.nodeName==="ROW-HEAD"){N=N.parentNode}if(N===this.stopRenderingRow){return true}this.stopRenderingRow=null;if(L.nodeName==="DATA-HEAD"){var M=this.applyFilterFunctionsToColumn(L);if(M){return false}}var O=L.setContents(true);if(!O){if(N.classList.contains("ra-row-hidden")){this.stopRenderingRow=N}}return !O};q.fireResizeOnSelection=function(L){L.resize()};q.renderVisibleCells=function(){var L=this.querySelectorAll("data-head:not(.isRendered),definition-head:not(.isRendered),data-prop:not(.isRendered),data-val:not(.isRendered)");[].some.call(L,this.attemptToRenderCell,this);var N=this.querySelectorAll('definition-head[data-height="0"]');[].forEach.call(N,this.fireResizeOnSelection);if(N.length>0){this.setupFixedColumnResize()}var M=this.querySelectorAll(".ra-needs-sizing>row-head");[].forEach.call(M,this.fireResizeOnSelection)};q.resizeHeaderFooter=function(){if(typeof this.parentNode!=="undefined"&&this.parentNode!==null){var L=parseInt(this.headerContainer.clientHeight,10),P=parseInt(this.mainContainer.clientHeight,10),M=parseInt(this.footerContainer.clientHeight,10);var O=L+P+M;this.style.height=O+"px";var Q=window.getComputedStyle(this.parentNode);var N=parseInt(Q.getPropertyValue("height"),10);if(N>40){this.style.height=N+"px"}}this.renderVisibleCells()};q.resize=function(L){this.resizeWidth();this.resizeHeaderFooter(L)};q.resetObservedCollection=function(){if(typeof this.dataObserver!=="undefined"){this.dataObserver.disconnect()}this.observedCollection=this.dataCollections.activeCollection;this.setAttribute("data-collection","");if(this.observedCollection!==null){var L=this.observedCollection.querySelectorAll("ra-dataobj");this.columnCount=L.length;if(this.columnCount<1){this.classList.add("empty-collection")}else{if(this.classList.contains("empty-collection")){this.classList.remove("empty-collection")}}var N=this;if(typeof this.dataObserver==="undefined"){N.dataObserver=new MutationObserver(function(O){O.forEach(function(P){N.dataChange.call(N,P)})})}var M={childList:true,attributes:true,attributeFilter:["data-imgset"]};this.dataObserver.observe(this.observedCollection,M)}};q.dataChange=function(N){var P=this;if(N.type==="childList"){P.columnCount=N.target.querySelectorAll("ra-dataobj").length;if(P.columnCount>0&&P.classList.contains("empty-collection")){P.classList.remove("empty-collection")}else{if(P.columnCount<1&&!P.classList.contains("empty-collection")){P.classList.add("empty-collection")}}if(N.removedNodes.length>0&&N.addedNodes.length===0){P.resize()}}else{if(N.type==="attributes"){if(N.attributeName==="data-imgset"||N.attributeName==="data-filesloaded"){var M=P.classList.contains("no-header-images");var L=N.target.getAttribute("data-imgset");var O=L!==null?L.length:-1;if(M&&O>0){P.classList.remove("no-header-images");P.resizeHeaderFooter()}else{if(!M&&O<1){P.classList.add("no-header-images");P.resizeHeaderFooter()}}}}}};q.headCountObserver=function(L){var M=this;if(L.type==="childList"){M.resizeWidth();M.resizeHeaderFooter()}};q.resetObjectives=function(){var L=this;if(typeof this.dataCollections!=="undefined"&&this.dataCollections!==null){[].forEach.call(L.dataCollections.children,function(M){M.update();M.setAttribute("data-objectiveschanged","")})}};q.gradingChanged=function(){if(typeof this.dataCollections!=="undefined"&&this.dataCollections!==null){this.dataCollections.setAttribute("data-gradingchanged","")}};q.setRecommended=function(M){var L=this.dataCollections.primaryCollection;if(L!==null){L.setAttribute("data-recommended",JSON.stringify(M))}};q.filterHierarchy=function(){return true};q.updateFiles=function(L){this.dataCollections.updateFiles(L)};q.updateContent=function(){var L=this.querySelectorAll("data-val,data-prop");[].forEach.call(L,function(M){if(M.parentNode&&typeof M.parentNode.refreshData==="function"){M.parentNode.refreshData(M)}})};q.rowfilterFunctions={};q.columnfilterFunctions={};q.applyRowFilter=function(L,O){if(typeof L==="undefined"){var M=Object.keys(this.rowfilterFunctions);if(M.length===0){return}else{L=M[0];O=this.rowfilterFunctions[L]}}this.rowfilterFunctions={};this.rowfilterFunctions[L]=O;var N=this.querySelectorAll("data-row,ra-harray,ra-hsubarray,ra-harrayrow");[].forEach.call(N,this.applyFilterFunctionToRow,this)};q.applyColumnFilter=function(L,M){if(typeof L==="undefined"){return}this.columnfilterFunctions={};this.columnfilterFunctions[L]=M;this._applyColumnFilters()};q._applyColumnFilters=function(){this.resetBaseline=true;var L=this.querySelectorAll("data-head");this.refreshBaselineCol=false;[].forEach.call(L,this.applyFilterFunctionsToColumn,this);if(this.compareController&&this.refreshBaselineCol){this.compareController.runFullComparison(this);this.refreshBaselineCol=false}};q.applyFilterFunctionToRow=function(M){for(var L in this.rowfilterFunctions){if(this.rowfilterFunctions.hasOwnProperty(L)){if(this.rowfilterFunctions[L](M)){M.showRow()}else{M.hideRow()}}}if(!M.parentNode.resizeInProgress){M.parentNode.resizeInProgress=true;setTimeout(this.resizeAfterFiltering,10,M.parentNode)}};q.getUniqueSelector=function(){return this.myParentSelector||"#"+this.parentNode.id};q.applyFilterFunctionsToColumn=function(O,Q,N){if(typeof O.dataObj==="undefined"){return}var L=this.myParentSelector||"#"+this.parentNode.id;var M=L+' [data-col="'+O.dataObj.dataId+'"]';var R=false;for(var P in this.columnfilterFunctions){if(this.columnfilterFunctions.hasOwnProperty(P)){if(this.columnfilterFunctions[P](O.dataObj.dataId)){this.hierarchyStyles.removeStyle(M,"display","none");R=false}else{this.hierarchyStyles.addStyle(M,"display","none");R=true}}}if(!R&&!this.refreshBaselineCol){if(this.compareController&&this.compareController.baselineCol!==""+O.dataObj.dataId){this.compareController.baselineCol=""+O.dataObj.dataId}this.refreshBaselineCol=true}if(!O.parentNode.resizeInProgress){O.parentNode.resizeInProgress=true;setTimeout(this.resizeAfterFiltering,10,O.parentNode)}};q.resizeAfterFiltering=function(L){L.resize();delete L.resizeInProgress};q.setupFixedColumnResize=function(){var N=this;var L=this.getUniqueSelector();if(A.querySelectorAll(L+" definition-head.isRendered").length===this.extraColumns.children.length){try{this.resizeColumnHandler=new b.Move({container:null,delegate:L+" .ra-table-resizable-handle",handles:function(O){var P=O.target.getClosest(".ra-table-resizable-handle");console.log("hi");return P},start:function(){},move:function(O){N.resizeColumn(O,false)},stop:function(O){N.resizeColumn(O,true)}})}catch(M){}}};q.resizeColumn=function(P,Q){var S=this;var N=null;if(P.handles.parentNode&&P.handles.parentNode.props&&P.handles.parentNode.props.data){if(!S.columnBoxData){S.columnBoxData={}}if(!S.columnBoxData[P.handles.parentNode.props.data.name]){S.columnBoxData[P.handles.parentNode.props.data.name]={width:P.handles.parentNode.scrollWidth}}N=this.columnBoxData[P.handles.parentNode.props.data.name]}if(P.currentDelta){var T=typeof this._lastDelta!=="undefined"?P.currentDelta.x-this._lastDelta:P.currentDelta.x;var O=parseInt(N.width,10);var R=O+T;var L=this.fixedWidth+T;var M=parseInt(N.minWidth,10)||35;var L=this.fixedWidth+T;if(R<M||this.fixedWidth+T<50){T=0;R=O;L=this.fixedWidth}if(L>this._contentWidth-100){T=0;R=O;L=this.fixedWidth}N.forceWidth=true;N.width=R+"px";this.fixedWidth=L}if(Q){delete S._lastDelta;P.handles.style.left="";P.handles.style.top=""}else{this._lastDelta=P.currentDelta.x}this.columnBoxData[P.handles.parentNode.props.data.name]=N;S.setfixedWidths(true)};A.register("ra-comparetable",{prototype:q});A.register("data-group",{prototype:r});A.register("data-row",{prototype:p});A.register("ra-harray",{prototype:J});A.register("ra-harrayrow",{prototype:G});A.register("ra-hsubarray",{prototype:m});A.register("row-head",{prototype:B});A.register("data-handle",{prototype:C});A.register("data-prop",{prototype:H});A.register("data-val",{prototype:v});A.register("header-row",{prototype:y});A.register("definition-head",{prototype:t});A.register("data-head",{prototype:n});A.register("footer-row",{prototype:F});A.register("ra-footerrow",{prototype:z});A.register("ra-comparecontrol",{prototype:k});A.register("data-compare",{prototype:l});A.register("ra-sortcontroller",{prototype:I});A.register("ra-fixedcolumns",{prototype:K});A.register("ra-fixedcolumn",{prototype:x})}e=true};return g.prototype});define("DS/SMAAnalyticsCompareTable/SMAAnalyticsDetailsTable",["DS/SMAAnalyticsCompareTable/SMAAnalyticsHierarchicalTable","DS/SMAAnalyticsNLS/SMAAnalyticsNLSUtils","DS/SMAAnalyticsUtils/SMAAnalyticsParseUtils"],function(f,c,e){function b(h){return Boolean(h.offsetWidth||h.offsetHeight||h.getClientRects().length)}var a=function(i){var h=i.querySelectorAll(".collapse-group");if(h.length<1){setTimeout(a,100,i)}else{[].forEach.call(h,function(j){i.toggleGroup(j)})}};var d=function(k,l,j){var m=k.querySelector('[data-id="'+l+'"]');if(m===null){console.error("Either the row id specified is not in this table, or the table is not fully loaded");return false}if(j){a(m)}var h=10;var i=function(){if(b(m)){var p=parseInt(m.scrollHeight,10);var o=k.querySelector(".smaAdviseEcommerceMain");var n=parseInt(m.offsetTop,10);if(o!==null){if(n+p>o.scrollHeight){o.scrollTop=o.scrollHeight-o.clientHeight}else{o.scrollTop=n}}}else{if(h>0){h-=1;setTimeout(i,100)}}};i();return true};var g=function(w,n,v,u){var s=this;s.rendering=n;s.s=w;var x=null;if(typeof s.s.target!=="undefined"&&s.s.target!==null){x=document.querySelector(s.s.target)}else{if(typeof s.s.targetElement!=="undefined"&&s.s.targetElement!==null){x=s.s.targetElement}}s.s.jsonParser=function(A,z,B){return e.getJSONFromResponse([A,z,B])};s.s.dataHeaderDisplayFunc=s.s.dataHeaderDisplayFunc||function(){var z=document.createElement("div");z.setAttribute("data-handle","true");if(s.s.multiDisplay){var B=document.createElement("div");var A=document.createElement("h1");B.appendChild(A);z.appendChild(B)}this.appendChild(z)};var o=s.s.getDesign;var i=function(C,B){if(!C||C.length===0){return}if(u&&u.mask){try{u.mask(s.element)}catch(z){}}var A={};v.getRowListInfo(C,A).then(function(){if(typeof A.content.elements!=="undefined"){B(A.content.elements);if(u&&u.unmask){try{u.unmask(s.element)}catch(D){}}}else{B(A.content)}})};s.s.filterFunction=s.s.filterParams;var p=[{name:"basket",label:"Basket",updateFunction:o,getDataFunction:i}];var h=[{name:"displayName",displayHeaderFunction:function(z){z.textContent=c.translate("Parameter Name")},colWidthShrinkToFit:true,width:"50%",displayFunction:function(z,B){if(!z.classList.contains("ra-indented")){z.classList.add("ra-indented")}z.innerHTML="";var A=document.createElement("div");if(typeof B==="string"){A.textContent=B}z.appendChild(A);return true},sortFunction:function(A,z){if(A.rawJSON.displayName.toLowerCase()<z.rawJSON.displayName.toLowerCase()){return -1}else{if(A.rawJSON.displayName.toLowerCase()>z.rawJSON.displayName.toLowerCase()){return 1}else{return 0}}},isHandle:true,displayType:"all",resizableColumn:true},{name:"units",displayHeaderFunction:function(z){z.textContent="Units"},width:"50px",displayFunction:function(z,A){if(typeof A==="string"){z.textContent=A;z.classList.add("raHTableStringColumn")}return true},sortable:false,displayType:"general",resizableColumn:true}];s.s.rowSortFunctions=[{name:"priorityAsc",initial:false,sortFunction:function(A,z){return(parseInt(A.rawJSON.priorityWeight,10)-parseInt(z.rawJSON.priorityWeight,10))}},{name:"priorityDesc",initial:true,sortFunction:function(A,z){return(parseInt(z.rawJSON.priorityWeight,10)-parseInt(A.rawJSON.priorityWeight,10))}},{name:"alphaAsc",initial:false,sortFunction:function(B,A){var z=B.rawJSON.displayName.toLowerCase();var C=A.rawJSON.displayName.toLowerCase();if(z<C){return -1}else{if(z>C){return 1}}return 0}},{name:"alphaDsc",initial:false,sortFunction:function(B,A){var z=B.rawJSON.displayName.toLowerCase();var C=A.rawJSON.displayName.toLowerCase();if(z<C){return -1}else{if(z>C){return 1}}return 0}}];if(typeof x!=="undefined"&&x!==null){s.element=document.createElement("ra-comparetable");s.element.setAttribute("data-iscomparable","false");x.appendChild(s.element);var l="raHTRecommendColumns";var r=document.querySelector("#"+l);if(r===null){r=document.createElement("ra-fixedcolumns");r.jsonParser=s.s.jsonParser;r.setAttribute("id",l);r.setup(h);var t="body";if(s.s.attachSelector){t=s.s.attachSelector}document.querySelector(t).appendChild(r)}s.element.setAttribute("data-fixedcolumnsource",l);var m="raParameterHierarchy";var k=document.querySelector("#"+m);if(k===null){k=document.createElement("ra-hierarchy");k.jsonParser=s.s.jsonParser;k.setAttribute("id",m);var y=k.buildHierarchyFromJSON(v.varGroup||[]);k.appendChild(y);var t="body";if(s.s.attachSelector){t=s.s.attachSelector}document.querySelector(t).appendChild(k)}else{k.checkForHierarchyChanges(v.varGroup||[],k.children[0])}s.element.setAttribute("data-hierarchysource",m);var q=s.s.collectionSource;var j=document.querySelector("#"+q);if(j===null){j=document.createElement("ra-datacollections");j.jsonParser=s.s.jsonParser;j.setAttribute("id",q);j.addCollections(p);if(s.s.keepWhenDone){document.querySelector("body").appendChild(j)}else{x.appendChild(j)}}s.element.setAttribute("data-collectionsource",q);s.element.initialize(s.s);s.rendering.resolve()}else{s.rendering.resolve()}return s};return{constr:g,scrollTo:d}});
/*!  Copyright 2017 Dassault Systemes. All rights reserved. */
define(["DS/Redux/Redux","DS/SMAPoweredByMonitors/ad-monitor-manager","DS/SMAPoweredByState/ad-state-store","DS/SMAPoweredByState/ad-state-domain-work-data/actions","DS/SMAPoweredByState/ad-state-domain-work-data/selectors","DS/SMAPoweredByState/ad-state-domain-jobs/selectors"],function(c,j,h,b,f,g){var d={};var a="polldir";var i=[];function e(){var k=c.bindActionCreators(b,h.getStore().dispatch);f.allExecDirs(h.getStore().getState()).filter(function(m){var l=g.isJobDone(h.getStore().getState(),m.mcsJobID);var n=!l&&!m.path&&g.isJobClaimed(h.getStore().getState(),m.mcsJobID);return n}).forEach(function(l){if(i.indexOf(l.id)===-1){k.initializeExecDir(l.id)}if((i.indexOf(l.id)===-1)&&g.isJobDone(h.getStore().getState(),l.mcsJobID)){i.push(l.id)}})}d.startPollExecutionDir=function(k){var l=(typeof k!=="undefined")&&(k!==null)?k:60;return j.startMonitor(a,null,{},e,null,l)};d.stopAllPollExecutionDir=function(){j.stopMonitorsOfType(a)};return d});
define("DS/SMAProcWebContents/NativeContentService",["UWA/Core","DS/JSCMM/SMAJSCMMActivity","DS/JSCMM/SMAJSCMMContent","DS/JSCMM/SMAJSCMMFile","DS/SMAProcWebCMMUtils/SMAJSCMMCommonServices","DS/SMAProcWebContents/AbstractContentService","DS/SMAProcWebContents/WebContentService","DS/SMAProcWebContents/ContentUtils","DS/SMAProcWebContents/PolyUtils","DS/SMAProcWebCMMUtils/SMAJSCMMWebInWinUtils","DS/SMAProcWebCMMUtils/SMAWINAuthoringUtils","UWA/Promise"],function(d,j,a,l,c,i,f,e,b,g,k){var h=d.Promise;return i.extend({init:function(m){this._parent(m)},_lazyLoadWebServiceContent:function(m){if(this.webServiceContent){m(this.webServiceContent);return}this.webServiceContent=new f(this.activity);b.waitTillReady(this.webServiceContent,"spFileContent",m)},getParameterFiles:function(m){return new h(function(o,n){this._lazyLoadWebServiceContent(function(p){p.getParameterFiles(m).then(o,n)})})},addOwnedContent:function(n,m){var o="OwnedContent";this._addContent(n,o,m)},search:function(n,m){var o="ReferencedContent";this._addContent(n,o,m)},_addContent:function(n,s,m){var q=e.getDefaultCategory(this.activity);var r=q.getId();var p=g.createContentMessage(s,"POST",r,n,m);var o=(new XMLSerializer()).serializeToString(p);k.sendMessage(o)}})});
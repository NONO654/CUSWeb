define("DS/SMAProcWebMFT/MFTHandler",["DS/SMAProcWebCMMUtils/SMAJSCMMParameterUtils"],function(a){function b(e,g,c){var f;if(c){f=e.parameters}else{f=e.files}for(var d=0;d<f.length;++d){if(f[d].id==g){return d}}return -1}return{validate:function(c){return new Promise(function(m,p){var l=c.getPropertyByName("selectedRemoteProcess");var k=l.getValue();var d;if(k&&k.trim().length>0){try{d=JSON.parse(k)}catch(g){p("Invalid process JSON")}}else{p("Empty MFT process")}var o=c.getPropertyByName("parameterMappings");var k=o.getValue();if(k&&k.trim().length>0){try{var f=JSON.parse(k);for(var e=0;e<f.length;++e){if(b(d,f[e].id,true)<0){p("Invalid parameter mappings")}var j=f[e]["parameter"];if(!j){p("Incomplete parameter mappings")}}}catch(g){p("Invalid parameter mappings")}}else{p("Empty Parameter Mappings")}var n=c.getPropertyByName("fileMappings");var k=n.getValue();if(k&&k.trim().length>0){try{var f=JSON.parse(k);for(var e=0;e<f.length;++e){if(b(d,f[e].id,false)<0){p("Invalid file mappings")}var h=f[e]["handler"];if(!h){p("Incomplete file mappings")}}}catch(g){p("Invalid file mappings")}}else{p("Empty file mappings")}m(true)})}}});
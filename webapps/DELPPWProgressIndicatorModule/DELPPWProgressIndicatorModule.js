define("DS/DELPPWProgressIndicatorModule/ProgressIndModule",["UWA/Core"],function(b){var a=function a(p,n){var q=n.getComponent("ProgressBar"),e,k,g,m=function m(){e=p.getPreferenceValue("timeout")*1000},d=q.extend({defaultOptions:{statusFlag:false,infiniteFlag:true,displayStyle:"lite",visibleFlag:false,emphasize:"info"},init:function(r){r=r||{};r=b.extend(this.defaultOptions,r);this.showCount=0;this._parent(r)},onShow:function j(){this.visibleFlag=true;this.showCount++},onHide:function h(){this.showCount--;if(this.showCount<1){this.visibleFlag=false}}});g=function g(){var r=p.getElement();if(b.is(r)){k.inject(r)}else{p.debug("ProgressBar Container is not defined.")}};return{listenTo:function f(){return{startProgress:this.start,stopProgress:this.stop,endEdit:m}},onStart:function o(r){r=r||{};if(r.timeoutPeriod){e=r.timeoutPeriod}else{m()}k=new d(r);g()},onStop:function i(){k=void 0},start:function c(s){var r;s=s||{};s.noTimeout=b.is(s.noTimeout)?s.noTimeout:false;s.emphasize=b.is(s.emphasize)?s.emphasize:"info";r=b.is(s.timoutDuration)?s.timoutDuration:e;if(k){if(!s.noTimeout){setTimeout(function(){if(b.is(k)&&k.showCount>0){p.debug("Timeout:No response within specified time period.Removed progress Indicator");k.onHide()}},r)}k.emphasize=s.emphasize;k.onShow()}},stop:function l(){if(k){k.onHide()}}}};return{behaviors:["UXFactoryBehavior"],creator:a}});
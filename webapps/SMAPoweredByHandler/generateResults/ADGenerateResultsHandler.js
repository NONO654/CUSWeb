define(["UWA/Core","UWA/Promise","DS/SMAPoweredByHandler/default/ADDefaultHandler","DS/SMAPoweredByHandler/activity/ActivityUtils","DS/SMAPoweredByHandler/generateResults/GenerateResultsActivityUtils","DS/SMAPoweredByHandler/common/Actions","DS/SMAPoweredByHandler/generateResults/CreateWizardFacets","DS/SMAPoweredByHandler/generateResults/JobTile","DS/SMAPoweredByHandler/generateResults/selectors","DS/SMAPoweredByState/ad-state-domain-jobs/selectors","DS/SMAPoweredByState/ad-state-domain-managed-data/selectors","DS/SMAPoweredByState/ad-state-domain-work-data/selectors"],function(e,j,n,m,i,f,b,k,a,h,l,g){var d={},c={onDisk:"onDisk"};d.wizardFacets=b;d.jobTile=k;d.actions=[f.viewDetails,f.cloneJob,f.divider,f.previewResults,f.abortJob,f.divider,f.deleteJob];d.init=function(o){this._parent(o);this.setResultsOptionsState=i.setResultsOptionsState};d.createJobFromPLMActivity=function(t){var s=this._parent(t);this.setResultsOptionsState(t,s);if(t.attributes.definition.flowItem.ActivityConfig.properties.configuration){s.configuration=t.attributes.definition.flowItem.ActivityConfig.properties.configuration}else{if(s.title===m.DATA_TRANSFER_KEY){var r=s.description.split(" ")||[],q=r[0],o=r[1],u=r[2],p;if(r[3]===c.onDisk){p=g.workDataWithID(this.store.getState(),o)}else{p=l.managedDataWithID(this.store.getState(),o)}r.splice(0,4);s.description=r.join(" ");s.configuration={attachToJobID:q};s.inputs=[o];s.resultsOptions={generateResults:true,generateResultsSourceFilename:p.name,generateResultsTitle:u,generateResultsUnitsEnabled:false,generateResultsUnits:{COURANT:"AMPER",LENGTH:"METER",LUMEN:"CANDELA",MASS:"KILOGRAM",MOLE:"MOL",TEMPRTRE:"KELVIN",TIME:"SECOND"}};s.kind=h.JobKind.GENERATE_RESULT}}return s};d.createPLMActivityFromJob=function(p,o){var q=this._parent(p,o);q.attributes.definition.flowItem.ActivityConfig.properties.configuration={attachToJobID:p.configuration.attachToJobID,managedDataProjections:[]};return q};d.Selectors=a;return n.extend(d)});
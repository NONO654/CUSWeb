/*!  Copyright 2017 Dassault Systemes. All rights reserved. */
define(["DS/SMAPoweredByHandler/activity/ActivityUtils","DS/SMAPoweredByState/ad-state-app/selectors"],function(b){var a={};a.setResultsOptionsState=function(h,g){var e=b.getSimImportUtilityStep(h),c=b.getResultsGenUtilityStep(h),d="";g.resultsOptions={generateResults:false,generateResultsUnitsDefault:null,generateResultsUnits:null,generateResultsUnitsEnabled:false};if(e&&e.FlowItem.ExecutionConfig.isExecutable&&(e.FlowItem.ExecutionConfig.isExecutable.toLowerCase()==="true")&&c&&c.FlowItem.ExecutionConfig.isExecutable&&(c.FlowItem.ExecutionConfig.isExecutable.toLowerCase()==="true")){g.resultsOptions.generateResults=true;if(e.FlowItem.stepConfig.childConfigs[0].pluginConfig.properties&&e.FlowItem.stepConfig.childConfigs[0].pluginConfig.properties.ImportUnits){d=b.buildResultsOptionsUnitsState(e.FlowItem.stepConfig.childConfigs[0].pluginConfig.properties.ImportUnits)}g.resultsOptions.generateResultsUnitsDefault=d;g.resultsOptions.generateResultsUnits=d;if(e.FlowItem.stepConfig.childConfigs[0].pluginConfig.properties&&e.FlowItem.stepConfig.childConfigs[0].pluginConfig.properties.PLMBatchArguments&&e.FlowItem.stepConfig.childConfigs[0].pluginConfig.properties.PLMBatchArguments[b.JOB_OBJECT_KEYS.NewSimulationResults]){var f=e.FlowItem.stepConfig.childConfigs[0].pluginConfig.properties.PLMBatchArguments[b.JOB_OBJECT_KEYS.NewSimulationResults];g.resultsOptions.generateResultsSourceFilename=f}else{g.resultsOptions.generateResultsSourceFilename=""}if(e.FlowItem.stepConfig.childConfigs[0].pluginConfig.properties&&e.FlowItem.stepConfig.childConfigs[0].pluginConfig.properties.PLMBatchArguments&&e.FlowItem.stepConfig.childConfigs[0].pluginConfig.properties.PLMBatchArguments[b.JOB_OBJECT_KEYS.SimulationTitle]){g.resultsOptions.generateResultsTitle=e.FlowItem.stepConfig.childConfigs[0].pluginConfig.properties.PLMBatchArguments[b.JOB_OBJECT_KEYS.SimulationTitle]}else{g.resultsOptions.generateResultsTitle=""}}};return a});
define("DS/Core/ModelEvents",["DS/CoreEvents/ModelEvents"],function(a){console.log("Please, now use DS/CoreEvents/ModelEvents instead of DS/Core/ModelEvents");return a});if(window.TouchDragAndDropPolyfill){define("DS/TouchDragAndDropPolyfill/TouchDragAndDropPolyfill",window.TouchDragAndDropPolyfill)}else{define("DS/TouchDragAndDropPolyfill/TouchDragAndDropPolyfill",{})}define("DS/Core/PointerEvents",["UWA/Core","UWA/Event","UWA/Class/Events","UWA/Class","UWA/Utils/Client","DS/TouchDragAndDropPolyfill/TouchDragAndDropPolyfill"],function(i,d,n,x,y,w){var e=false;var f;var t="DS";var l=t+"pointerup";var g=t+"pointermove";var F=t+"pointerdown";var h=t+"pointerleave";var G=t+"pointerhit";var E=t+"pointerout";var u=t+"pointerenter";var m=t+"hold";var c=t+"longhold";var q=300;var k=1000;var B=5;var z={capture:false};var p={touchstart:{value:null,options:{passive:false,capture:false}},mousedown:{value:null,options:z},pointerdown:{value:null,options:z},touchend:{value:null,options:z},pointerup:{value:null,options:z},mouseup:{value:null,options:z},click:{value:null,options:z},touchmove:{value:null,options:{passive:false,capture:false}},mousemove:{value:null,options:z},pointermove:{value:null,options:z},mouseleave:{value:null,options:z},mouseout:{value:null,options:z},mouseenter:{value:null,options:z},};var A={mousedown:F,mouseup:l,click:G,mousemove:g,mouseleave:h,mouseout:E,mouseenter:u};var v={touchstart:F,touchend:l,click:G,touchmove:g};var o={pointerdown:F,pointerup:l,click:G,pointermove:g,pointerout:E,pointerenter:u,pointerleave:h};var b={mousedown:F,mouseup:l,click:G,mousemove:g,mouseleave:h,mouseout:E,mouseenter:u};var s={mousedown:F,mouseup:l,click:G,mousemove:g,mouseleave:h,mouseout:E,mouseenter:u};var a={mousedown:F,mousemove:g,click:G,mouseup:l,mouseleave:h,mouseout:E,mouseenter:u};var D=true;var C=null;var r=function(I,H){var J=document.createEvent("MouseEvents");if(H.type.substr(0,5)=="touch"&&H.changedTouches&&H.changedTouches.length){J.initMouseEvent(I,H.bubbles,H.cancelable,H.view,H.detail,H.changedTouches[0].screenX,H.changedTouches[0].screenY,H.changedTouches[0].clientX,H.changedTouches[0].clientY,H.ctrlKey,H.altKey,H.shiftKey,H.metaKey,H.button,H.relatedTarget);J.changedTouches=H.changedTouches;J.touches=H.touches}else{J.initMouseEvent(I,H.bubbles,H.cancelable,H.view,H.detail,H.screenX,H.screenY,H.clientX,H.clientY,H.ctrlKey,H.altKey,H.shiftKey,H.metaKey,H.button,H.relatedTarget)}J.originalEvent=H;J.oldPreventDefault=J.preventDefault;J.oldStopPropagation=J.stopPropagation;J.oldStopImmediatePropagation=J.stopImmediatePropagation;H.target.dispatchEvent(J)};var j=x.singleton({POINTERUP:l,POINTERMOVE:g,POINTERDOWN:F,POINTERLEAVE:h,POINTERENTER:u,POINTEROUT:E,HOLD:m,LONGHOLD:c,POINTERHIT:G,init:function(H){this._parent(false);this._lastPointers=[];this._lastX=-1;this._lastY=-1;this.timerhold,this.timerlonghold;this.hasHoldTime=false;this.hasLongHoldTime=false;this.lockTimer;this.clickTimer=null;this._multipleHitCount=0},disable:function(){D=false},isLastEventTouch:function(H){if(H!==undefined){this.isTouch=H}else{return this.isTouch}},isTouchEvent:function(J){var I=false;function H(){if(window.navigator&&window.navigator.platform){if(window.navigator.platform.indexOf("Linux armv")>-1||window.navigator.platform.indexOf("Android")>-1){return true}return false}return false}var K=J.mozInputSource;if(J.touchFlag){I=true}else{if(K!=null&&K===5){I=true}else{if(J.changedTouches){I=true}else{if(H()){I=true}else{if(J.pointerType==="touch"){I=true}else{if(J.sourceCapabilities&&J.sourceCapabilities.firesTouchEvents){I=true}else{if(window.navigator.userAgent&&window.navigator.platform.match(/iPhone|iPod|iPad/)){I=true}else{if(J.type==="touchstart"||J.type==="touchend"||J.type==="touchmove"){I=true}}}}}}}}J.touchFlag=I;return I},_initTimer:function(){if(this.timerhold&&this.timerlonghold){clearTimeout(this.timerhold);clearTimeout(this.timerlonghold);this.timerhold=0;this.timerlonghold=0;this.hasHoldTime=false;this.hasLongHoldTime=false;this.lockTimer=false}},enable:function(){var K=this;var I={timeStamp:0,target:null,type:null};var N=undefined,M=undefined,L=false;function H(P){if(D){var Q=j.isTouchEvent(P);var W=y.Engine;var X;if(W.ie||window.navigator.userAgent.indexOf("Edge")>=0){if(Q){X=o[P.type]}else{X=b[P.type]}}else{if(W.safari||W.safari7){if(Q){X=v[P.type]}else{X=A[P.type]}}else{if(W.chrome||W.webkit){if(Q){X=v[P.type]}else{X=A[P.type]}}else{if(W.firefox){if(Q){X=v[P.type]}else{X=s[P.type]}}}}}if(X){var U=(typeof P.which!=="undefined")?P.which:P.button;if(U===3){return}var S=document.createEvent("MouseEvents");S.initEvent(X,true,true);if(P.type.substr(0,5)=="touch"&&P.changedTouches&&P.changedTouches.length){S.initMouseEvent(X,P.bubbles,P.cancelable,P.view,P.detail,P.changedTouches[0].screenX,P.changedTouches[0].screenY,P.changedTouches[0].clientX,P.changedTouches[0].clientY,P.ctrlKey,P.altKey,P.shiftKey,P.metaKey,P.button,P.relatedTarget);S.changedTouches=P.changedTouches;S.touches=P.touches}else{S.initMouseEvent(X,P.bubbles,P.cancelable,P.view,P.detail,P.screenX,P.screenY,P.clientX,P.clientY,P.ctrlKey,P.altKey,P.shiftKey,P.metaKey,P.button,P.relatedTarget)}if(P){var V={timeStamp:P.timeStamp,target:P.target,type:P.type};if(P.type!=="click"&&I&&V.timeStamp===I.timeStamp&&V.target===I.target||V.timeStamp==0){return}}S.originalEvent=P;S.oldPreventDefault=S.preventDefault;S.oldStopPropagation=S.stopPropagation;S.oldStopImmediatePropagation=S.stopImmediatePropagation;S.preventDefault=function(Y){S.oldPreventDefault();P.preventDefault()};S.stopPropagation=function(Y){S.oldStopPropagation();P.stopPropagation()};S.stopImmediatePropagation=function(Y){S.oldStopImmediatePropagation();P.stopImmediatePropagation()};var O=K._lastPointers[0];var T=O&&O.changedTouches?O.changedTouches[0].screenX:O?O.screenX:-1;var R=O&&O.changedTouches?O.changedTouches[0].screenY:O?O.screenY:-1;if(true&&O&&O.type==S.type&&T===S.screenX&&R===S.screenY&&S.screenX===K._lastX&&S.screenY===K._lastY){if(e){console.warn("stop event",P.type)}}else{K._lastX=S.screenX;K._lastY=S.screenY;if(P.type==="touchstart"||P.type==="touchend"||P.type==="touchmove"){I={timeStamp:P.timeStamp,target:P.target,type:P.type}}if(S.type==="DSpointerdown"){N=S.screenX;M=S.screenY;L=true;K._initTimer();if(K.lockTimer){return}K.timerhold=setTimeout(function(Y){r("DShold",P)},q);K.timerlonghold=setTimeout(function(Y){r("DSlonghold",P)},k);K.lockTimer=true;K._downExist=true}if(S.type==="DSpointerhit"){if(!K._targetOnClick){K._targetOnClick=P.target}if(K._targetOnClick===P.target){K._multipleHitCount++}K._targetOnClick=P.target;S.multipleHitCount=K._multipleHitCount;if(K.clickTimer===null){K.clickTimer=setTimeout(function(){K.clickTimer=null;K._multipleHitCount=0;K._targetOnClick=undefined;clearTimeout(K.clickTimer)},500)}}if(S.type==="DSpointermove"){if(L&&N&&M&&N===S.screenX&&M===S.screenY){L=undefined;return}else{if(Math.sqrt(Math.pow(S.screenX-N,2)+Math.pow(S.screenY-M,2))>B){K._initTimer()}}}if(S.originalEvent.type==="mouseup"&&I.type==="touchend"&&K._downExist===undefined){C=S;return}else{j.isLastEventTouch(Q);S.touchFlag=Q;P.target.dispatchEvent(S)}if(S.type==="DSpointerup"){K._initTimer();K._downExist=undefined}C=S;if(e){clearTimeout(f);console.warn(P.type,"-->",S.type,S.timeStamp);f=setTimeout(function(){},5000)}K._lastPointers[0]=S}}}}for(var J in p){if(y.Engine.ie){document.addEventListener(J,H,p[J].options.capture)}else{document.addEventListener(J,H,p[J].options)}}}});return j});define("DS/Core/ActionsStack",["UWA/Core","UWA/Class","DS/Utilities/Data"],function(d,c,b){var a=c.extend({init:function(){this._stack=[];this._index=-1;this._isRunning=false;this._lastRecordTimeStamp=new Date()},_execute:function(g,e,f){if(!g||typeof g[e]!=="function"){return this}this._isRunning=true;if(f){g[e](f)}else{g[e]()}this._isRunning=false;return this},pushAction:function(e,f){this.registerAction(e);if(f){f()}},registerAction:function(f){d.extend({undoObj:null,undoFunc:null,undoParamsList:[],undoTitle:"Undo",actionObj:null,actionFunc:null,actionParamsList:[],actionTitle:"run",redoObj:null,redoFunc:null,redoParamsList:[],redoTitle:"Redo"},f);var e=new Date();var g=e-this._lastRecordTimeStamp;this._lastRecordTimeStamp=e;this._add({undoTitle:f.undoTitle,actionTitle:f.actionTitle,redoTitle:f.redoTitle,deltaTime:g,actionParamsList:f.actionParamsList,undo:function(){f.undoFunc.apply(f.undoObj,f.undoParamsList)},redo:function(){f.redoFunc.apply(f.redoObj,f.redoParamsList)},run:function(h){if(h){f.actionFunc.apply(f.actionObj,h)}else{f.actionFunc.apply(f.actionObj,f.actionParamsList)}}})},_add:function(e){if(this._isRunning){return this}this._stack.splice(this._index+1,this._stack.length-this._index);this._stack.push(e);this._index=this._stack.length-1;if(this.callback){this.callback()}return this},setCallback:function(e){this.callback=e},getUndoTitle:function(){return this._stack[this._index]&&this._stack[this._index].undoTitle?this._stack[this._index].undoTitle:"Undo"},getRedoTitle:function(){return this._stack[this._index+1]&&this._stack[this._index+1].redoTitle?this._stack[this._index+1].redoTitle:"Redo"},undo:function(){var e=this._stack[this._index];if(!e){return this}this._execute(e,"undo");this._index-=1;if(this.callback){this.callback()}return this},redo:function(){var e=this._stack[this._index+1];if(!e){return this}this._execute(e,"redo");this._index+=1;if(this.callback){this.callback()}return this},play:function(e){var f=this;var g=function(h){var j=f._stack[h];if(j){if(e){setTimeout(function(){f._execute(j,"run");h++;g(h)},h===0?0:j.deltaTime)}else{f._execute(j,"run");h++;g(h)}}};g(0)},process:function(e){var f=this;e=d.extend({actionParamsList:null,chunckProcess:true},e);if(e.chunckProcess){b.forEach(f._stack,function(h){f._execute(h,"run",e.actionParamsList)},10)}else{var g=function(h){var j=f._stack[h];if(j){f._execute(j,"run",e.actionParamsList);h++;g(h)}};g(0)}},clear:function(){var e=this._stack.length;this._stack=[];this._index=-1;if(this.callback&&(e>0)){this.callback()}},hasUndoAction:function(){return this._index!==-1},hasRedoAction:function(){return this._index<(this._stack.length-1)},getActions:function(){return this._stack}});return a});define("DS/Core/BaseComponent",["UWA/Controls/Abstract","DS/Utilities/Utils"],function(a,d){var c=false;var e=false;var b=a.extend({init:function(f){if(e){console.time("component creation")}this._properties=this._properties||{};this._parent();for(var g in this.publishedProperties){this._properties[g]={value:(Array.isArray(this.publishedProperties[g].defaultValue))?this.publishedProperties[g].defaultValue.slice():this.publishedProperties[g].defaultValue,dirty:true}}if(this._preBuild){this._preBuild(f)}if(this._build){this._build()}this.setProperties(f,true);if(this._postBuild){this._postBuild()}if(e){console.timeEnd("component creation")}},isDirty:function(f){if(!this._properties){return false}else{if(!this._properties[f]){return false}}return this._properties[f].dirty},setProperties:function(h){var f={};var i=(arguments.length>1)?arguments[1]:false;var g=i;for(var j in h){if(this._properties[j]){if(!this.publishedProperties[j].readOnly||i){if(this._properties[j].value!==h[j]){f[j]=this._properties[j].value;this._properties[j].value=h[j];this._properties[j].dirty=true;g=true}}else{if(c){console.log(j+" is a readOnly published property")}}}else{if(c){console.log(j+" is not a published property")}}}if(g){this._applyProperties(f);for(var j in this._properties){this._properties[j].dirty=false}}},_forceApplyProperties:function(h){var f={};for(var g=0;g<h.length;g++){if(this._properties[h[g]]){this._properties[h[g]].dirty=true;f[h[g]]=this._properties[h[g]].value}else{console.log(i+" is not a published property")}}this._applyProperties(f);for(var i in this._properties){this._properties[i].dirty=false}},_propertyChanged:function(f,g,h){if(c){console.log("property changed",f,g,"-->",h)}}});b.inherit=d.inherit;return b});define("DS/Core/Events",["DS/CoreEvents/Events"],function(a){console.log("Please, now use DS/CoreEvents/Events instead of DS/Core/Events");return a});var WUXDockAreaEnum={NoneDockArea:0,TopDockArea:1<<0,BottomDockArea:1<<1,LeftDockArea:1<<2,RightDockArea:1<<3};Object.freeze(WUXDockAreaEnum);var WUXManagedFontIcons={FontAwesome:0,Font3DS:1};Object.freeze(WUXManagedFontIcons);define("DS/Core/Core",["css!DS/Core/wux.css","css!DS/Core/wux-3ds-fonticons.css","DS/WebappsUtils/WebappsUtils","UWA/Core","UWA/Event","UWA/Class","DS/Core/PointerEvents","UWA/Controls/Abstract","DS/UIBehaviors/TooltipManager","UWA/Class/Promise","DS/Utilities/TouchUtils"],function(y,l,h,i,B,v,k,u,e,g,c){var n;var x=5.5;var d=200;var m=false;var t="1.1.4";function A(D,C){if(!C){C=window.location.href}D=D.replace(/[\[\]]/g,"\\$&");var F=new RegExp("[?&]"+D+"(=([^&#]*)|&|#|$)"),E=F.exec(C);if(!E){return null}if(!E[2]){return""}return decodeURIComponent(E[2].replace(/\+/g," "))}function b(C,F){if(F===undefined){F=0}var E="";for(var G in C){var D=C[G]&&C[G].toString?C[G].toString():C[G];E=E+"\r"+G+": "+D+","}F++;E="{"+E+"\r }";return E}var f=u.singleton({defaultOptions:{},init:function(C){this._parent(C);this._buildView()},_buildView:function(){var C=this;this.elements.container=new i.Element("div",{styles:{position:"absolute",top:0,width:0,right:0,bottom:0,borderLeft:"1px solid silver",background:"white",fontFamily:"consolas",overflow:"hidden",zIndex:100000,boxShadow:"0px 1px 5px #CCC"}});this.elements.titleContainer=new i.Element("div",{html:"Console",styles:{width:"100%",background:"#358EC4",color:"white",padding:5,position:"relative"}}).inject(this.elements.container);this.elements.emptyConsole=new i.Element("div",{styles:{background:"url("+h.getWebappsBaseUrl()+"Core/assets/icons/trash.png)",backgroundSize:"contain",backgroundRepeat:"no-repeat",width:20,height:16,position:"absolute",top:3,right:10}}).inject(this.elements.titleContainer);this.elements.emptyConsole.addEvent(k.POINTERUP,function(){C.elements.console.empty()});this.elements.console=new i.Element("div",{styles:{padding:5}}).inject(this.elements.container)},_pushMessage:function(I,E){var D="black";var M="white";var G="silver";switch(E){case"log":D="#999";M="white";G="#EBEAE9";break;case"warn":D="#F07E00";M="#FEF5D3";G=D;break;case"info":D="#1DBCDE";M="#E9FDFE";G=D;break}var H=new Date();var J=H.getHours();var F=H.getMinutes();var K=H.getSeconds();var L=new i.Element("div",{html:I,styles:{textAlign:"left",padding:"2px 5px",marginBottom:10,color:D,borderRadius:2,border:"1px solid "+G,background:M}}).inject(this.elements.console,"top");var C=new i.Element("div",{html:J+":"+F+":"+K,styles:{fontSize:9,padding:"2px 5px",marginBottom:0,color:"silver",textAlign:"right"}}).inject(L,"top")},_prettyPrint:function(D){D=Array.prototype.slice.call(D);var C="";D.forEach(function(E){if(i.typeOf(E)==="[object Object]"||i.typeOf(E)==="object"){var F=b(E);C=C+" "+F}else{C=C+" "+E}});return C},addButton:function(C){var D=new i.Element("div",{html:C.label,events:C.events,"class":"wux-controls-button"}).inject(this.elements.console,"bottom")},log:function(){this._pushMessage(this._prettyPrint(arguments),"log")},warn:function(C){this._pushMessage(this._prettyPrint(arguments),"warn")},info:function(C){this._pushMessage(this._prettyPrint(arguments),"info")}});var p=function(){var C=document.getElementsByTagName("SCRIPT");var E="";if(C&&C.length>0){for(var D in C){if(C[D].src&&C[D].src.match(/WUX\/Core\.js$/)){E=C[D].src.replace(/(.*)WUX\/Core\.js$/,"$1")}}}return E};var a=v.singleton({options:{debug:{enabled:false,fullscreen:false,logLevel:false}},init:function(){this._parent();w()},getVersion:function(){return x},isDebug:function(){return this.options.debug.enabled},enableWUXConsole:function(){m=true;f.getContent().setStyles({width:d});document.body.appendChild(f.getContent())},disableWUXConsole:function(){m=false},isWUXConsoleEnabled:function(){return m},getWUXConsole:function(){return f},setFullscreen:function(){s(h.getWebappsBaseUrl()+"Controls/nv-patch.css");console.warn("==========================================================================");console.warn("WUX.setFullscreen() is for debug purpose only! DO NOT use in production...");console.warn("==========================================================================");if(this.options){this.options.debug.fullscreen=true}var C=i.extend(document.querySelector(".module"));if(C){C.setStyles({position:"absolute",top:0,width:"auto",left:0,right:m?d:0,bottom:0})}},enableFullscreen:function(){this.setFullscreen()},disableFullscreen:function(){o(h.getWebappsBaseUrl()+"Controls/nv-patch.css");var C=i.extend(document.querySelector(".module"));if(C){C.setStyles({position:"",top:"",width:"",left:"",right:"",bottom:""})}},isFullscreen:function(){if(this.options){return this.options.debug.fullscreen}},setLogLevel:function(C){if(this.options){this.options.debug.logLevel=C}},info:function(C){},log:function(C,D){if(D===undefined){D=0}if(this.options){if(this.options.debug.logLevel&&D<=this.options.debug.logLevel){console.log("["+this.options.debug.logLevel+"] : %o",C)}}},warn:function(C,D){if(D===undefined){D=0}if(this.options){if(this.options.debug.logLevel&&D<=this.options.debug.logLevel){console.warn("["+this.options.debug.logLevel+"] : %o",C)}}},warnDev:function(C,D){console.warn("["+C+"] - "+D)},getLocalization:function(){if(window.widget){return window.widget.lang}else{if(navigator){if(navigator.language){return navigator.language}else{if(navigator.languages){return navigator.languages[0]}else{return"en"}}}else{return"en"}}},onlanguagechange:function(C){j.addEvent("onlanguagechange",C)},offlanguagechange:function(C){j.removeEvent("onlanguagechange",C)},POLYMER_ENABLED:Boolean(A("WUX_POLYMER_ENABLED"))});var j=new i.Class.Events();function s(C){n=document.createElement("link");n.type="text/css";n.rel="stylesheet";n.href=C;document.getElementsByTagName("head")[0].appendChild(n)}function r(C){n=document.createElement("link");n.rel="import";n.href=C;document.getElementsByTagName("head")[0].appendChild(n)}function z(C){n=document.createElement("script");n.type="text/JavaScript";n.src=C;document.getElementsByTagName("head")[0].appendChild(n)}function o(D){var E=i.extendElement(document);var C=document.querySelector('link [href="'+D+'"]');i.extendElement(n).destroy()}function w(){var C=a.getLocalization();Object.defineProperty(window.WUX,"currentLanguage",{get:function(){return C},set:function(D){C=D;j.dispatchEvent("onlanguagechange")}})}a.PointerEvents=k;k.enable();a.TooltipManager=e;e.enable();c.init();if(a.POLYMER_ENABLED){z("../Polymer-"+t+"/webcomponents-lite.js");r("../Polymer-"+t+"/polymer.html");window.Polymer=window.Polymer||{};window.Polymer.dom="shadow"}function q(C){return new g(function(E,D){require(C,function(F){E(F)},function(F){D(F)})})}a.startUnsafeHTMLDisplay=function(){var C=[];C.push(q(["DS/Developer/UnsafeHTMLDisplay"]));g.all(C).then(function(D){D[0].startUnsafeHTMLDisplay()})["catch"](function(D){console.error("There were an error on startUnsafeHTMLDisplay call")})};a.stopUnsafeHTMLDisplay=function(){var C=[];C.push(q(["DS/Developer/UnsafeHTMLDisplay"]));g.all(C).then(function(D){D[0].stopUnsafeHTMLDisplay()})["catch"](function(D){console.error("There were an error on stopUnsafeHTMLDisplay call")})};return i.namespace("WUX",a,window,true)});
define("DS/SMAProcWebAuthoringUtils/cmp-process-table/cmp-process-table",["DS/SMAProcWebCommonControls/utils","DS/SMAProcWebAuthoringUI/ProcessTableView","DS/SMAProcWebCMMUtils/SMAJSCMMDataContainerUtils","text!DS/SMAProcWebAuthoringUtils/cmp-process-table/cmp-process-table.html","DS/SMAProcWebCommonControls/Polymer"],function(b,e,a,d){b.registerDomModule(d);var c={ONETOMANY:"ONETOMANY",ROUTE:"ROUTE"};return window.Polymer({is:"cmp-process-table",properties:{_autoMappingMode:{type:String,value:c.ONETOMANY},sourceActivity:{type:Object},destinationActivities:{type:Array,value:[]}},attached:function(){this.fire("cmp-process-table-attached");this._categoryMessages={invalidSelection:"MESSAGE01"}},detached:function(){this.processTable&&this.processTable.unloadDocument()},setActivitySelection:function(f,g){var h=this.getProcessTable();if(h.isLoaded){this._setActivitySelection(f,g)}else{this._callback=function(){this._setActivitySelection(f,g)};h.initLoadingTable(f)}},_setActivitySelection:function(f,g){var h=this.getProcessTable();this.stopSelectionEvent();if(this.sourceActivity!==f){this.sourceActivity&&h.unsetAsSourceActivity(this.sourceActivity);f&&h.setAsSourceActivity(f)}this.destinationActivities.forEach(function(i){if(g.indexOf(i)===-1){i&&h.unselectActivity(i)}});g.forEach(function(i){if(this.destinationActivities.indexOf(i)===-1){i&&h.selectActivity(i)}}.bind(this));this.resumeSelectionEvent();this.sourceActivity=f;this.destinationActivities=g},getProcessTable:function(){if(!this.processTable){this.processTable=new e({elements:{tableContainer:this.$.processTableSectionChild},events:{toggleselection:function(f){this.fire("toggleselection",f)}.bind(this),processTableViewLoaded:function(){if(this._callback){this._callback();this._callback=undefined}}.bind(this)}})}return this.processTable},showInvalidSelectionError:function(g,f){this.debounce("showerror",function(){var h,i,j=this.getProcessTable();i={type:"warning",text:f,autoRemove:true};h=this._categoryMessages.invalidSelection;if(h){h=this.$.notification.logMessage(i,h)}else{this.$.notification.logMessage(i)}j.unselectActivity(g);this._categoryMessages.invalidSelection=h}.bind(this),200)},stopSelectionEvent:function(){this.processTable&&this.processTable.stopSelectionEvent()},resumeSelectionEvent:function(){this.processTable&&this.processTable.resumeSelectionEvent()},setSelectionMode:function(f){this.canMultiSelect=f;if(this.processTable){this.processTable.setMultiSelectMode(this.canMultiSelect)}},setHeight:function(f){this.$.processTableSectionChild.style.height=f;this.style.height=f}})});
define("DS/SMAProcWebAuthoringUtils/cmp-parameter-create/cmp-parameter-create-modal",["DS/SMAProcWebCommonControls/Polymer","DS/SMAProcWebCommonControls/utils","DS/SMAProcWebAuthoringControls/WebUXDialog","text!DS/SMAProcWebAuthoringUtils/cmp-parameter-create/cmp-parameter-create-modal.html","i18n!DS/SMAProcWebCMMUtils/assets/nls/SMAJSCMMDataFlowUtilsNLS","DS/SMAProcWebAuthoringUtils/cmp-parameter-create/cmp-parameter-create","css!DS/SMAProcWebAuthoringUtils/cmp-parameter-create/cmp-parameter-create-modal.css","DS/SMAProcWebCommonControls/import!DS/SMAProcSPUI/sp-modal/sp-modal.html","DS/SMAProcWebCommonControls/import!DS/SMAProcSPUI/sp-button-type/sp-button-type.html"],function(f,a,d,b,e){a.registerDomModule(b);var c={PARAMETER_CREATE_DONE:"param-create-done",DISPLAY_LOADER:"display_loader"};return f({is:"cmp-parameter-create-modal",properties:{_parameter:{type:Object,value:null},paramCreate:{type:Object,value:null},multiMode:{type:Boolean,value:false}},listeners:{"parameterCreate.cmp-wux-closed":"onClose","parameterCreate.cmp-wux-ok-clicked":"onOK","parameterCreate.cmp-wux-apply-clicked":"onApply","parameterCreate.cmp-wux-cancel-clicked":"onCancel"},setDialogHeading:function(){if(this.$.parameterCreate&&this.$.parameterCreate.setTitle){if(this._parameters&&this._parameters.length>1){this.$.parameterCreate.setHeight(140);this.$.parameterCreate.setTitle(e["Parameter.ModifyParameters"])}else{if(this._parameters&&this._parameters.length===1){this.$.parameterCreate.setHeight(440);this.$.parameterCreate.setTitle(e["Parameter.ModifyParameter"])}else{if(this.multiMode){this.$.parameterCreate.setHeight(440);this.$.parameterCreate.setTitle(e["Parameter.AddMultipleParameters"])}else{this.$.parameterCreate.setHeight(440);this.$.parameterCreate.setTitle(e["Parameter.AddParameter"])}}}}},setDataContainer:function(h,g,i){this.paramCreate=document.createElement("cmp-parameter-create");this._callback=i;if(g){this._parameters=g;this.$.parameterCreate.removeAttribute("apply-button-flag")}else{this.$.parameterCreate.setAttribute("apply-button-flag","")}this.paramCreate.multiMode=this.multiMode;this.paramCreate.setDataContainer(h,g);this.$.dialogContent.innerHTML="";this.$.dialogContent.appendChild(this.paramCreate);this.$.parameterCreate.show();this.setDialogHeading();this.fire("paramcreateready")},onCancel:function(){this._close()},onClose:function(){this._close()},_close:function(){this._parameters=null;this.$.parameterCreate.hide()},onOK:function(){if(this.paramCreate.error!==true){if(this._parameters){setTimeout(function(){this.paramCreate.modifyParameters(function(h,g){if(h){this._callback&&this._callback(h,g);this._callback=undefined}this._close()}.bind(this))}.bind(this),5)}else{setTimeout(function(){var g=this.paramCreate.createParameter();this.fire(c.PARAMETER_CREATE_DONE,g)}.bind(this),10);this.fire(c.DISPLAY_LOADER);this._close()}}this.paramCreate.error=false},onApply:function(){if(this.paramCreate.error!==true){setTimeout(function(){var g=this.paramCreate.createParameter();this.fire(c.PARAMETER_CREATE_DONE,g);this.paramCreate.setNextParameterName()}.bind(this),10)}this.paramCreate.error=false}})});
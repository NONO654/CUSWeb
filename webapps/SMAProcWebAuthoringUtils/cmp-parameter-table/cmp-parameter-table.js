define("DS/SMAProcWebAuthoringUtils/cmp-parameter-table/cmp-parameter-table",["DS/SMAProcWebCommonControls/Polymer","DS/SMAProcWebCommonControls/utils","DS/SMAProcWebCMMUtils/SMAJSCMMParameterUtils","DS/SMAProcWebCMMUtils/SMAJSCMMDataFlowUtils","DS/SMAProcWebCMMUtils/SMAJSCMMAuthoringUtils","DS/SMAProcWebCMMUtils/SMAWINAuthoringUtils","DS/SMAProcWebCMMUtils/SMAJSCMMAccessUtils","DS/JSCMM/SMAJSCMMUtils","DS/SMAProcWebCMMException/SMAProcWebCMMError","DS/SMAProcWebExceptionManager/SMAProcWebErrorManager","DS/SMAProcWebAuthoringUtils/cmp-parameter-table/ParameterTableView","DS/SMAProcWebAuthoringUtils/ParameterUIUtil","DS/UIKIT/Iconbar","DS/Utilities/KeyboardUtils","DS/Logger/Logger","module","DS/Controls/Loader","DS/SMAProcWebCMMUtils/SMAJSCMMDataFlowUtilsNLSUtils","i18n!DS/SMAProcWebCMMUtils/assets/nls/SMAJSCMMDataFlowUtilsNLS","i18n!DS/SMAProcWebCMMUtils/assets/nls/SMAProcWebAuthoringNLS","text!DS/SMAProcWebAuthoringUtils/cmp-parameter-table/cmp-parameter-table.html","DS/SMAProcWebAuthoringUtils/cmp-parameter-create/cmp-parameter-create-modal","css!DS/SMAProcWebAuthoringUtils/cmp-parameter-table/cmp-parameter-table.css","DS/SMAProcWebCommonControls/import!DS/SMAProcSPUI/sp-modal/sp-modal.html","DS/SMAProcWebCommonControls/import!DS/SMAProcSPUI/sp-button-type/sp-button-type.html"],function(u,e,w,m,d,r,h,c,l,o,s,n,a,p,v,b,x,g,q,f,k){e.registerDomModule(k);var j=window.Polymer,i={ONSMAPROCPARAMSADDED:"smaprocparametersaddedtotable",ONSMAPROCPARAMSCOMMITED:"smaprocparameterscommitedtoplm"},t={PARAMETER:q["Parameter.SaveError"]},y=v.getLogger(b);return j({is:"cmp-parameter-table",properties:{_dataContainer:{value:null},filters:{type:Boolean,value:false},_isReady:{type:Boolean,value:false},_mappingModalModeModify:{type:Boolean,value:false,observer:"_mappingModalModeChanged"},paramCreate:{type:Object},_ctrlOn:{type:Boolean,value:false},showParameterPathColumn:{type:Boolean,value:false}},onAdd:function(){if(this._dataContainer){this.paramCreate.launch(this._dataContainer)}},_onAdd:function(){this.paramCreate.setDataContainer(this._dataContainer)},onAddDefaultParameter:function(){if(this._dataContainer){n.createDefaultParameter(this._dataContainer)}},_mappingModalModeChanged:function(){if(this._mappingModalModeModify){this.$.mappedParameterDialog.heading=q["Confirm Modify"];this.$.modifyButton.classList.remove("hide");this.$.noButton.classList.remove("hide");this.$.removeButton.classList.add("hide");this.$.discardButton.classList.add("hide")}else{this.$.mappedParameterDialog.heading=q["Confirm Delete"];this.$.modifyButton.classList.add("hide");this.$.noButton.classList.add("hide");this.$.removeButton.classList.remove("hide");this.$.discardButton.classList.remove("hide")}},onDataTypeChange:function(I,B,A){var E=[],J=[],F=[],K="",z=I.getDataType();var H=I.getId();var G=I.getName();I.setDataType(c.DataType.client[B.value]);E=m.getInValidDataFlowsForParameters(B,[I]);I.setDataType(z);E.fromSide.error.forEach(function(L){var O=L._fromParameter.getId()===H?G:L._fromParameter.getName();var M=L._toParameter.getId()===H?G:L._toParameter.getName();var N=L._toParameter.getParent().getName();J.push("\n"+O+" -> "+N+"."+M)});E.fromSide.warning.forEach(function(L){var O=L._fromParameter.getId()===H?G:L._fromParameter.getName();var M=L._toParameter.getId()===H?G:L._toParameter.getName();var N=L._toParameter.getParent().getName();F.push("\n"+O+" -> "+N+"."+M)});E.toSide.error.forEach(function(L){var O=L._fromParameter.getId()===H?G:L._fromParameter.getName();var M=L._toParameter.getId()===H?G:L._toParameter.getName();var N=L._fromParameter.getParent().getName();J.push("\n"+M+" <- "+N+"."+O)});E.toSide.warning.forEach(function(L){var O=L._fromParameter.getId()===H?G:L._fromParameter.getName();var M=L._toParameter.getId()===H?G:L._toParameter.getName();var N=L._fromParameter.getParent().getName();F.push("\n"+M+" <- "+N+"."+O)});if(J.length>0){K=g.translate("Dataflow.DatatypeChangeDeleteMappingError",G)+"\n";for(var D=0;D<J.length;D++){K+="\t"+J[D]}this.$.deleteMessage.innerText=K;this.$.mappedParameterDialog.show();this.$.mappedParameterDialog.modifiedParameter={parameter:I,updateOptions:B,nodeToModify:A}}else{if(F.length>0){K=g.translate("Dataflow.DatatypeChangeDeleteMappingWarning",G)+"\n";for(var C=0;C<F.length;C++){K+="\t"+F[C]}this.$.preserveMessage.innerText=K;this.$.preserveMappingDialog.show();this.$.preserveMappingDialog.modifiedParameter={parameter:I,updateOptions:B,nodeToModify:A}}else{this.changeParameterProperties(I,B,A)}}},onModeChange:function(G,A,z){var D=[],H=[];var F=G.getId();var E=G.getName();var C=A.name==="Mode"?A.value:"";if(c.Mode.client[C]!==c.Mode.InOut){D=m.getInValidDataFlowsForParameters(A,[G]);D.fromSide.error.forEach(function(J){var M=J._fromParameter.getId()===F?E:J._fromParameter.getName();var K=J._toParameter.getId()===F?E:J._toParameter.getName();var L=J._toParameter.getParent().getName();H.push(M+" -> "+L+"."+K)});D.toSide.error.forEach(function(J){var M=J._fromParameter.getId()===F?E:J._fromParameter.getName();var K=J._toParameter.getId()===F?E:J._toParameter.getName();var L=J._fromParameter.getParent().getName();H.push(K+" <- "+L+"."+M)})}if(H.length>0){var I=g.translate("Dataflow.ModeChangeDeleteMapping",E)+"\n";for(var B=0;B<H.length;B++){I+="\n\t"+H[B]}I+="\n\n"+g.translate("Dataflow.ModeChangeConfirmation",E);this.$.deleteMessage.innerText=I;this.$.mappedParameterDialog.show();this.$.mappedParameterDialog.modifiedParameter={parameter:G,updateOptions:A,nodeToModify:z}}else{this.changeParameterProperties(G,A,z)}},onModify:function(){var B=this.$.mappedParameterDialog.modifiedParameter.parameter;var A=this.$.mappedParameterDialog.modifiedParameter.updateOptions;var z=this.$.mappedParameterDialog.modifiedParameter.nodeToModify;this.changeParameterProperties(B,A,z)},changeParameterProperties:function(F,C,B){var A;if(C.name==="Mode"){A=n.modifyParameter(F,C,true);this.parameterModified(A,B,false)}else{if(C.name==="Type"){var z=c.Structure.properties[F.getStructure()].name;var E={name:F.getName(),mode:c.Mode.client.properties[F.getMode()].name,structure:z,datatype:C.value,description:F.getDescription(),expression:F.getExpression(),choices:[],value:n.getDefaultValueByType(C.value)};if(z==="Array"&&C.name==="Type"){E.resizableDims=F.isSizable();E.dimensions=F.getDimensions().length;for(var D=0;D<F.getDimensions().length;D+=1){E["arraySize"+(D+1)]=F.getDimensions()[D]}}A=n.modifyParameter(F,E,false);if(A){this.parameterModified(A,B,true)}}}this.$.mappedParameterDialog.hide()},onRemove:function(){this._mappingModalModeModify=false;var B=this.parameterTable.getSelectedNodeParameter();if(!(B&&B.length>0)){this.$.notification.logMessage({type:"warning",text:q["Parameter.Select"],autoRemove:true})}var F=[],A=[],z=[],C,G="",E="-----------------------------------------------";B.forEach(function(H){F.push(H.parameter)});F.forEach(function(J){var H=J.getId();var I=J.getName();A=m.getDataFlowsForParameters([J]);A.fromSide.forEach(function(K){var N=K._fromParameter.getId()===H?I:K._fromParameter.getName();var L=K._toParameter.getId()===H?I:K._toParameter.getName();var M=K._toParameter.getParent().getName();if(G!==N&&z.length>0){z.push(E)}G=N;z.push(N+" -> "+M+"."+L)});A.toSide.forEach(function(K){var N=K._fromParameter.getId()===H?I:K._fromParameter.getName();var L=K._toParameter.getId()===H?I:K._toParameter.getName();var M=K._fromParameter.getParent().getName();if(G!==N&&z.length>0){z.push(E)}G=N;z.push(L+" <- "+M+"."+N)})});if(z[z.length-1]===E){z.pop()}if(z.length>0){var D=q["Dataflow.DeleteParameter.MappingWarning"]+"\n";for(C=0;C<z.length;C++){D+="\n\t"+z[C]}D+="\n";this.$.deleteMessage.innerText=D;this.$.mappedParameterDialog.show()}else{this.removeParameters()}},removeParameters:function(){var B=[];var z=this.parameterTable.getSelectedNodeParameter();if(z&&z.length>0){z.forEach(function(C){w.deleteParameter(C.parameter);B.push(C.parameter)});this.parameterTable.removeNodes(z)}var A=this.parameterTable.getModelLength();if(A===0){this.disableExportButton(this.iconBar)}this.$.mappedParameterDialog.hide()},_stopEvent:function(z){if(z){z.stopPropagation()}},onCloseConfirmation:function(A){A.stopPropagation();if(this._mappingModalModeModify){var B=this.$.mappedParameterDialog.modifiedParameter.parameter;var z=this.$.mappedParameterDialog.modifiedParameter.nodeToModify;this.parameterModified(B,z,true)}},onPreserveCloseConfirmation:function(A){A.stopPropagation();var B=this.$.preserveMappingDialog.modifiedParameter.parameter;var z=this.$.preserveMappingDialog.modifiedParameter.nodeToModify;this.parameterModified(B,z,true)},onPreserveMappings:function(B){B.stopPropagation();var C=this.$.preserveMappingDialog.modifiedParameter.parameter;var A=this.$.preserveMappingDialog.modifiedParameter.updateOptions;var z=this.$.preserveMappingDialog.modifiedParameter.nodeToModify;this.changeParameterProperties(C,A,z);this.$.preserveMappingDialog.hide()},onPreserveModify:function(B){B.stopPropagation();var C=this.$.preserveMappingDialog.modifiedParameter.parameter;var A=this.$.preserveMappingDialog.modifiedParameter.updateOptions;var z=this.$.preserveMappingDialog.modifiedParameter.nodeToModify;this.changeParameterProperties(C,A,z);this.$.preserveMappingDialog.hide()},onCancelConfirmation:function(){if(this._mappingModalModeModify){var A=this.$.mappedParameterDialog.modifiedParameter.parameter;var z=this.$.mappedParameterDialog.modifiedParameter.nodeToModify;this.parameterModified(A,z,true)}this.$.mappedParameterDialog.hide()},isDirty:function(){return this._dataContainer?w.hasPendingParameterUpdates(this._dataContainer):false},_onEdit:function(){this._onEditParameters(this.parameterTable.getSelectedNodeParameter())},getSelectedParameters:function(){return this.parameterTable&&this.parameterTable.getSelectedParameters()},_onEditParameters:function(z){var A=[];z.forEach(function(B){A.push(B.parameter)});this.paramCreate.setDataContainer(this._dataContainer,A,function(D){var C=[],B=[];D.forEach(function(F){var E;E=this.getNodeFromParameter(z,F);if(E.isSelected()){B.push(F)}C.push({node:E,parameter:F})}.bind(this));this.parameterTable.updateNodes(C);this.fire("parametersModified",B)}.bind(this))},_showParameterPath:function(z){if(r.isWebInWin()){if(z.parameter===null){this.fire("dataPathsEvent",{dataPaths:null});r.highlightParameterDataPaths(null)}else{var A;A=m.getDataFlowPathForParameterPerActivity(z.parameter);r.highlightParameterDataPaths(A);this.fire("dataPathsEvent",{dataPaths:A})}}},disableParameterPath:function(){this.parameterTable&&this.parameterTable.disableParameterPath()},getNodeFromParameter:function(z,B){var A;z.forEach(function(C){if(C.parameter===B||C.parameter===B.getReference()){A=C.node}});return A},onEditDetails:function(A,z){if(this._dataContainer){if(A){this.paramCreate.setDataContainer(this._dataContainer,A);this.paramCreate.nodeParameter=z}}},onImport:function(){var z=this;if(!z._dataContainer){throw new Error(q["Parameter.Import.MissingContainer"])}this.xmlFileChooser()},findAndUpdateNode:function(C){var B=C.getName();var A;if(this.parameterTable){A=this.parameterTable.getNodesFromParameterTitles([B]);for(var z=0;z<A.length;z++){this.parameterModified(C,A[z].node,true)}A=this.parameterTable.getNodesFromParameterTitles([B]);this.parameterTable.addToNodeUpdateCache([{parameter:C,node:A[0].node}])}},findAndUpdateNodesById:function(C){for(var B=0;B<C.length;B+=1){var E=C[B];var D=E.getId();var A;if(this.parameterTable){A=this.parameterTable.getNodesFromParameterIds([D]);for(var z=0;z<A.length;z++){this.parameterModified(E,A[z].node,true)}A=this.parameterTable.getNodesFromParameterIds([D]);this.parameterTable.addToNodeUpdateCache([{parameter:E,node:A[0].node}])}}},removeParametersFromTable:function(B){var A=[];B.forEach(function(C){A.push(C.getId())});if(this.parameterTable){var z=this.parameterTable.getNodesFromParameterIds(A);this.parameterTable.removeNodes(z)}},xmlFileChooser:function(){var A=this;var z;var C="";var B=u.dom(A.root).querySelector("#contentChooserFile");B.onclick=function(){B.value=""};B.onchange=function(){if(B.files.length>1){C=q["Parameter.Import.SelectOneFile"];A.importParameterNotifications(A,C,"error",false);return}z=B.files[0];if(B.value){A.xmlFileReader(z,function(D){var F;A.importParameters=function(G){A.$.overwriteDialog.hide();F=w.importParametersFromXml(A._dataContainer,D,G,function(H){if(G&&H.modified_params.length>0){var J=A.parameterTable.getNodesFromParameterTitles(H.overriden_params_names);for(var I=0;I<J.length;I++){A.parameterModified(H.modified_params[I],J[I].node,true)}}A.displayEndMessage(A,H)});if(typeof F==="string"){A.importParameterNotifications(A,F,"error",true)}};var E=w.getAllParameters(A._dataContainer);if(E.length>0){A.$.overwriteDialog.show();A.$.overwriteDialog.querySelector("#replaceButton").onclick=function(){A.importParameters(true)};A.$.overwriteDialog.querySelector("#discardReplace").onclick=function(){A.importParameters(false)}}else{A.importParameters(false)}})}};B.click()},xmlFileReader:function(B,C){var A,z=new FileReader();if(B){z.readAsText(B,"UTF-8")}z.onload=function(D){A=D.target.result;C(A)}},displayEndMessage:function(A,z){A.imported_count=(z.newlyCreated_params.length+z.overriden_params_names.length);A.newlyCreated_count=z.newlyCreated_params.length;A.overriden_count=z.overriden_params_names.length;A.discarded_count=z.discarded_params.length;A.failed_count=z.failed_params.length;A.$.importProcessCompletionDialog.show();A.$.importProcessCompletionDialog.querySelector("#downloadbutton").onclick=function(){w.downloadXmlFile(z.endMessage,"ParameterImport.log")};A.$.importProcessCompletionDialog.querySelector("#closeButton").onclick=function(){A.$.importProcessCompletionDialog.hide()}},importParameterNotifications:function(C,D,A,z){var B={};B.text=D;B.type=A;B.autoRemove=z;C.$.notification.logMessage(B)},onExportParam:function(){var A=this;var B="SimulationParameters.xml";var z=this.parameterTable.getSelectedNodeParameter();if(z&&z.length>0){this.$.notification.logMessage({type:"info",text:q["Parameter.Export.SelectionInfo"],autoRemove:true})}w.exportParametersToXml(this._dataContainer,B,function(){A.$.notification.logMessage({type:"info",text:q["Parameter.Export.Complete"],autoRemove:true})})},setColumns:function(B,A,z){this.columns=B;this.$.paramTableSectionChild.style.height=A;this.$.paramTableSectionChild.style.width=z},_updateParamTable:function(){var z=this;if(z._dataContainer){z._dataContainer.registerParameterObserver(c.State.Created,function(A){var C,B=[];var A=A instanceof Array?A:[A];A&&A.forEach(function(D){C={tree:"",Name:D.getName(),Mode:c.Mode.client.properties[D.getMode()].name,Type:c.DataType.client.properties[D.getDataType()].name,Multiline:D.getDataSubType(),Value:n.calculateDisplayValue(D),Expression:D.getExpression()||"",Description:D.getDescription(),parameter:D,Choices:!D.getDimensions?D.getLimits().join(", "):""};B.push(C)});z.parameterTable&&z.parameterTable.addNodes(B);z.hideLoadingIdicator();z.enableExportButton(z.iconBar)});z.fire(i.ONSMAPROCPARAMSADDED)}},abandonParameters:function(){if(this._dataContainer){w.clearTemporaryParameters(this._dataContainer);this._dataContainer.removeParameterObservers()}this._removeTempDFs()},clearTempChanges:function(){if(this._dataContainer){w.clearTemporaryParameters(this._dataContainer)}this.parameterTable&&this.parameterTable.clearNodeCache();this._removeTempDFs()},applyChanges:function(){this.parameterTable&&this.parameterTable.updateParameterToNodeAfterSave()},unselectAll:function(){this.parameterTable&&this.parameterTable.unselectAll()},commitParameters:function(A){var z=this;return new Promise(function(C,B){if(z._dataContainer){if(A){z._dataContainer.removeParameterObservers()}w.saveAllParameters([z._dataContainer],{onSuccess:function(){z.fire(i.ONSMAPROCPARAMSCOMMITED);y.log(": parameters are saved in PLM");C()},onFailure:function(D){var E=t.PARAMETER;if(D.length>0&&D.indexOf("access")>-1){E=D}o.notifyError(new l("Error",E),{autoRemove:false,target:z.$.notification});y.log("parameters could not be saved in PLM");B(new Error(q["Parameter.SaveError"]))}})}})},_removeTempDFs:function(){var A=this._dataContainer;if(A){m.clearTemporaryDataflows(A)}var z=d.getParentFIsDataContainer(A);if(z){m.clearTemporaryDataflows(z)}},ready:function(){y.log("cmp-parameter-table.ready");this._selectedParameters=[];this.loader=new x({fadeDuration:1}).inject(this.$.loadIcon);this.loaderforSave=new x({fadeDuration:1,text:f["Saving.Changes"]}).inject(this.$.loadIcon)},getIconItems:function(){var z=[{fonticon:"plus",text:q["Parameter.Add.QuickToTable"],className:"parameter-add",handler:this.onAddDefaultParameter.bind(this)},{fonticon:"compare-add",text:q["Parameter.Add.Multiple"],className:"parameter-add-multiple",handler:this._onAdd.bind(this)},{fonticon:"pencil",text:q["Parameter.Edit"],className:"parameter-edit",handler:this._onEdit.bind(this)},{fonticon:"trash",className:"parameter-delete",text:q["Parameter.Delete"],handler:this.onRemove.bind(this)},{fonticon:"import",text:q["Parameter.Import"],className:"parameter-import",handler:this.onImport.bind(this)},{fonticon:"export",text:q["Parameter.Export"],className:"parameter-export",handler:this.onExportParam.bind(this)}];return z},getDataToBeModified:function(B){var z;if(B._getDataTypeName()==="Object"){if(B.getValue()){z=B.getValue()._data.displayName}else{z=" "}}var A={tree:"",Name:B.getName(),Value:z||n.calculateDisplayValue(B),Mode:B._getModeName(),Expression:B.getExpression()||"",Description:B.getDescription(),Type:B._getDataTypeName(),parameter:B,Choices:!B.getDimensions?B.getLimits().join(", "):""};return A},parameterModified:function(C,A,z){var B=this.getDataToBeModified(C);if(z){this.parameterTable&&this.parameterTable.updateNodes([{parameter:C,node:A}])}else{this.parameterTable&&this.parameterTable.updateNodeOptions(A,{grid:B},true)}if(A.isSelected()){this.fire("parametersModified",[C])}},loadTable:function(z){var B=this;try{B.parameterTable=new s({elements:{tableContainer:B.$.paramTableSectionChild,filterContainer:B.$.rulesEditor},columns:z.columns,data:z.data,showParameterPathColumn:this.showParameterPathColumn,filterMode:true,filterType:true,events:{updateparameter:function(F,E,D){var C;if(E.name==="Type"){B.debounce("dataTypeChanged",function(){B._mappingModalModeModify=true;B.onDataTypeChange(F,E,D)},500)}else{if(E.name==="Mode"){B._mappingModalModeModify=true;B.onModeChange(F,E,D)}else{C=n.modifyParameter(F,E,true);if(C){if(E.name==="Expression"){B.parameterModified(C,D,true)}else{B.parameterModified(C,D,false)}}}}},editParameterInDetail:function(C){B._onEditParameters(C)},showParameterPathEvent:function(C){B._showParameterPath(C)},parameterSelected:function(C){B.debounce("paramselction",function(){if(r.isWebInWin()){if(C.length===1){var D;D=m.getDataFlowPathForParameterPerActivity(C[0].parameter);r.highlightParameterDataPaths(D);this.fire("dataPathsEvent",{dataPaths:D})}else{var D=[];r.highlightParameterDataPaths(D);this.fire("dataPathsEvent",{dataPaths:D})}}if(h.hasModifyAccess()){if(C.length>0){this.enableDeleteButton(B.iconBar);this.enableEditButton(B.iconBar)}else{this.disableEditButton(B.iconBar);this.disableDeleteButton(B.iconBar)}}B._selectedParameters=C;B.fire("parametersSelectionChange",C)},20)},parametertableready:function(){var C=B.parameterTable.getModelLength();if(C!==0){B.enableExportButton(B.iconBar)}else{B.disableExportButton(B.iconBar)}B.fire("parametertableready")},notify:function(C){B.$.notification.logMessage({type:"warning",text:C,autoRemove:true})},addparameter:function(){B.onAddDefaultParameter()}}})}catch(A){y.log(A)}},updateTable:function(){if(this._dataContainer){this.parameterTable.clearTableNodes();this.parameterTable.addNodes(this.getTableData(this._dataContainer))}},getTableData:function(A){var z=[];A&&A.getParameters().forEach(function(B){if(B.getDataType()!==c.DataType.client.File){z.push({tree:"",Name:B.getName(),Mode:c.Mode.client.properties[B.getMode()].name,Type:c.DataType.client.properties[B.getDataType()].name,Multiline:B.getDataSubType(),Value:n.calculateDisplayValue(B),Expression:B.getExpression()||"",Description:B.getDescription(),parameter:B,Choices:!B.getDimensions?B.getLimits():""})}},this);return z},enableAddEditButton:function(z){z.elements.container.dataset.enableAdd="true";z.overflowMenu.elements.container.dataset.enableAdd="true"},enableAddMultipleButton:function(z){z.elements.container.dataset.enableAddMultiple="true";z.overflowMenu.elements.container.dataset.enableAddMultiple="true"},enableEditButton:function(z){z.elements.container.dataset.enableEdit="true";z.overflowMenu.elements.container.dataset.enableEdit="true"},enableDeleteButton:function(z){z.elements.container.dataset.enableDelete="true";z.overflowMenu.elements.container.dataset.enableDelete="true"},enableExportButton:function(z){z.elements.container.dataset.enableExport="true";z.overflowMenu.elements.container.dataset.enableExport="true"},enableImportButton:function(z){z.elements.container.dataset.enableImport="true";z.overflowMenu.elements.container.dataset.enableImport="true"},disableAddEditButton:function(z){z.elements.container.dataset.enableAdd="false";z.overflowMenu.elements.container.dataset.enableAdd="false"},disableAddMultipleButton:function(z){z.elements.container.dataset.enableAddMultiple="false";z.overflowMenu.elements.container.dataset.enableAddMultiple="false"},disableExportButton:function(z){z.elements.container.dataset.enableExport="false";z.overflowMenu.elements.container.dataset.enableExport="false"},disableImportButton:function(z){z.elements.container.dataset.enableImport="false";z.overflowMenu.elements.container.dataset.enableImport="false"},disableEditButton:function(z){z.elements.container.dataset.enableEdit="false";z.overflowMenu.elements.container.dataset.enableEdit="false"},disableDeleteButton:function(z){z.elements.container.dataset.enableDelete="false";z.overflowMenu.elements.container.dataset.enableDelete="false"},unloadTable:function(){this.parameterTable.unloadDocument();this._dataContainer.removeParameterObservers()},setDataContainer:function(z){if((!this._dataContainer)||(z!==this._dataContainer)){this.set("_dataContainer",z);this._updateParamTable();this.addRowData();if(h.hasModifyAccess()){this.enableAddEditButton(this.iconBar);this.enableAddMultipleButton(this.iconBar);this.enableImportButton(this.iconBar)}else{this.disableAddEditButton(this.iconBar);this.disableAddMultipleButton(this.iconBar);this.disableImportButton(this.iconBar)}}},tableExist:function(){return this.parameterTable&&this.parameterTable.elements&&this.parameterTable.elements._treeListView.elements.container},attached:function(){this.paramCreate=this.$.paramCreateModal;this.$.rulesEditor.style.display=this.filters?"inline-flex":"none";this.$.toolbar.style.display=this.filters?"inline-flex":"none";if(!this.runOnce){this.iconBar=new a({renderTo:this.querySelector("#iconBar"),items:this.getIconItems()});this.iconBar.elements.container.dataset.enableEdit="false";this.iconBar.elements.container.dataset.enableDelete="false";this.addEventListener("display_loader",function(){this.showLoadingIdicator()}.bind(this));this.addEventListener("sp-error",function(z){if(z.detail.message){this.$.notification.logMessage({type:"error",text:z.detail.message,autoRemove:false})}}.bind(this));this.runOnce=true}this.set("_isReady",true);this.fire("cmp-parameter-table-attached")},showLoadingIdicator:function(){this.loader.on();for(var z=0;z<document.getElementsByClassName("wux-windows-dialog-footer").length;z++){document.getElementsByClassName("wux-windows-dialog-footer")[z].style["pointer-events"]="none"}},hideLoadingIdicator:function(){setTimeout(function(){if(this.loader){this.loader.off();for(var z=0;z<document.getElementsByClassName("wux-windows-dialog-footer").length;z++){document.getElementsByClassName("wux-windows-dialog-footer")[z].style["pointer-events"]=""}}}.bind(this),500)},showLoadingIdicatorforSave:function(){this.loader.off();this.$.loadContainer.classList.add("loadContainer");for(var z=0;z<document.getElementsByClassName("wux-windows-dialog-footer").length;z++){document.getElementsByClassName("wux-windows-dialog-footer")[z].style["pointer-events"]="none"}this.loaderforSave.on()},hideLoadingIdicatorforSave:function(){setTimeout(function(){if(this.loader){this.loaderforSave.off();this.$.loadContainer.classList.remove("loadContainer");for(var z=0;z<document.getElementsByClassName("wux-windows-dialog-footer").length;z++){document.getElementsByClassName("wux-windows-dialog-footer")[z].style["pointer-events"]=""}}}.bind(this),500)},addRowData:function(){var z={columns:this.columns,data:[],height:"auto",defaultCellHeight:40};if(this._dataContainer){z.data=this.getTableData(this._dataContainer)}this.loadTable(z)},updateView:function(z){this.parameterTable&&this.parameterTable.updateView(z)},updateAllParametersReferenceToNode:function(){var z=this._dataContainer&&this._dataContainer.getParameters();this.parameterTable&&this.parameterTable.updateAllParametersReferenceToNode(z)},dialogResized:function(){this.iconBar.resize()},onKeyUp:function(z){switch(z.keyCode){case p.ENTER:case p.ESCAPE:z.preventDefault();z.stopImmediatePropagation();break;case p.CTRL:z.preventDefault();z.stopImmediatePropagation();this._ctrlOn=false;break;case p.I:z.preventDefault();z.stopImmediatePropagation();if(this._ctrlOn){this.onAddDefaultParameter()}break;default:}},onKeyDown:function(z){switch(z.keyCode){case p.ENTER:case p.ESCAPE:z.preventDefault();z.stopImmediatePropagation();break;case p.CTRL:z.preventDefault();z.stopImmediatePropagation();this._ctrlOn=true;break;default:}}})});
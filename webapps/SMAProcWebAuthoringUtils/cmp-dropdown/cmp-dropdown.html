<link rel="import" href="../../SMAProcSP/sp-base/sp-base.html">

<dom-module id="cmp-dropdown">
  <template>
    <style>
    :host {
        box-sizing: border-box;
        display: inline-block;
        min-width:170px;
        height: 22px;
        position: relative;
    }

     #dropDownButton {
        width: inherit;
        background: url('../assets/images/I_SMAWflScrollDown.png') #fff 155px no-repeat;
        background-position-x: calc(100% - 5px);
        background-size: 8px;
        border-radius:5px;
        border: 1px solid #b4b6ba;
        min-width: 50px;
        height:inherit;
        padding-left: 5px;
        font-family: Arial,sans-serif;
        font-size: 14px;
    }

    #list {
        position: relative;
        background: #fff;
        border: 1px solid #b4b6ba;
        border-radius: 5px;
        min-height: 52px;
        max-height: 208px;
        overflow-x: auto;
        box-shadow: 0 1px 2px rgba(0, 0, 0, .4);
        z-index: 3;
    }

    #dropdownLabel {
      position: absolute;
      top: 0;
      width: inherit;
      padding: 2px 25px 0 20px;
    }

    #dropdownLabel, .listItem {
      text-overflow: ellipsis;
      white-space: nowrap;
      overflow: hidden;
      cursor: default;
    }

    .listItem {
        height: 22px;
        padding-top: 1px;
        padding-left: 7px;
    }
    .listItem:hover {
        background-color: #1E90FF;
        color: #fff;
    }

    .dropdownIcons {
        width:16px;
        height:16px;
        margin-left: 0;
        margin-right: 3px;
     }

    .listItem .fonticon {
        margin-top: 3px;
        margin-left: 3px;
        opacity: 0.4;
    }
    .listItem:hover .listItem .fonticon {
        opacity: 0.6;
    }
    #dropDownButton[disabled] {
        pointer-events: none;
        background-color: #f4f5f6;
    }
    </style>
    <div id="dropDownButton" on-click="toggleVisibility" disabled$="[[disabled]]">
      <template is="dom-if" if="{{icon}}"><img src$="{{_getIconSrc(icon)}}" class="dropdownIcons"></template>
      <div id="dropdownLabel">{{label}}</div>
    </div>

    <template is="dom-if" if="{{visible}}">
        <div id="list">
          <template is="dom-repeat" items="{{items}}">
            <div class="listItem" on-click="_listItemClicked">
              <template is="dom-if" if="{{item.icon}}"><img src="{{_getIconSrc(item.icon)}}" class="dropdownIcons"></template>
              <template is="dom-if" if="{{!item.icon}}"><span class$="{{_computeFonticon(item.fonticon)}}"></span></template>
              <span title="{{item.label}}">{{item.label}}</span>
            </div>
          </template>
        </div>
    </template>
  </template>
  <script type="text/javascript" src="cmp-dropdown.js"></script>
</dom-module>

var __extends=(this&&this.__extends)||(function(){var a=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(e,c){e.__proto__=c})||function(f,c){for(var e in c){if(c.hasOwnProperty(e)){f[e]=c[e]}}};return function(f,c){a(f,c);function e(){this.constructor=f}f.prototype=c===null?Object.create(c):(e.prototype=c.prototype,new e())}})();var __awaiter=(this&&this.__awaiter)||function(a,c,b,d){return new (b||(b=Promise))(function(i,h){function e(j){try{f(d.next(j))}catch(k){h(k)}}function g(j){try{f(d["throw"](j))}catch(k){h(k)}}function f(j){j.done?i(j.value):new b(function(k){k(j.value)}).then(e,g)}f((d=d.apply(a,c||[])).next())})};var __generator=(this&&this.__generator)||function(i,d){var j={label:0,sent:function(){if(k[0]&1){throw k[1]}return k[1]},trys:[],ops:[]},e,h,k,c;return c={next:b(0),"throw":b(1),"return":b(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function b(f){return function(g){return a([f,g])}}function a(g){if(e){throw new TypeError("Generator is already executing.")}while(j){try{if(e=1,h&&(k=h[g[0]&2?"return":g[0]?"throw":"next"])&&!(k=k.call(h,g[1])).done){return k}if(h=0,k){g=[0,k.value]}switch(g[0]){case 0:case 1:k=g;break;case 4:j.label++;return{value:g[1],done:false};case 5:j.label++;h=g[1];g=[0];continue;case 7:g=j.ops.pop();j.trys.pop();continue;default:if(!(k=j.trys,k=k.length>0&&k[k.length-1])&&(g[0]===6||g[0]===2)){j=0;continue}if(g[0]===3&&(!k||(g[1]>k[0]&&g[1]<k[3]))){j.label=g[1];break}if(g[0]===6&&j.label<k[1]){j.label=k[1];k=g;break}if(k&&j.label<k[2]){j.label=k[2];j.ops.push(g);break}if(k[2]){j.ops.pop()}j.trys.pop();continue}g=d.call(i,j)}catch(f){g=[6,f];h=0}finally{e=k=0}}if(g[0]&5){throw g[1]}return{value:g[0]?g[1]:void 0,done:true}}};define("DS/SMAProcWebFetchUtils/requests",["require","exports","DS/WAFData/WAFData"],function(d,e,j){Object.defineProperty(e,"__esModule",{value:true});var f=(function(o){__extends(p,o);function p(){return o!==null&&o.apply(this,arguments)||this}return p}(Error));e.RequestError=f;var l=(function(){function o(p,q){this.body=p;this.headers=q}return o}());e.RequestResponse=l;e.ENO_CSRF_TOKEN_DEFAULT_HEADER_NAME="ENO_CSRF_TOKEN";e.SECURITY_CONTEXT_QUERY_PARAM="SecurityContext";e.SECURITY_CONTEXT_QUERY_PARAM_TESTER=new RegExp("\\?.*"+e.SECURITY_CONTEXT_QUERY_PARAM+"=.+");function h(o,q){if(!o){throw new Error("Missing url")}var p=q?encodeURIComponent(q):null;if(p&&!e.SECURITY_CONTEXT_QUERY_PARAM_TESTER.test(o)){o=o+(o.indexOf("?")===-1?"?":"&")+e.SECURITY_CONTEXT_QUERY_PARAM+"="+p}return o}e.addSecurityContextQueryParam=h;function k(p,o){var q=new f("Default error message to initialize stack");return new Promise(function(t,s){var r=o||{};r.onComplete=function(u,v){t(new l(u,v))};r.onFailure=function(v,u,w){q.message=v&&v.message||"fetchRequestError error";q.originalError=v;q.body=u;q.headers=w;s(q)};j.request(p,r)})}e.fetchRequest=k;function c(o){throw new Error("Not implemented yet")}e.fetchFcs=c;function b(q,p){var o=new f("Default error message to initialize stack");return new Promise(function(t,s){var r=p||{};r.onComplete=function(u,v){t(new l(u,v))};r.onFailure=function(v,u,w){o.message=v&&v.message||"fetchAuthenticatedRequest error";o.originalError=v;o.body=u;o.headers=w;s(o)};j.authenticatedRequest(q,r)})}e.fetchAuthenticatedRequest=b;function a(p,o){return __awaiter(this,void 0,void 0,function(){var s,q,r;return __generator(this,function(t){s=o||{};if(s.tenant){p=p+(p.indexOf("?")===-1?"?":"&")+"tenant="+encodeURIComponent(s.tenant)}p=h(p,s.securityContext);q=s.csrfToken||null;if(q){r=s.csrfTokenName||e.ENO_CSRF_TOKEN_DEFAULT_HEADER_NAME;s.headers=s.headers||{};s.headers[r]=q}return[2,b(p,s)]})})}e.fetch3DSpace=a;function m(p,o){return a(p,o)}e.fetchSlmServices=m;function g(p){var q=p instanceof Error;var o=p&&p.success===false;var r=p&&p.error;return q||o||r}e.isErrorResponseBody=g;function n(o){var r="Internal error";if(o instanceof Error){r+=": "+o.message}var q=o&&o.error;if(q){r+=": "+(typeof q==="string"?q:JSON.stringify(q,null,2))}var p=o&&o.datarecords&&o.datarecords.datagroups;if(p){p.forEach(function(s){if(s&&s.updateSuccessful===false){r+='\n Unsuccessful update for action "'+s.updateAction+'": '+s.updateMessage}})}return r}e.extractErrorReason=n;function i(p,o){function r(s){if(g(s.body)){var t=new f(n(s));t.body=s.body;t.headers=s.headers;throw t}return s}function q(s){if(g(s.body)){var t=new f(n(s));t.originalError=s.originalError;t.body=s.body;t.headers=s.headers;throw t}return s}return a(p,o).then(r,q)}e.fetchE6wService=i});
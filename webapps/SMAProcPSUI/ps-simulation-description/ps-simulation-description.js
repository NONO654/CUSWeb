(function(au){var ai=au.Polymer,C=au.console,r,aH,ak,ae,al,V,Y,x,aE,K,p,aD,at,q,W,z,O,e,I,T,ag,af,ap,g,ar,i,f,D,aq,ao,ad,aC,aw,h,L,M,t,Q,d,b,G,N,ah,av,aI,H,j,an,aG,S,s,m,k,am,B,ac,u,aj,aB,U,X,ax,R,ay,y,P={SELECTED:"is-selected"},aF={JOBCHANGE:"jobchange",NEWJOB:"newjob",JOBSTATUSCHANGE:"jobstatuschange",JOBFINISHED:"jobfinished",UPDATE:"update",appMessage:"appmessage"},J={JOB_STATUS_STARTED:"Started",JOB_STATUS_RUNNING:"Running",JOB_STATUS_PAUSED:"Paused",JOB_STATUS_WAITING:"Waiting",JOB_STATUS_QUEUED:"Queued",JOB_STATUS_DONE:"Done",JOB_STATUS_STOPPING:"Stopping",JOB_STATUS_RESUMED:"Resumed"},w={COMPLETED:"OK",ABORTED:"Canceled",FAILED:["Failed","System Failed"]},c={JOB_STATUS_NOT_STARTED:"NotStarted",JOB_STATUS_RUNNING:"Running",JOB_STATUS_PAUSED:"Paused",JOB_STATUS_WAITING:"Waiting",JOB_STATUS_COMPLETED:"Completed",JOB_STATUS_ABORTED:"Aborted",JOB_STATUS_FAILED:"Failed",JOB_STATUS_INITIALIZING:"Initializing"},az=[c.JOB_STATUS_INITIALIZING,J.JOB_STATUS_RUNNING,J.JOB_STATUS_STARTED,J.JOB_STATUS_WAITING,J.JOB_STATUS_PAUSED,c.JOB_STATUS_NOT_STARTED,J.JOB_STATUS_QUEUED,J.JOB_STATUS_STOPPING,J.JOB_STATUS_RESUMED],aA=[c.JOB_STATUS_ABORTED,c.JOB_STATUS_FAILED,c.JOB_STATUS_COMPLETED,w.ABORTED],E={INPUT_OUTPUT:"iosummaryview",EXECUTION_OPTIONS:"executionoptions",SIMULATION:"simulations"},F="Your job failed to start.",l=F+" Please contact your administrator to confirm that the execution engine is running, then abort your job to try starting it again.",aa=F+" Please contact your administrator to confirm that web services are deployed, then abort your job to try starting it again.",v="Unexpected character '%' (code 37) in prolog; expected '<'",o=F+" Please rename your job if it contains non latin characters, then abort your job to try starting it again.",Z=F+" Please check that your local station is started.",n=F+" Please check that you are using the same user for your local station.",A=F+"Please check that your local station is connected to the right execution engine.",ab=function(aJ){X.publish("SIMJDIS_AP:refresh",{objectId:aJ})},a=function(aJ){if(this.$.spDashboard.isInDashboard()){au.DS.SMAProcSP.SPBase.WIN.openInWindow(aJ,"xyz")}else{au.open(aJ,"_self")}};ac=function(aK){var aL="",aJ=aK.length;switch(aJ){case 2:aL=aK.join(" & ");break;case 3:aL=aK.join(" & ");aL.replace("&",",");break;default:aL=aK[0]}return aL};an=function(){this.$.ticketSvc.cosTicketUrl=this.$.mcsBaseURL.getValue()+"/resources/eepservices/cos/configurations/<serverID>/ticket";if(!this.serverID){this.serverID=this.$.cosServer.getDefaultServerId()}this.$.ticketSvc.getServerTicket(this.serverID,this.latestJob.objectId,true,ag.bind(this),aG)};aG=function(){C.log("error in tickets")};ak=function(aK){if(aK.currentTarget.getAttribute("data-manage")){this.$.psJobList.showJobList();return}this.DOM(this.$.jobsMenu).find('[data-object-id="'+this.selectedJob.objectId+'"]').removeClass(P.SELECTED);this.DOM(aK.currentTarget).addClass(P.SELECTED);this.selectedJob=aK.model.job;this.$.timer.stop();this.$.cosTicketTimer.stop();if(aA.indexOf(this.selectedJob.status)!==-1){this.$.progress.style.width="100%";if(this.selectedJob.objectId===this.jobsList[0].objectId){this.latestJob=aK.model.job}}else{if(this.selectedJob.status===J.JOB_STATUS_RUNNING||this.selectedJob.status===J.JOB_STATUS_PAUSED||this.selectedJob.status===J.JOB_STATUS_WAITING){this.latestJob=aK.model.job;this.eedData.eedJobId=this.selectedJob.eedJobId;this.firejobchangeevent=true;this.serverID=this.selectedJob.eedServerName?this.selectedJob.eedServerName:this.serverID;this.eedData.eedURL=this.$.cosServer.getUrlForServer(this.serverID);this.$.cosTicketTimer.start();for(var aJ=0;aJ<this.jobsList.length;aJ++){if(this.selectedJob&&this.selectedJob.eedJobId===this.jobsList[aJ].eedJobId){this.selectedJobIndex=aJ;break}}}}this.asyncFire(aF.JOBCHANGE,this.selectedJob)};W=function(){var aJ=this.$.spDashboard.getAuthenticatedJspUri("/components/emxImageManager.jsp?"+this.JS.toQueryString({isPopup:"true",toolbar:"APPImageManagerToolBar",header:"Common.Images.PageHeading",HelpMarker:"SMACommon_NavTreeImageManager",emxSuiteDirectory:"simulationcentral",isStructure:"true",otherTollbarParams:"isStructure",suiteKey:"SimulationCentral",StringResourceFileId:"smaSimulationCentralStringResource",SuiteDirectory:"simulationcentral",objectId:this.simDetails.id}));au.DS.SMAProcSP.SPBase.WIN.openInWindow(aJ)};av=function(){if(this.jobsData[0]&&this.jobsData[0].status==="NotStarted"){this.$.jobListWsTimer.start()}else{this.$.jobListWsTimer.stop()}if(this.$.runSimulation.getValue()==="True"){this.$.runSimulation.setValue("False");this.onRun()}else{if(this.$.runActivity.getValue()){var aJ=this.$.runActivity.getValue();if(aJ&&aJ.runActivity==="True"){var aL=aJ.id;var aK=aJ.title;this.executeJob(aL,null,aK)}this.$.runActivity.setValue({})}}};aH=function(){var aO,aP;if(!Array.isArray(this.jobsData)){return}this.$.cosTicketTimer.stop();var aJ=this.jobsData.length;if(this.jobsData.length>0){this.latestJobId=this.jobsData[0].objectId}else{this.latestJobId=undefined}this.hasRunningJob=false;var aM=false;for(var aL=0;aL<aJ;aL++){if(this.jobsData[aL].startTimeMillis&&this.jobsData[aL].startDate!=="now"){var aQ=new Date(parseInt(this.jobsData[aL].startTimeMillis));this.jobsData[aL].startDate=aQ.getDate()+" "+aQ.toLocaleString("en-us",{month:"short"})+" "+aQ.getFullYear()+" "+aQ.toLocaleTimeString()}if(this.jobsData[aL].endTimeMillis&&this.jobsData[aL].endTimeMillis!==""){var aR=new Date(parseInt(this.jobsData[aL].endTimeMillis));this.jobsData[aL].endDate=aR.getDate()+" "+aR.toLocaleString("en-us",{month:"short"})+" "+aR.getFullYear()+" "+aR.toLocaleTimeString()}if(az.indexOf(this.jobsData[aL].status)!==-1&&!this.hasRunningJob){if(aL!==0){this.hasRunningJob=true}this.selectedJob=this.jobsData[aL]}}if(!Array.isArray(this.jobsList)){this.jobsList=[]}var aK=JSON.parse(JSON.stringify(this.jobsData));this.jobsList=JSON.parse(JSON.stringify(aK));var aN=0;for(aN;aN<this.jobsList.length;aN++){if(this.selectedJob&&this.selectedJob.eedJobId===this.jobsList[aN].eedJobId){this.selectedJobIndex=aN;this.selectedJob=this.jobsList[aN];aM=true;break}}if(this.jobsList.length>0){if(!aM){this.selectedJob=this.jobsList[0];this.selectedJobIndex=0}if(this.selectedJob.eedJobId===this.latestJob.eedJobId&&aA.indexOf(this.latestJob.status)!==-1){this.firejobchangeevent=true;this.set("selectedJob.status",this.latestJob.status);this.set("jobsList."+this.selectedJobIndex+".status",this.latestJob.status);this.$.progress.style.width="100%"}else{this.latestJob=this.selectedJob}if(this.latestJob.status===J.JOB_STATUS_RUNNING||this.latestJob.status===J.JOB_STATUS_PAUSED||this.latestJob.status===J.JOB_STATUS_WAITING||this.latestJob.status===J.JOB_STATUS_QUEUED){this.firejobchangeevent=true;if(this.jobNotFoundCounter<2){aO=this.selectedJob.eedServerName;this.serverID=aO;aP=this.$.cosServer.getUrlForServer(aO);this.$.eedBaseURL.setValue(aP);this.eedData.eedURL=aP;this.eedData.eedJobId=this.latestJob.eedJobId;this.$.cosTicketTimer.start();appData.simData.isJobQueued=false;ay.call(this)}}else{if(aA.indexOf(this.latestJob.status)!==-1){aO=this.selectedJob.eedServerName;aP=this.$.cosServer.getUrlForServer(aO);this.$.eedBaseURL.setValue(aP);al.call(this)}}}else{this.selectedJob={eedJobId:null,objectId:null,jobObjectId:null,status:null};this.$.progress.style.width="0%"}if(!this.firejobchangeevent){this.asyncFire(aF.JOBCHANGE,this.selectedJob)}};aD=function(){ai.dom(this.root).querySelector("#jobsMenu").visible=true};q=function(){ai.dom(this.root).querySelector("#analyzeMenu").visible=true};at=function(){ai.dom(this.root).querySelector("#runMenu").visible=true};ae=function(){this.$.managejobs.hide()};al=function(){var aJ;aJ=this.latestJob?this.latestJob.status:"";if(aJ&&aA.indexOf(aJ)!==-1){this.$.progress.style.width="100%";this.$.timer.stop();this.$.cosTicketTimer.stop()}else{if(az.indexOf(aJ)!==-1&&aJ!=="Paused"){this.getJobInfoBrief()}else{if(aJ==="Paused"){this.getJobInfoBrief();this.$.timer.stop()}else{this.$.progress.style.width="0%"}}}};i=function(){var aK,aL,aJ;if(this.jobInfoBrief.JobID===this.eedData.eedJobId){aJ=this.jobInfoBrief["@status"];if(!aJ){return}aK=this.jobInfoBrief["@completionCode"];this.finishedRuns=parseInt(this.jobInfoBrief.JobSummary["@nFinished"],10);aL=this.finishedRuns/this.execTotalRuns*100;if(this.jobInfoBrief.PendingWI&&(aJ!==c.JOB_STATUS_PAUSED&&aJ!==J.JOB_STATUS_DONE)){aJ=c.JOB_STATUS_WAITING}if(aJ===J.JOB_STATUS_DONE){this.querySelector("#abort").classList.add("hide");this.querySelector("#pause").classList.add("hide")}if(aA.indexOf(aJ)!==-1){ar.call(this,aJ,aK)}else{this.$.progress.style.width=aL+"%";if(this.latestJob.status!==aJ){if(aJ!==J.JOB_STATUS_DONE){this.set("latestJob.status",aJ);this.set("selectedJob.status",aJ);this.set("jobsList."+this.selectedJobIndex+".status",aJ)}else{this.$.progress.style.width="100%";this.$.timer.stop();this.set("latestJob.status",aJ);this.$.jobDetailsWs.uri=this.$.mcsBaseURL.getValue()+"/resources/e6w/service/SMA_JobDetails?jobId="+this.selectedJob.objectId;this.$.jobDetailsWs.getData()}this.asyncFire(aF.JOBSTATUSCHANGE,this.latestJob)}}}};ax=function(aL){var aK=aL.detail.response.datarecords;var aM=aK.datagroups[0].dataelements;if(aM.status&&aM.status.value&&aM.status.value[0]){var aJ=aM.status.value[0].value;if(aA.indexOf(aJ)===-1){if(this.selectedJob.objectId===aK.datagroups[0].objectId){this.async(function(){this.$.jobDetailsWs.getData()},3000)}}else{this.$.cosTicketTimer.stop();this.$.jobListWs.getData();this.asyncFire(aF.JOBFINISHED,this.latestJob)}}else{ar.call(this,J.JOB_STATUS_DONE)}};ar=function(aJ,aK){this.$.progress.style.width="100%";this.$.timer.stop();this.$.cosTicketTimer.stop();if(aK){if(w.COMPLETED===aK){aJ=c.JOB_STATUS_COMPLETED}else{if(w.ABORTED===aK){aJ=c.JOB_STATUS_ABORTED}else{aJ=c.JOB_STATUS_FAILED}}}this.set("latestJob.status",aJ);this.set("selectedJob.status",aJ);this.set("jobsList."+this.selectedJobIndex+".status",aJ);this.asyncFire(aF.JOBFINISHED,this.latestJob);setTimeout(function(){this.$.jobListWs.getData()}.bind(this),2500)};z=function(){var aJ=null,aK=this.simDetails.attributes["Simulation Kind"];if(aK==="method"){aJ=this.globals.mcsBaseURL+"/common/emxNavigator.jsp?"+this.JS.toQueryString({physicalId:this.simOid,objectAction:"openInCompose",suiteKey:"SimulationCentral",StringResourceFileId:"smaSimulationCentralStringResource",SuiteDirectory:"simulationcentral"});if(au.getTopWindow){au.getTopWindow().location.href=aJ}else{a.call(this,aJ)}}};O=function(aK){var aN,aJ=this.selectedJob.status;if(this.jobsList.length===0){return}if(aJ!=="Completed"&&aJ!=="Aborted"&&aJ!=="Failed"){aN="Job is "+aJ+". Can not be opened in RA since results are not available.";this.fire(aF.appMessage,{level:"error",message:aN});return}var aM=this.selectedJob.objectId;if(this.$.spDashboard.isInDashboard()){require(["DS/TransientWidget/TransientWidget"],function(aP){var aO={objectIds:aM};if(aK){aO.runAs="true"}aP.showWidget("SIMREII_AP","Result Analytics",aO)})}else{var aL=appData.environments[0].dashboard;aL=aL+"#app:SIMREII_AP/content:objectIds="+aM;if(aK){aL=aL+"&runAs=true"}aL=encodeURI(aL);au.open(aL,"_blank")}};r=function(){require(["DS/PlatformAPI/PlatformAPI"],function(aK){X=aK});this.eedData={};this.jobsData=[];this.jobsList=[];this.jobInfoBrief={};this.execTotalRuns=1;this.finishedRuns=0;this.jobNotFoundCounter=0;this.eedTicket="";this.firejobchangeevent=false;this.runInfo="";this.fire("configrunready");var aJ=this;this.async(function(){this.$.spDashboard.fetchMyappsUri().then(function(aL){var aK=aL+"/resources/AppsMngt/api/pull/self";require(["DS/WAFData/WAFData"],function(aM){aM.authenticatedRequest(aK,{type:"json",onComplete:function(aN){aJ.self=aN;appData.self=aN},onError:function(aN){C.log(aN)}})})})})};aI=function(){var aJ=this.$.licenseData.getValue();var aK=["Process_Composer","Simulation_Companion","Results_Analytics"];if(aJ){if(aJ[aK[0]]==="true"){this.hasProcessComposerLic="true"}if(aJ[aK[1]]==="true"){this.hasSimulationCompanionLic="true"}if(aJ[aK[2]]==="true"){this.hasResultsAnalyticsLic="true"}}};ay=function(){var aJ=appData.simData.isJobQueued;if(aJ===true){this.getElementsByClassName("access-job-controls")[0].classList.add("hide");this.getElementsByClassName("jobQueued")[0].classList.remove("hide")}else{this.getElementsByClassName("access-job-controls")[0].classList.remove("hide");this.getElementsByClassName("jobQueued")[0].classList.add("hide")}};e=function(){this.jobNotFoundCounter=0;this.$.timer.stop();this.runInfo="";this.$.cosTicketTimer.stop();this.latestJob={};ay.call(this);if(this.simOid&&this.simOid.length>0){this.eedData.eedURL=this.$.eedBaseURL.getValue();this.globals.eedBaseURL=this.eedData.eedURL;this.firejobchangeevent=false;this.$.jobListWs.getData();this.$.imageurl.uri=this.$.mcsBaseURL.getValue()+"/resources/e6w/service/SMA_ImageUrl?objectId="+this.simOid+"&imageSize=Small";this.$.imageurl.getData()}};I=function(aK){var aJ=aK.detail.response.datarecords.datagroups[0].dataelements;if(aJ&&aJ.url&&aJ.url.value[0]){this.imagesrc=aJ.url.value[0].value;this.$.simImage.setAttribute("src",this.imagesrc)}};T=function(){if(this.simDetails.attributes){this.$.psJobList.processType=this.simDetails.attributes["Simulation Kind"];this.$.simImage.setAttribute("src",!this.imagesrc?this.defaultSimIcon:this.imagesrc)}};ag=function(aJ,aK){if(aK){this.eedTicket=aK;if(this.firejobchangeevent){this.asyncFire(aF.JOBSTATUSCHANGE,this.latestJob);this.firejobchangeevent=false}this.getExecTotalRuns();this.$.timer.start()}};af=function(){var aM=this.eedData.eedURL,aJ=this.eedData.eedJobId,aL=aM+"/job/"+aJ+"/totalruns",aK=new XMLHttpRequest();aK.open("GET",aL,true);aK.setRequestHeader("EEDTicket",this.eedTicket);aK.setRequestHeader("Accept","text/plain, */*; q=0.01");aK.onreadystatechange=function(){if(aK.readyState===4&&aK.status===200){this.execTotalRuns=parseInt(aK.responseText,10)}}.bind(this);aK.send()};ap=function(aL){var aN=aL.detail,aK=0,aM=0,aJ;for(aK=0;aK<aN.length;aK+=1){aJ=aN[aK];for(aM=0;aM<this.jobsData.length;aM+=1){if(aJ===this.jobsData[aM].objectId){this.splice("jobsData",aM,1);break}}}if(this.jobsList.length===0){this.latestJob={}}};b=function(aL){this.$.psJobList.hideJobList();this.DOM(this.$.jobsMenu).find('[data-object-id="'+this.selectedJob.objectId+'"]').removeClass(P.SELECTED);var aK=0;for(aK=0;aK<this.jobsData.length;aK+=1){var aJ=this.jobsData[aK].objectId;if(aJ===aL.detail){this.selectedJob=this.jobsData[aK];this.selectedJobIndex=aK;break}}if(aK<5){this.DOM(this.$.jobsMenu).find('[data-object-id="'+this.selectedJob.objectId+'"]').addClass(P.SELECTED)}if(aA.indexOf(this.selectedJob.status)!==-1){this.$.timer.stop();this.$.cosTicketTimer.stop();this.$.progress.style.width="100%"}else{if(this.selectedJob.status===J.JOB_STATUS_RUNNING||this.selectedJob.status===J.JOB_STATUS_PAUSED||this.selectedJob.status===J.JOB_STATUS_WAITING||this.selectedJob.status===J.JOB_STATUS_QUEUED){this.latestJob=this.selectedJob;this.eedData.eedJobId=this.selectedJob.eedJobId;this.serverID=this.selectedJob.eedServerName?this.selectedJob.eedServerName:this.serverID;this.eedData.eedURL=this.$.cosServer.getUrlForServer(this.serverID);this.firejobchangeevent=true;this.$.cosTicketTimer.start()}}this.asyncFire(aF.JOBCHANGE,this.selectedJob)};g=function(){if(!this.latestJob.eedJobId){return}var aK=this.eedData.eedURL+"/job/"+this.latestJob.eedJobId+"/summary/brief",aJ=new XMLHttpRequest();aJ.open("GET",aK,true);aJ.setRequestHeader("EEDTicket",this.eedTicket);aJ.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01");aJ.onreadystatechange=function(){if(aJ.readyState!==4){return}switch(aJ.status){case 200:this.jobInfoBrief=JSON.parse(aJ.responseText).JobInfoBrief;break;case 401:an.call(this);this.$.timer.stop();break;case 403:this.$.timer.stop();this.$.cosTicketTimer.stop();break;case 410:case 500:this.$.timer.stop();this.$.cosTicketTimer.stop();this.$.jobListWs.getData();this.asyncFire(aF.JOBFINISHED,this.latestJob);this.jobNotFoundCounter=this.jobNotFoundCounter+1;break;default:break}}.bind(this);aJ.send()};ad=function(aJ){var aO=this.$.exeOptionsWs,aN=this,aK=this.globals.mcsWSBaseURL+"/"+this.$.exeOptionsWs.uri,aM=this.exe_options?JSON.stringify(this.exe_options):null,aL=aJ.target.getAttribute("disabled"),aP=this.$.ConfigureAndRun,aQ=aP.querySelectorAll("[credential]"),aR="";aR=S.call(this,aQ);if(aR!==""){this.errorText=aR;this.$.errorMsgContent.style.visibility="visible";return}if(!aM||aL==="true"){return}this.set("exe_options.$state","is-updating");aO.sendRequest({verb:"PUT",uri:aK,context:aN,data:aM,onComplete:function(aT){var aW=aT.context;aW.set("exe_options.$state","");var aV=aW.exe_options;for(var aU in aV){if(aV[aU].title==="LogLevel"){if(aV[aU].value==="SysError"){aW.runInfo="System Error";break}aW.runInfo=aV[aU].value;break}}var aS=aW.runInfo;aW.$.runner.runInfo="<RunInfo logLevel='"+aS+"' submissionHost=''></RunInfo>";aW.runSimulationAs();aP.hide()},onError:function(aS){var aT=aS.context;aT.set("exe_options.$state","is-failing");setTimeout(function(){aT.$.ConfigureAndRun.hide()},1000)}})};B=function(){var aJ;try{aJ=appData.simData?appData.simData.exeOptions:this.exe_options}catch(aK){aJ=this.exe_options||[]}aJ=aJ.length===0;if(aJ){this.$.simOptionsWs.uri=this.$.mcsBaseURL.getValue()+"/resources/e6w/service/SMA_SimExeOption?objectId="+this.simOid;this.$.simOptionsWs.getData()}else{this.useSimOptionsLogLevel()}};D=function(){if(au.widget){return au.widget.getValue("tenantId")}else{return appData.WUPlatformId}};aq=function(){if(appData&&appData.environments&&appData.environments.length===1){return appData.environments[0].cstorage}return undefined};ao=function(){if(this.jobsData.length>0&&aA.indexOf(this.jobsData[0].status)===-1){this.fire(aF.appMessage,{level:"error",message:"Failed to start a new job : Previous job is still running"});return}var aJ=this._hasPendingRequests();if(aJ&&aJ.length>0){this.jobRunWarning(this.simOid,aJ)}else{this.continueRun()}};aB=function(aM,aK){var aL,aO;aL={exeoptionSave:"Execution options ",simPropSave:"Simulation Properties ",ioSave:"Inputs/Outputs tab "};var aN,aJ;aN=[];aK.forEach(function(aP){aJ=aP.uri||aP.url||"";if(aJ.match(E.EXECUTION_OPTIONS)){if(aN.indexOf(aL.exeoptionSave)===-1){aN.push(aL.exeoptionSave)}}else{if(aJ.match(E.INPUT_OUTPUT)){if(aN.indexOf(aL.ioSave)===-1){aN.push(aL.ioSave)}}else{if(aJ.match(E.SIMULATION+"/"+this.simOid)){if(aN.indexOf(aL.simPropSave)===-1){aN.push(aL.simPropSave)}}else{if(aN.indexOf(aL.ioSave)===-1){aN.push(aL.ioSave)}}}}}.bind(this));aO=ac(aN);if(aN.length>1){aO=aO+" updates are in progress."}else{aO=aO+" update is in progress."}this.$.saveDetailsMsg.innerHTML=aO;this.$.runConfirmation.setAttribute("data-objid",aM);this.$.runConfirmation.show()};K=function(){var aK,aJ;aK=this.$.simOptionsWs.data;if(aK&&aK.datarecords&&aK.datarecords.datagroups[0]){aJ=aK.datarecords.datagroups[0].dataelements}if(aJ&&aJ.logLevel&&aJ.logLevel.value[0]&&aJ.logLevel.value[0].value){this.logLevelRunInfo=aJ.logLevel.value[0].value}else{this.logLevelRunInfo=am.call(this,"LogLevel").value}this._computeRunInfo();this.runSimulationAs()};p=function(){var aK,aJ;aK=this.$.simOptionsWs.data;if(aK&&aK.datarecords&&aK.datarecords.datagroups[0]){aJ=aK.datarecords.datagroups[0].dataelements}if(aJ&&aJ.logLevel&&aJ.logLevel.value[0]&&aJ.logLevel.value[0].value){this.logLevelRunInfo=aJ.logLevel.value[0].value}else{this.logLevelRunInfo=am.call(this,"LogLevel").value}this._computeRunInfo()};am=function(aN,aO){var aM,aJ;aO=aO||"0";var aK;try{aK=appData.simData.exeOptions.length>0?appData.simData.exeOptions:this.exe_options}catch(aL){aK=this.exe_options||[]}aM=aK.filter(function(aP){aJ=aP.sequence?aP.sequence===aO:aJ;return aJ&&aP.title===aN});return aM[0]};aE=function(aM){var aK,aJ;this.jobNotFoundCounter=0;if(aM.detail.result){aK=aM.detail.result;try{var aP=new DOMParser();var aN=aP.parseFromString(aK.ApplicationData,"text/xml");var aL=aN.getElementsByTagName("PLMObject")[0];aJ=aL.textContent}catch(aO){C.log(aO)}if(this.$.spDashboard.isInDashboard()&&localStorage.getItem("PS_INTERNAL")==="true"){this.publishToRefresh(aM.detail.result.objectID)}this.jobsData[0].eedJobId=aK.EEDJobID;this.jobsData[0].objectId=aJ?aJ:aK.MCSJobID;this.$.cosTicketTimer.stop();this.set("eedjobId",aK.EEDJobID);this.set("eedData.eedJobId",this.eedjobId);this.eedTicket=aK.EEDTicket;this.set("latestJob.eedJobId",this.eedjobId);this.set("latestJob.status",J.JOB_STATUS_STARTED);this.set("selectedJob.status",J.JOB_STATUS_STARTED);this.set("latestJob.objectId",aJ?aJ:aK.MCSJobID);this.$.cosTicketTimer.start();this.asyncFire(aF.JOBCHANGE,this.latestJob);this.asyncFire(aF.NEWJOB,this.latestJob);this.async(function(){this.$.jobListWs.getData()},2000)}aM.stopPropagation()};V=function(aM){var aL,aJ;aJ=aM.detail.result;this.set("latestJob.status",c.JOB_STATUS_NOT_STARTED);this.set("latestJob.objectId",aJ.MCSJobID);var aK=aM.detail.status;switch(aK){case 0:aL=l;break;case 404:aL=aa;break;case 500:if(aM.detail.response){if(v===aM.detail.response.substring(0,v.length)){aL=o}else{aL=F+"<br>"+aM.detail.response}}else{aL=F}break;case this.$.runner.ERRORS.PRIVATE_STATION_USER_MISMATCH:aL=n;break;case this.$.runner.ERRORS.PRIVATE_STATION_SERVER_MISMATCH:aL=A;break;case this.$.runner.ERRORS.PRIVATE_STATION_NO_STATION_FOUND:aL=Z;break;default:aL=F+aM.detail.response}this.fire(aF.appMessage,{level:"error",message:aL});this.jobNotFoundCounter=0;setTimeout(function(){this.$.ConfigureAndRun.hide()}.bind(this),100);this.abortJobinMCS();aM.stopPropagation()};aw=function(){var aJ,aO,aK,aM,aN,aL=new XMLHttpRequest();aJ=this.latestJob.status;if(aJ===c.JOB_STATUS_RUNNING){aO=this.eedData.eedURL;aK=this.eedData.eedJobId;aM=aO+"/execution/"+aK+"/pause";aL.open("PUT",aM,false);aL.setRequestHeader("EEDTicket",this.eedTicket);aL.onreadystatechange=function(){if(aL.readyState===aL.DONE){if(aL.status!==200){aN="Pause Failed. Please try again.";this.fire(aF.appMessage,{level:"error",message:aN})}}}.bind(this);aL.send()}};h=function(){var aN,aK,aJ,aM,aL=new XMLHttpRequest();aN=this.eedData.eedURL;aK=this.eedData.eedJobId;aJ=aN+"/execution/"+aK+"/resume";aL.open("PUT",aJ,false);aL.setRequestHeader("EEDTicket",this.eedTicket);aL.onreadystatechange=function(){if(aL.readyState===4){if(aL.status!==200){aM="Resume Failed. Please try again.";this.fire(aF.appMessage,{level:"error",message:aM})}else{this.latestJob.status="Resumed";this.$.timer.start()}}}.bind(this);aL.send()};M=function(){var aL,aK,aJ;aJ=Date.now();aK={State:J.JOB_STATUS_DONE,CC:"Canceled",EndDate:String(aJ)};if(this.latestJob.startDate.length===0||this.latestJob.startDate==="now"){aK.StartDate=String(aJ-80000)}aL=this.globals.mcsWSBaseURL+"/jobinfo/job/"+this.latestJob.objectId+"/Execution/state?"+this.JS.toQueryString(aK);if(this.latestJob.objectId){this.$.abortJobMCS.sendRequest({verb:"POST",uri:aL})}else{setTimeout(function(){this.$.jobListWs.getData()}.bind(this),2500)}};Y=function(){var aJ="Abort Failed. Please try again.";this.fire(aF.appMessage,{level:"error",message:aJ})};x=function(){this.$.timer.stop();this.$.cosTicketTimer.stop();this.set("latestJob.status",c.JOB_STATUS_ABORTED);this.$.progress.style.width="100%";this.asyncFire(aF.JOBFINISHED,this.latestJob);setTimeout(function(){this.$.jobListWs.getData()}.bind(this),2500)};f=function(){var aJ=this.latestJob.status,aK,aN,aM,aL;if(az.indexOf(aJ)!==-1){aK=au.confirm("You are about to abort job.");if(aK){if(this.latestJob.eedJobId&&this.latestJob.eedJobId.length>0){aN=this.eedData.eedURL+"/execution/"+this.latestJob.eedJobId+"/cancel";aL=new XMLHttpRequest();aL.open("PUT",aN,false);aL.setRequestHeader("EEDTicket",this.eedTicket);aL.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8");aL.onreadystatechange=function(){if(aL.readyState===aL.DONE){if(aL.status!==200){aM="Abort Failed. Please try again.";this.fire(aF.appMessage,{level:"error",message:aM})}else{this.$.timer.start()}}}.bind(this);aL.send()}else{this.abortJobinMCS()}}}};k=function(){var aJ={};aJ=this.$.credentials.getValue();if(aJ){this.querySelector("#domainName").value=aJ.domainName;this.querySelector("#windowsUser").value=aJ.windowsUser;this.querySelector("#windowsPass").value=aJ.windowsPass;this.querySelector("#linuxUser").value=aJ.linuxUser;this.querySelector("#linuxPass").value=aJ.linuxPass;this.querySelector("#isightV5User").value=aJ.isightV5User;this.querySelector("#isightV5Password").value=aJ.isightV5Password}};U=function(){var aJ=this._hasPendingRequests();if(aJ&&aJ.length>0){this.jobRunWarning("onConfigRun",aJ)}else{this.onConfigRun()}};t=function(){this.settingStoredCredetialsFromSession();this.$.ConfigureAndRun.show();this.$.exeOptionsWs.getData();this.errorText="";this.$.errorMsgContent.style.visibility="hidden"};Q=function(aL){var aN=Polymer.dom(aL).localTarget,aK=aL.model,aJ=aL.model.index,aM=aN.value||aK.option.value;aK.option.value=aM;this.set("exe_options."+aJ+".value",aM);this.set("exe_options."+aJ,aK.option)};d=function(aJ,aL,aK){return aK[aL.indexOf(aJ)]};L=function(){this.globals.eedBaseURL=this.eedBaseURL;this.eedData.eedURL=this.eedBaseURL};G=function(aL){var aK,aJ=0,aN,aM=0;aK=aL.currentTarget;aN=this.DOM(this).find('[data-id="'+aL.currentTarget.getAttribute("data-target")+'"]').elements()[0];aJ=this.DOM(this).getCoordinates(aK);aM=au.innerHeight||document.body.clientHeight||document.documentElement.clientHeight||0;if(aM-aJ.y<300){this.DOM(aN).removeClass("displayFixed");this.DOM(aN).addClass("displayOnTop");aN.position="top"}else{this.DOM(aN).removeClass("displayOnTop");this.DOM(aN).addClass("displayFixed");aN.position="bottom";aN.style.top=aJ.y+aK.clientHeight+"px";aN.style.left=aJ.x}aN.visible=true};H=function(){var aJ=this.$.spDashboard.getAuthenticatedJspUri("/simulationcentral/smaJobsShowInteractive.jsp?"+this.JS.toQueryString({suiteKey:"SimulationCentral",HelpMarker:"SMAJobs_ShowInteractive",StringResourceFileId:"smaSimulationCentralStringResource",SuiteDirectory:"simulationcentral",objectId:this.simOid,jobObjectId:this.selectedJob.objectId}));au.DS.SMAProcSP.SPBase.WIN.openInWindow(aJ)};ah=function(aO){var aP=aO.detail.title,aN="",aJ="",aK=false;this.runActDetails=aO.detail;if(this.jobsData instanceof Array){for(var aL=0;aL<this.jobsData.length;aL++){if(aA.indexOf(this.jobsData[aL].status)===-1){if(this.jobsData[aL].title.indexOf(aP)>-1){aK=true;aN=this.jobsData[aL].title;aJ=this.jobsData[aL].owner;break}}}}if(aK){this.$.executeActivity.heading="Run "+aP;var aM="";if(aJ&&aJ.length>0){aM="A job titled "+aN+" started by "+aJ+" is already in progress.\nAre you sure you want to run this activity?"}else{aM="A job titled "+aN+" is already in progress.\nAre you sure you want to run this activity?"}this.querySelector("#executeActivityMessage").textContent=aM;this.$.executeActivity.show()}else{this.executeActivity()}};y=function(aK){this.latestJob={startDate:"now",endDate:"",owner:this.self?this.self.id:"",title:aK?aK:"",status:c.JOB_STATUS_INITIALIZING,objectId:c.JOB_STATUS_INITIALIZING};this.selectedJob=this.latestJob;if(this.jobsData instanceof Array){this.jobsData.splice(0,0,this.latestJob)}else{this.jobsData=[this.latestJob]}this.asyncFire(aF.JOBSTATUSCHANGE,this.latestJob);this.set("selectedJob.status",c.JOB_STATUS_INITIALIZING);this.set("selectedJob.startDate","now");this.$.progress.style.width="0%";if(appData.encryptedCredsForSelectedProcess.credentialsEncrypted===true){var aJ=document.querySelector("ps-simulation-contents");aJ.disableRunButton()}};u=function(aL,aK,aM){var aN;aN=this.simOid!==aL?{id:aL}:this.simDetails;aK=aK?aK:{};var aJ=aj.call(this);if(!aJ){return}this.$.runner.tenantID=this._computeTenant();this.$.runner.mcsURL=this._computemcsURL();if(JSON.stringify(aK)==="{}"){this.$.runner.runSimulation(aN,aN.id,"",true)}else{this.$.runner.runSimulationAs(aN,aN.id,"",true,aK)}this.changeJobStatusForNewJob(aM);this.firejobchangeevent=false};aj=function(){var aK;var aJ="Your changes have not been saved in input-outputs tab, previously saved values will be used to execute the job. Do you still want to run the job?";appData.inputOutputs&&appData.inputOutputs.errorMap&&appData.inputOutputs.errorMap.forEach(function(aL){if(aL!==""){aK=true}});if(aK){if(confirm(aJ)){return true}else{return false}}else{return true}};aC=function(){var aL=this.runActDetails.objectId,aK=this.runActDetails.title;var aJ=this._hasPendingRequests();if(aJ&&aJ.length>0){this.$.runConfirmation.setAttribute("data-objid",aL);this.jobRunWarning(aL,aJ)}else{this.checkSimOptionsLogLevel();this.executeJob(aL,null,aK)}this.hideExecuteActivity()};N=function(){var aK=this.$.ConfigureAndRun,aN=aK.querySelectorAll("[credential]"),aM={};Polymer.dom(this.$.runAs).setAttribute("isdisabled","true");for(var aL=0;aL<aN.length;aL+=1){var aQ=aN[aL].getAttribute("id"),aO=aN[aL].value;if(aO&&aO.length>0){aM[aQ]=aO}}if(appData.isRunAsEnabled==="true"){if(appData.encryptedCredsForSelectedProcess&&appData.encryptedCredsForSelectedProcess.credentialsEncrypted===true){aM=appData.encryptedCredsForSelectedProcess}else{var aP={OS:[],IsightV5:[],credentialsEncrypted:true};if(sessionStorage.getItem("windowsEncrypted")!==null){aP.OS.push(sessionStorage.getItem("windowsEncrypted"))}if(sessionStorage.getItem("linuxEncrypted")!==null){aP.OS.push(sessionStorage.getItem("linuxEncrypted"))}if(sessionStorage.getItem("isightEncrypted")!==null&&appData.simData.isIsightConfigured){aP.IsightV5.push(sessionStorage.getItem("isightEncrypted"))}aM=aP}}var aJ=this.$.cosServer.getUrlForDefaultServer();this.$.eedBaseURL.setValue(aJ);this.eedData.eedURL=aJ;this.executeJob(this.simOid,aM)};S=function(aP){var aO=0,aJ={},aM={},aR="",aL,aN,aK;for(aL=0;aL<aP.length;aL+=1){if(aP[aL].value!==""&&aP[aL].value!==undefined){aM[aP[aL].id]=aP[aL].value}else{aM[aP[aL].id]=null}}aJ.windows=s(aM.windowsUser,aM.windowsPass);aJ.linux=s(aM.linuxUser,aM.linuxPass);aJ.isightV5=s(aM.isightV5User,aM.isightV5Password);if(aM.isightV5Password){var aQ=this.$.spEncryption.encryptAESCBC(aM.isightV5Password,"ENCYPTION2345");sessionStorage.setItem("IsightPwd",JSON.stringify(aQ));sessionStorage.setItem("isightV5User",aM.isightV5User)}for(aN in aJ){if(aJ.hasOwnProperty(aN)){for(aK in aJ[aN]){if(aK==="isEntered"&&aJ[aN][aK]===true){aO=aO+1}else{if(aK==="isValid"&&aJ[aN][aK]===false){aR="Username or Password is missing"}}}this.$.credentials.setValue(aM)}}return aR};s=function(aN,aK){var aL=false,aM=false,aJ={};if(aN===null&&aK===null){aL=true;aM=false}if(aN!==null&&aK!==null){aL=true;aM=true}if(aN===null&&aK!==null||aN!==null&&aK===null){aM=true}aJ={isValid:aL,isEntered:aM};return aJ};m=function(){this.errorText="";this.$.errorMsgContent.style.visibility="hidden"};R=function(aJ){this.simDetails.attributes.title=aJ.detail.attributes.title;this.simDetails.basics.revision=aJ.detail.basics.revision;this.notifyPath("simDetails.attributes.title",this.simDetails.attributes.title)};j=function(){this.$.additionalMenu.visible=true};Polymer({is:"ps-simulation-description",behaviors:[au.DS.SMAProcSP.SPBase,au.DS.SMAProcSP.SPVariableHelper],properties:{eedBaseURL:{notify:true,observer:"eedBaseURLChanged"},eedjobId:{value:null,notify:true},imagesrc:{notify:true},jobInfoBrief:{observer:"jobInfoBriefChanged"},jobsData:{type:Array,notify:true,value:function(){return[]}},jobsList:{type:Array,notify:true,value:function(){return[]}},self:{type:Object,notify:true,value:function(){return{}}},updatesPending:{type:Object,notify:true},latestJob:{value:null},runningTask:{notify:true},selectedJob:{value:null},simDetails:{notify:true,observer:"simDetailsChanged"},simOid:{type:String,value:"",notify:true,observer:"simOidChanged"}},observers:["jobsDataChanged(jobsData.splices)"],attached:function(){this.async(function(){au.DS.SMAProcSP.SPVariableHelper.ready.call(this);if(this.$.spDashboard.isInDashboard()){Polymer.dom(this).classList.add("in-dashboard")}this.defaultSimIcon=this.globals.mcsBaseURL+"/webapps/SMAProcPSUI/assets/images/process.png";aI.call(this);this.credFields=[{label:"Domain Name",name:"domainName",type:"text"},{label:"Windows Username",name:"windowsUser",type:"text"},{label:"Windows Password",name:"windowsPass",type:"password"},{label:"Linux Username",name:"linuxUser",type:"text"},{label:"Linux Password",name:"linuxPass",type:"password"},{label:"Isight V5 Username",name:"isightV5User",type:"text"},{label:"Isight V5 Password",name:"isightV5Password",type:"password"}]})},simOidChanged:e,setImageUrl:I,simDetailsChanged:T,setEEDTicket:ag,getExecTotalRuns:af,eedBaseURLChanged:L,getJobInfoBrief:g,jobInfoBriefChanged:i,showMenu:G,checkNewJob:av,_computeTenant:D,_computemcsURL:aq,onRun:ao,onConfigRun:t,configureAndRun:ad,runSimulationAs:N,continueRun:B,runActivity:ah,onItemSelect:Q,filterChoice:d,onPause:aw,onAbort:f,onResume:h,onRunStarted:aE,useSimOptionsLogLevel:K,checkSimOptionsLogLevel:p,onRunError:V,onAbortError:Y,onAbortSuccess:x,abortJobinMCS:M,onClaim:H,settingStoredCredetialsFromSession:k,onJobsMenuClick:aD,onAnalyzeMenuClick:q,onRunMenuClick:at,jobsDataChanged:aH,onJobsMenuItemClick:ak,onManageJobsClose:ae,jobsdeleted:ap,openSelectedJob:b,openinCompose:z,openinRA:function(){O.call(this,false)},openinRAAs:function(){O.call(this,true)},ready:r,onImageClick:W,onTimerTick:al,onEEDTicketTimerTick:an,jobListWsTimerTick:function(){this.$.jobListWs.getData()},eedTicketErrorHandler:aG,onAdditionalMenuClick:j,checkLicenseData:aI,publishToRefresh:ab,jobDetailsReady:ax,changeJobStatusForNewJob:y,onFocusRunAsTextField:m,callGetJobsData:function(){this.getJobData()},hideExecuteActivity:function(){this.$.executeActivity.hide()},executeActivity:aC,getJobData:function(){this.$.jobListWs.getData()},_computeUri:function(aJ){return"simulations/"+aJ+"/jobs"},_computeUri2:function(aK,aJ){return aJ?aK.mcsWSBaseURL+"/cos/ticket?physicalid="+aJ:""},_computeUri3:function(aJ){return"simulations/"+aJ+"/executionoptions"},_computeRunurl:function(){var aJ=this.$.cosServer.getUrlForDefaultServer();return aJ+"/execution/run"},_computeJobxmlurl:function(aJ){return aJ+"/jobs"},_computeCospubkeyurl:function(){var aJ=this.$.cosServer.getUrlForDefaultServer();return aJ+"/execution/pubkey"},_computeEncrypturl:function(aJ){return aJ+"/data/getEncryptedCreds"},_computeMcsticketurl:function(aJ){return aJ+"/ticket/get"},_computeTitle:function(aJ){return aJ.attributes?aJ.attributes.title+" ("+aJ.basics.revision+")":""},_computeClass:function(aJ){return aJ?"jobs-menu-wrapper is-"+aJ:"jobs-menu-wrapper"},_computeHeadingTitle:function(aK,aJ){return String(aK)+"("+aJ+")"},computeHeading:function(aJ){return R.apply(this,arguments)},_computeRunBtnClass:function(aJ){if(this.latestJobId!==undefined){if(this.selectedJob.objectId===this.latestJobId){if(az.indexOf(aJ)!==-1||this.hasRunningJob){return"is-previous"}else{return"btn btn-primary job-control-btn run"}}else{return"is-previous"}}else{if(aJ==="Started"||aJ==="Running"){return"is-previous"}else{return"btn btn-primary job-control-btn run"}}},_computeRunAsBtnClass:function(aJ){if(this.latestJobId!==undefined){if(this.selectedJob.objectId===this.latestJobId){if(az.indexOf(aJ)!==-1||this.hasRunningJob){return"is-previous"}else{return"btn job-control-btn run run-as-button "}}else{return"is-previous"}}else{if(aJ==="Started"||aJ==="Running"){return"is-previous"}else{return"btn job-control-btn run run-as-button "}}},_computeSupportabilityBtnClass:function(aJ){if(localStorage.getItem("SIMDISB_AP_ENABLE_SUPPORTABILITY")!=="true"){return"hidden"}if(this.latestJobId!==undefined){if(this.selectedJob.objectId===this.latestJobId){if(az.indexOf(aJ)!==-1||this.hasRunningJob){return"is-previous"}else{return"btn job-control-btn run supportability-btn"}}else{return"is-previous"}}else{if(aJ==="Started"||aJ==="Running"){return"is-previous"}else{return"btn job-control-btn run supportability-btn"}}},_computeRunAsClass:function(aJ){if(this.latestJobId!==undefined){if(this.selectedJob.objectId===this.latestJobId){if(az.indexOf(aJ)!==-1||this.hasRunningJob){return"is-previous"}else{return"btn btn-primary dropdown-toggle job-control-btn run"}}else{return"is-previous"}}else{if(aJ==="Started"||aJ==="Running"){return"is-previous"}else{return"btn btn-primary dropdown-toggle job-control-btn run"}}},_computeClass2:function(aJ){return aJ?"workitemcount stop is-"+aJ:"workitemcount stop "},_computeIf:function(aJ){return aJ.attributes?aJ.attributes["Simulation Kind"]!=="adhoc":false},_computeIf2:function(aJ){if(aJ){return aJ==="Running"||aJ==="Paused"||aJ==="Waiting"}return false},_computeIf3:function(aK,aJ){if(aJ.attributes){return aK==="true"&&aJ.attributes["Simulation Kind"]!=="adhoc"}return false},_computeIf4:function(aJ){if(aJ.attributes){return(aJ.attributes["Simulation Kind"]==="method"&&Boolean(this.hasProcessComposerLic))}return false},_computeHeading:function(aJ){return aJ.attributes?aJ.attributes.title+" Job List":""},_computeDisabled:function(aJ){return aJ==="is-failing"||aJ==="is-getting"||aJ==="is-updating"},_computeClass5:function(aJ){if(aJ){return"btn btn-primary job-control-btn waiting is-"+aJ}return"btn btn-primary job-control-btn waiting "},_computeClass6:function(aJ){if(aJ){return"btn btn-info job-control-btn pause is-"+aJ}return"btn btn-info job-control-btn pause "},_computeClass7:function(aJ){if(aJ){return"btn btn-primary job-control-btn resume is-"+aJ}return"btn btn-primary job-control-btn resume "},_computeTitle2:function(aJ){if(aJ){return"Click to stop the "+aJ+" job"}return""},_computeClass8:function(aJ){if(aJ){return"btn btn-warning  job-stop stop is-"+aJ}return"btn btn-warning  job-stop stop "},_computeIf5:function(aJ){if(aJ){return aJ.length>0}return""},_computeIf6:function(aJ){return aJ<5},_computeProgressBarLabel:function(aK){var aN=aK.title,aJ=aK.status,aM=aK.endDate;if(aJ&&aJ.length>0){if(aN&&aN.length>20){aN=aN.substring(0,20);aN=aN+"..."}if(aN===null||aN===undefined||aN===""){aN="Job"}if(aM){var aL=aM.split(" ").slice(0);aM=aL[0]+" "+aL[1]+" "+aL[2]}if(aA.indexOf(aJ)!==-1){if(aM&&aM.length>0){return aN+" "+aJ+" on "+aM}else{return aN+" "+aJ+" just now."}}else{return aN+" is "+aJ}}else{return"No Jobs"}},_computeLabel:function(aL,aJ,aK){if(aA.indexOf(aJ)!==-1){if(aK&&aK.length>0){return aL+" "+aJ+" on "+aK}else{return aL+" "+aJ+" just now."}}else{return aL+" is "+aJ}},_computeClass9:function(aJ,aL,aM){var aK="job-menu-item "+aJ;if(aL===aM){aK=aK+" is-selected"}return aK},_computeClassOwner:function(aJ){return aJ===this.self.id?"owner fonticon fonticon-user":""},_computeDisabled2:function(aJ){return aJ.length===0},_computeIf7:function(aJ,aK){return aJ<7&&aK.syncAssist},_computeClass10:function(aK){var aJ="form-group ";if(aK.editableInPS==="false"&&aK.action==="hide"){aJ+=" is-hidden"}if(aK.editableInPS==="false"&&aK.action!=="hide"){aJ+=" is-readonly"}return aJ},_computeDisabled3:function(aJ){return aJ.editableInPS==="false"},_computeSelected:function(aJ,aK){return aK.choices[aJ]===aK.value},_computeValue:function(aJ,aK){return aK.choices[aJ]},_computeTooltip:function(aK,aJ){if(aK&&aJ){return"Activity: "+aK+"> Step: "+aJ}return""},confirmRun:function(){this.$.runConfirmation.hide();var aJ=this.$.runConfirmation.getAttribute("data-objid");this.$.runConfirmation.removeAttribute("data-objid");switch(aJ){case this.simOid:this.continueRun();break;case"onConfigRun":this.onConfigRun();break;default:this.executeJob(aJ)}},cancelRun:function(){this.$.runConfirmation.hide();this.$.runConfirmation.removeAttribute("data-objid")},_computeRunInfo:function(){var aJ=this.logLevelRunInfo;if(aJ){if(aJ==="SysError"){aJ="System Error"}else{if(aJ.search("Information")>-1){aJ="Information"}}this.$.runner.runInfo="<RunInfo logLevel='"+aJ+"' submissionHost=''></RunInfo>"}else{this.$.runner.runInfo="<RunInfo logLevel='Information' submissionHost=''></RunInfo>"}},_hasPendingRequests:function(){var aK=this.$.jobListWs.hasPendingUpdates();var aM=[];var aL;if(aK){aL=this.$.jobListWs.HTTPRequest.pendingRequests;var aJ;for(aJ in aL){if(aL.hasOwnProperty(aJ)){var aP=aL[aJ].uri||aL[aJ].url||"";var aQ=aL[aJ].verb;if(aP.indexOf("servicetagdata")===-1&&aP.indexOf("buildJob")===-1&&aQ.toUpperCase()!=="GET"){aM.push(aL[aJ])}}}}if(this.updatesPending.isDirty){var aN;try{aN=this.updatesPending.url||""}catch(aO){aN=""}aM.push({url:aN})}return aM},jobRunWarning:aB,executeJob:u,checkingRunAs:U,openRunAsModal:function(){var aJ=[];aJ.push(this.simOid);this.$.runAsModal.showModal(aJ,false)},openSupportabilityWidget:function(){require(["DS/TransientWidget/TransientWidget"],function(aJ){var aK={mode:"panel",height:800,width:700};this.getSessionInfo(function(aL){var aM={mode:"viewondrop",session:aL,job:this.selectedJob.physicalId,neededLicenses:["Performance_Study","Results_Analytics","Simulation_Companion","Process_Composer"]};aJ.showWidget("SIMPRDX_AP","Support Tool",aM,aK)}.bind(this),function(aL){C.error(aL)})}.bind(this))},getSessionInfo:function(aK,aJ){this.$.spDashboard.getSecurityContexts().then(function(aL){var aN=this.$.spDashboard.getCurrentSecurityContext();for(var aM=0;aM<aL.length;aM++){aL[aM].name=aL[aM].id;if(aL[aM].name===aN){aL[aM].isSelected=true}}this.$.spDashboard.getPlatforms().then(function(aO){var aP=undefined;if(aO&&aO.length>0&&aO[0].id){aP=aO[0].id}aK({securityContext:aL,tenant:aP,spaceUrl:this.$.spDashboard.getMcsUri()})}.bind(this),aJ)}.bind(this),aJ)},enableRunAs:function(){var aJ=this.querySelector("#runAsButton");aJ&&aJ.classList.remove("hide")},disableRunAs:function(){var aJ=this.querySelector("#runAsButton");aJ&&aJ.classList.add("hide")},_openDevTools:function(aM){if(aM.ctrlKey){function aL(aO){var aN=document.createElement("textarea");aN.value=aO;document.body.appendChild(aN);aN.focus();aN.select();document.execCommand("copy");document.body.removeChild(aN)}var aK=widget.uwaUrl.match(/https:\/\/[\w-.:]*\/[\w]*\/[\w]*/)[0]+"/SMAProcSPDiagnostics/sp-diagnostics-widget.html";aL(aK);var aJ='Step 0: Widget URL has been copied to your clipboard\nStep 1: Login as Admin and navigate to 3DDashboard Platform Management\nStep 2: Open Members tab and scroll down to click on "Create Additional App"\nStep 3: Provide a Short Name and Choose the Type as "Widget" from dropdown\nStep 4: Select URL textbox and paste(ctrl + v) the URL\nStep 5: Click on "Save" button to find the widget from Compass';au.alert(aJ)}}})}(this));
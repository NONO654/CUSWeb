define("DS/SMAProcPSUI/Utils/HttpUtil",["UWA/Core","UWA/Utils","DS/PlatformAPI/PlatformAPI","UWA/Class"],function(h,e,i,a){var j="SecurityContext",k=["collabspaces","collabspace"];function g(){var l=null;if(!l&&window.widget&&window.widget.getValue){k.some(function(m){l=window.widget.getValue(m);return l})}return l}var d=a.singleton({post:function(m,n,l,q,p,o){return c(this,"POST",m,undefined,n,l,q,p,o)},put:function(n,o,l,q,p,m){return c(this,"PUT",n,undefined,o,l,q,p,m)},get:function(m,n,l,p,o){return c(this,"GET",m,n,undefined,l,p,o)},del:function(m,n,l,p,o){return c(this,"DELETE",m,n,undefined,l,p,o)},encodeUri:function(l){return l?encodeURIComponent(l.toString().replace(/\//g,"!")).replace(/!/g,"%21"):l},decodeUri:function(l){return decodeURIComponent(l).replace(/!/g,"/")},decodeUriLocation:function(l){return decodeURIComponent(l.getResponseHeader("Location").replace(/.*\//,"")).replace(/!/g,"/")},getUrl:function(l,m){return f(this,l,m,this.options.baseUrl)}});function b(){var l=window.UWA&&window.UWA.hosts&&window.UWA.hosts.exposition;return l&&["http://uwa.netvibes.com","https://uwa.netvibes.com"].indexOf(l)===-1}function f(m,p,r){var l="DS/PlatformAPI/PlatformAPI",t="app.urls.myapps",r="",q=window.location,s=window.require||function(){},n=null,o="";p=h.is(p,"object")?h.clone(p,false):{};if(m.substr(0,1)!=="/"&&!m.contains("://")){if(b()){r=window.widget&&window.widget.getUrl()||"";if(r.indexOf("/webapps")>-1){r=r.substring(0,r.indexOf("/webapps"))}else{if(s.defined&&s.defined(l)){r=s(l).getApplicationConfiguration(t)}}n=g();if(!p[j]&&n){p[j]=n}}else{r=q.protocol+"//"+q.host+q.pathname.match(/^\/\w*/).join("")}o=r+"/resources/slmservices/"+m}else{o=m}o=o.split("?")[0].split("#")[0];o=o+(p?"?"+e.toQueryString(p):"");o=o.replace(/\?$/,"");return o}function c(t,l,m,r,o,n,p,s,q){m=f(m,r);return document.createElement("sp-mcsservice").sendRequest({uri:m,verb:l,wait:0,success:[200,204],headers:{pragma:"no-cache","Content-Type":"application/json; charset=utf-8",Accept:"application/json"},data:o,timeout:1200000,physicalId:q||"",onComplete:function(u){if(typeof n==="function"){try{u.response=JSON.parse(u.response)}catch(v){}n(u)}if(typeof s==="function"){try{s()}catch(v){}}},onError:function(u){if(typeof p==="function"){try{p(u)}catch(v){}}if(typeof s==="function"){try{s()}catch(v){}}}})}return d});
(function(b){var d,e,a,c;d=function(){var f,h;this.activeitemid=this.$.queryparams.get("physicalId");if(this.activeitemid){this.sidebarmode="searchedSim";this.simidlist.push(this.activeitemid);this.$.simlistWS.sendRequest({verb:"POST",uri:this.$.simlistWS.$.dashboard.getMcsUri()+"/resources/slmservices/simulations/filter",data:this.simidlist,onComplete:a.bind(this)});f=this.$.simAbstractList.getSettingValue(this.LOCALSTORAGE_KEY.simOwner)||this.SIM_OWNER.owned;this.set("settings.switchMessage",this.SWITCH_MESSAGE[f]);this.set("settings.simOwner",this.SIM_OWNER.searched);h=b.emxUIConstants&&b.emxUIConstants.STR_QUERY_TYPE;try{b.getTopWindow().bpsTagNavConnector.getTNWindow().hasWidget=false}catch(i){console.log("Issue with tagger Initialization")}}else{this.$.simAbstractList.$.sidebarViewMode.style.display="none"}var g=this.$.queryparams.get("runSimulation");if(g){this.$.runSimulation.setValue(g)}};a=function(g){var h=JSON.parse(g.response);var f=h&&h.forEach?h:[];if(!(this.simlist&&this.simlist.splice)){console.log("ps-simulation-list: onRefreshDataready: simlist is not an array");this.simlist=[]}f.forEach(function(i){this.push("simlist",i);if(this.activeitemid===i.id){this.activeitem=i}}.bind(this));this.activeitemindex=this._getActiveItemIndex()};e=function(g){var f;if(this.sidebarmode==="searchedSim"){try{f=JSON.parse(g.data)}catch(h){f={}}if(f.operation==="copy"||f.operation==="revise"){g.stopPropagation();this.activeitemid=f.physicalId;this.simidlist.splice(0,0,f.physicalId);this.onRefresh()}}};c=function(){var f="";f="One of the job is either Running, Waiting or Paused.";document.getElementById("errorMsg").innerHTML=f;this.$.errorMsgModal.show()};Polymer({is:"ps-searched-simulation",behaviors:[b.SPBase,b.DS.SMAProcSP.SPVariableHelper,b.DS.SMAProcPSUI.simAbstractListBehavior],properties:{activeitem:{type:Object,notify:true},activeitemid:{value:null},activeitemindex:{type:String,notify:true},sidebarmode:{notify:true,observer:"sidebarmodeChanged"},simidlist:{type:Array,value:function(){return[]},notify:true},simlist:{type:Array,value:function(){return[]},notify:true},simulationFactory:{notify:true}},ready:function(){b.DS.SMAProcSP.SPVariableHelper.ready.call(this);this.simlist=[];this.simidlist=[];d.call(this);b.top.addEventListener("message",e.bind(this),false)},onRefresh:function(){this.refresh();this.asyncFire("event-manager",{name:"list-refreshed"})},onRefreshReq:function(g){var f=g.detail;f.verb="POST";if(f.uri.indexOf("filter")<0){f.uri=f.uri+"/filter"}f.payload=JSON.stringify(this.simidlist)},onRefreshDataready:a,sidebarmodeChanged:function(){if(this.sidebarmode==="searchedSim"){if(this.simlist&&this.simlist.length>0){this.simlist.forEach(function(f){if(this.activeitemid===f.id){this.activeitem=f}}.bind(this))}}},refresh:function(){this.simlist=[];this.resetMultiSelect();this.$.simlistWS.sendRequest({verb:"POST",uri:this.$.simlistWS.$.dashboard.getMcsUri()+"/resources/slmservices/simulations/filter",data:this.simidlist,onComplete:a.bind(this)})},updateJobDetails:function(f){this.set("simlist."+this.activeitemindex+".latestExecution.eedJobId",f.eedJobId);this.set("simlist."+this.activeitemindex+".latestExecution.id",f.objectId);this.set("simlist."+this.activeitemindex+".latestExecution.state",f.status)},updateAttributes:function(f){this.set("simlist."+this.activeitemindex+".attributes.description",f.description);this.set("simlist."+this.activeitemindex+".attributes.title",f.title);this.set("simlist."+this.activeitemindex+".attributes.Simulation Study",f["Simulation Study"])},_computeDataActiveindex:function(g,f){return f.id===g},_computeClass:function(g,f){return"simItem "+this.tokenList({"is-selected":f.id===g})},raFailedMsg:c})}(this));
define("DS/SMAProcPSUI/Views/MultivalueEditor",["UWA/Core","UWA/Element","UWA/Event","UWA/Utils","DS/UIKIT/Input/Text","DS/UIKIT/Input/Toggle","DS/UIKIT/Dropdown","css!DS/SMAProcPSUI/Views/MultivalueEditor.css"],function(h,c,b,f,e,g,a){var d={name:"dropdown-menu",items:null,choices:null,value:null,init:function(j){var k;this._parent(j);this.items=[];this.map=new Map();j.items=[];for(k=0;k<j.choices.length;k++){j.items.push({text:j.choices[k],disabled:j.disabled})}if(j.items){for(k=0;k<j.items.length;k++){this.addItem(j.items[k])}}this._getMapValues()},buildSkeleton:function(){var j=h.createElement,k=this.elements,i=this.options;if(k.container){return}k.container=h.createElement("div",{"class":this.getClassNames(),html:i.body});k.wrapper=j("ul",{"class":this.name+"-wrap"}).inject(k.container);if(i.target&&i.bound){this.events.target={click:this.toggle.bind(this)};i.target.addEvents(this.events.target)}delete i.body},enableItem:function(j){var i=this.getItem(j);i&&i.elements.container.removeClassName("disabled");return this},disableItem:function(j){var i=this.getItem(j);i&&i.elements.container.addClassName("disabled");return this},addItem:function(i){var j=this;f.splat(i).forEach(function(k){j._addItem(k)});return this},_addItem:function(k){var n=this.elements,j=k.className||"",m={},l=false;if(!k.id&&k.id!==0&&!k.name){m.id=f.getUUID().substr(0,6)}if(!k.name){m.name=k.text}if(this.options.value.indexOf(k.text)>-1){l=true}this.map.set(m.id,{value:k.text||"",selected:l});if(k.disabled){j+=" disabled"}var i=new g({type:"checkbox",className:"item toggle-item",value:k.text,label:k.text,checked:l,disabled:k.disabled,events:{onChange:function(o){this.updateMapVlaues(o,m.id)}.bind(this)}});m.elements={container:i};if(k.id){m.elements.container.id=k.id}if(/header|divider/.test(k.className)){m.elements.container.removeClassName("item")}m.elements.container.inject(n.wrapper);this.items.push(h.merge(m,k))},_getMapValues:function(){var i="";this.map.forEach(function(j){if(j.selected){i=i+j.value+"\n"}});if(i.length>0){i=i.substring(0,i.length-1)}return i},updateMapVlaues:function(i,j){this.map.forEach(function(l,k){if(j===k){l.selected=i.target.checked}})}};return a.extend(d)});
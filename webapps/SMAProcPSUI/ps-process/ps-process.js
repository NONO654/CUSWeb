require(["UWA/Core","UWA/Dispatcher"],function(m,k){var f=null,e=null,g=null,p=null,o=null,b=null,i=null,j,q=null,c=null,t=null,r=null,s=null,h=null,a=null,l=null,n=null,d=window.UWA;f=function(){this._initializing=true;this.processID="";this.name="";this.description="";if(this.process&&((typeof(this.process.attributes)!=="undefined")&&this.process.attributes)){this.processID=this.process.id;this.name=this.process.attributes.title;this.description=(this.process.attributes.description)?this.process.attributes.description:""}this._initializing=false};e=function(){this.isDestroyed=false};g=function(){this.process={};this.executionDirectories=[];this.activityMap={};require(["UWA/Core"],function(u){if(!d){d=u}})};p=function(){if(!this.isDestroyed){this.isDestroyed=true;this.removeEvent()}};s=function(v){var u,w=Object.prototype.toString.call(v);if(!v){u=[]}else{if(Array.isArray(v)){u=v}else{if(~w.indexOf("Arguments")){u=Array.prototype.slice.call(v)}else{u=[v]}}}return u};h=function(w,v,u){var y=w._dispatchers,x=(y&&y[v])||new k();if(!u){if(!y){y=w._dispatchers=Object.create(null)}y[v]=x}return x};a=function(w,v,x){var u,y=this;if(x===undefined){x=y}v=s(v);u=h(y,w);u.dispatch(v,x);return y};l=function(u,x,w,v){h(this,u).add(x,w,v);return this};n=function(u,z,w){var v,y=this,A=y._dispatchers,x=A&&A[u];if(!u){for(v in A){if(A.hasOwnProperty(v)){y.removeEvent(v,z,w)}}}else{if(x){if(z){x.remove(z,w)}else{x.removeAll(w)}if(x.getNumListeners()===0){delete A[u]}}}};o=function(v){var x,y=false,u,w=false;if(v){for(x=0;x<this.executionDirectories.length;x+=1){if((this.executionDirectories[x].station===v.station)){if(this.executionDirectories[x].path!==v.path){this.executionDirectories.splice(x,1);break}y=true;break}}if(!y){u={};v.save(u,null);this.executionDirectories.push(v)}}w=!y;return w};b=function(u){var w=-1,v=false;if(u){for(w=0;w<this.executionDirectories.length;w+=1){if((this.executionDirectories[w].station===u.station)&&(this.executionDirectories[w].path===u.path)){this.executionDirectories.splice(w,1);v=true;break}}}return v};i=function(){this.stopJobMonitor();this.executionDirectories=[]};j=function(){var u,v,w,x;if(this.executionDirectories){for(u=0;u<this.executionDirectories.length;u++){v=this.executionDirectories[u];if(v.filemonURL&&v.filemonURL.length>0){w=v.filemonURL;w+="/SMAExeStation-REST/stop/";x=new XMLHttpRequest();x.open("GET",w,true);x.send()}}}};q=function(u){if(u){this.activityMap[u.sequence]=u}};c=function(u){if(u){if(this.activityMap.hasOwnProperty(u.sequence)){delete this.activityMap[u.sequence]}}};t=function(){this.activityMap={}};r=function(v){var u=false,y=false;for(var x in this.activityMap){if(v.name.toUpperCase().indexOf(x.toUpperCase())>-1){u=true;var w=this.activityMap[x];if(w.monitorFiles){v.name=w.name;y=true}}}if(!u||y){v.exists=false}else{v.exists=true}return v};window.DS.SMAProcPSUI=window.DS.SMAProcPSUI||{};window.DS.SMAProcPSUI.PSProcess=Polymer({is:"ps-process",properties:{description:{type:String,value:"",notify:true,observer:"descriptionChanged"},executionDirectories:{value:null,notify:true},activityMap:{notify:true,value:function(){return{}}},name:{type:String,value:"",notify:true,observer:"nameChanged"},process:{value:null,notify:true,observer:"processChanged"},processID:{type:String,value:"",notify:true,observer:"processIDChanged"}},created:function(){return e.apply(this,arguments)},ready:function(){return g.apply(this,arguments)},destroy:function(){return p.apply(this,arguments)},addExecutionDirectory:function(){return o.apply(this,arguments)},removeExecutionDirectory:function(){return b.apply(this,arguments)},clearAllExecutionDirectories:function(){return i.apply(this,arguments)},stopJobMonitor:function(){return j.apply(this,arguments)},addActivity:function(){return q.apply(this,arguments)},removeActivity:function(){return c.apply(this,arguments)},clearAllActivities:function(){return t.apply(this,arguments)},addActivityFolderForPS:function(){return r.apply(this,arguments)},processChanged:function(){f.call(this)},processIDChanged:function(){if(!this._initializing){if(this.process){this.processID=this.process.id}}},nameChanged:function(u){if(!this._initializing){this.set("process.attributes.title",u)}},descriptionChanged:function(u){if(!this._initializing){this.set("process.attributes.description",u)}},dispatchEvent:function(){return a.apply(this,arguments)},addEvent:function(){return l.apply(this,arguments)},removeEvent:function(){return n.apply(this,arguments)},behaviors:[DS.SMAProcSP.SPBase]})});
define("DS/SMAProcWebApp/SMAProcAppInit",["DS/SMAProcWebAuthoringUI/FrameWindowDiagram","DS/SMAProcWebCMMException/SMAProcWebCMMError","DS/SMAProcWebExceptionManager/SMAProcWebErrorManager","DS/SMAProcWebAuthoringUtils/SMAProcWebAuthoringServices","DS/SMAProcWebCMMUtils/SMAJSCMMAuthoringUtils","DS/SMAProcWebCMMUtils/SMAJSCMMProcessUtils"],function(a,d,g,c,b,f){var e={frmWindow:null,uiFrame:null,processComposer:null,objectId:null,createFrameWindow:function(h,k){if(this.frmWindow===undefined||this.frmWindow===null){this.frmWindow=new a().inject(h);this.uiFrame=this.frmWindow.getUIFrame();c.Initialize(this.uiFrame);b.initialize(null,{onSuccess:function(){},onFailure:function(){}});var j=document.querySelector(".wux-afr-framewindow");if(j!==undefined&&j!==null){j.style.background="-webkit-radial-gradient(center, ellipse cover, #F7F8F8 0%, #D6DADC 100%)"}this.objectId=this.getQueryString("objectId");var i=this;this.frmWindow.onActionBarReady(function(){i.createProcessComposer(k)})}},getQueryString:function(l,j){var h=j?j:window.location.href;var k=new RegExp("[?&]"+l+"=([^&#]*)","i");var i=k.exec(h);return i?i[1]:null},createProcessComposer:function(i){var h=this;if(h.frmWindow===null||h.uiFrame===null||(h.objectId===null&&i===undefined)){return}require(["DS/SMAProcWebAuthoringUI/ProcessComposer"],function(j){h.processComposer=new j();h.processComposer.setAttribute("id","comp1");h.frmWindow.getUIFrame().appendChild(h.processComposer);if(!i){f.loadProcess(h.objectId,{onSuccess:function(k){b.currentProcess=k;h.initializeComposer()},onFailure:function(k){g.notifyError(new d("Error","not able to open selected process, error: "+k))}})}else{b.currentProcess=i;h.initializeComposer()}})},initializeComposer:function(){if(this.license===false){return}var h=this;if(h.frmWindow===null||h.uiFrame===null||h.processComposer===null){return}if(h.processComposer.updateCurrentProcess){h.processComposer.updateCurrentProcess()}}};return e});
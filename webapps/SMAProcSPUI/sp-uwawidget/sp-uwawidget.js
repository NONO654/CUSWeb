/*!  Copyright 2015 Dassault Systemes. All rights reserved. */
(function(c){var a,b;c.$uwawidget={init:function(d){b=d}};Polymer({is:"sp-uwawidget",properties:{droptype:{type:Array,value:["Simulation"],notify:true},enabledrop:{type:Boolean,value:false,notify:true},mcsuri:{type:String,value:"",notify:true},enableadd:{type:Boolean,value:false,notify:true},enablesearch:{type:Boolean,value:false,notify:true},customsearch:{type:String,value:""},preferences:{notify:true}},ready:function(){c.$uwawidget=this;this.widgetid&&this.init(b)},_setupEventlisteners:function(){var d;c.widget.addEvent("onLoad",function(){this.setPreferences();this._widget.securityContext=this.$.dashboard.getSecurityContext()}.bind(this));c.widget.addEvent("endEdit",this.setPreferences.bind(this));this.addEventListener("onObjectDrop",function(e){this._widget.onDrop(e,this.$$("#dropzone"))});this.addEventListener("objectcreate",function(e){this._widget.onNewObjectClick(e)});d=["onLoad","onRefresh","onResize","onKeyboardAction","onSearch","onResetSearch","onUpdateIcon","onUpdateTitle","onUpdateCounter","onUpdateBody","onUpdatePreferences","onEdit","endEdit","onOpenURL","onViewRequest","onViewChange","onViewError"];d.forEach(function(e){this._widget[e]&&c.widget.addEvent(e,this._widget[e])}.bind(this))},setPreferences:function(){var d;d=c.widget.preferences;this.preferences=this.preferences||{};d.forEach(function(e){this.preferences[e.name]=c.widget.getValue(e.name)}.bind(this))},removeDropNotes:function(){this.$$("#dropzone").removeDropNotes();this.$$("#dropzone").style.height="100%";this.$$("#dropzone").style.margin="0px"},revertToDrop:function(){this.$$("#dropzone").revertToDrop();this.$$("#dropzone").style.height="calc(100% - 40px)";this.$$("#dropzone").style.margin="20px"},init:function(d){c.$uwawidget.dropzone=this.$$("#dropzone");this._widget=d;this.$.dashboard.addSecurityContextPreference().then(function(){this.fire("spuwawidgetinit")}.bind(this));this._setupEventlisteners();this.setPreferences();this.mcsuri=this.$.dashboard.getMcsUri();this.widgetid=this.$.dashboard.getWidgetId()}})}(this));
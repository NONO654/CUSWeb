/*!  Copyright 2015 Dassault Systemes. All rights reserved. */
(function(i){var c=i.Polymer;var d;var n=function(){if(!d){d=this}};var h=function(o,p){if(d){d.logMessage(o,p)}};var l=function(p){if(!p){return}for(var o=this.$.notificationcomponent.children.length-1;o>=0;o--){if(this.$.notificationcomponent.children[o].sp_notificatio_id===p){return this.$.notificationcomponent.children[o]}}};var g=function(q,s){var r=l.call(this,s);if(!r){r=document.createElement("Div");r.id=s;Polymer.dom(this.$.notificationcomponent).appendChild(r);r.sp_notificatio_id=Date.now()}if(q.type=="info"){r.className="alert-message alert-primary fade alert-closable alert-has-icon "}else{if(q.type=="error"){r.className="alert-message alert-error fade alert-closable alert-has-icon"}else{if(q.type=="warning"){r.className="alert-message alert-warning fade alert-closable alert-has-icon"}else{if(q.type=="success"){r.className="alert-message alert-success fade alert-closable alert-has-icon"}}}}r.style.top="0px";r.style.wordBreak="keep-all";Polymer.dom(r).innerHTML=q.text;var p=document.createElement("span");p.setAttribute("class","icon fonticon");r.appendChild(p);var o=document.createElement("span");o.setAttribute("class","close fonticon fonticon-cancel");r.appendChild(o);o.addEventListener("click",j,false);setTimeout(function(){var v=Polymer.dom(r).previousSibling;var t=Polymer.dom(r).parentNode.children.length-3;var u=0;if(v){u=v.offsetTop+v.offsetHeight+10}Polymer.dom(r).classList.add("in");r.style.top=u+"px";r.style.zIndex=100-t;if(q.type!=="error"){r.addEventListener("click",j,false)}if(q.autoRemove){b(r,(q.autoRemoveDelay?q.autoRemoveDelay:this.autoRemoveDelay));r.addEventListener("mouseover",a,false);r.addEventListener("mouseout",k,false)}}.bind(this),10);return r.sp_notificatio_id};var j=function(o){var p=o.target;if(o.target.classList.contains("fonticon-cancel")){p=o.target.parentNode}m(p)};var m=function(o){Polymer.dom(o).classList.remove("in");if(!o){return}var p=Polymer.dom(o).parentNode;if(!p){return}setTimeout(function(){Polymer.dom(p).removeChild(o);setTimeout(function(){var s=Polymer.dom(p).querySelectorAll("Div");var r=0;for(var q=0;q<s.length;q++){s[q].style.top=r+"px";r+=s[q].offsetHeight+10;s[q].style.zIndex=100-q}},10)},600)};var b=function(p,o){setTimeout(function(){if(!p.simremoveprotected){var q={target:p};j(q)}},o)};var a=function(o){o.target.simremoveprotected=true};var k=function(o){var p=o.target;p.simremoveprotected=false;setTimeout(function(){if(!p.simremoveprotected){var q={target:p};j(q)}},1000)};var f=function(p){var o=l(p);o&&m(o)};var e=function(){for(var o=this.$.notificationcomponent.children.length-1;o>=0;o--){m(this.$.notificationcomponent.children[o])}};i.SPNotification=Polymer({is:"sp-notification",properties:{autoRemoveDelay:{type:Number,value:6000},position:{type:String,value:"TR",notify:true},width:{type:String,value:"200",notify:true,observer:"widthChanged"},fixed:{type:Boolean,value:false,notify:true,observer:"fixedChanged"}},logMessageOnMain:function(){return h.apply(this,arguments)},logMessage:function(){return g.apply(this,arguments)},removeMessageById:function(){return f.apply(this,arguments)},removeAllMessages:function(){return e.apply(this,arguments)},ready:function(){this.set("$.notificationcomponent.style.width",this.width+"px");n.call(this)},widthChanged:function(p,o){this.set("$.notificationcomponent.style.width",p+"px")},fixedChanged:function(p,o){if(p){this.set("$.notificationcomponent.style.position","fixed");this.set("$.notificationcomponent.style.z-index","1040")}},behaviors:[SPBase]})}(this));
(function(g){var b=g.Polymer;var j=function(l){if(l.target==this.$.close){this.close()}};var e=function(l){this.style.display="block";this.first();setTimeout(function(){Polymer.dom(this.$.overlay).classList.add("in");Polymer.dom(this.$.coachmark).classList.add("in");if((typeof l!=="undefined")&&(l===true)){this.$.stShow.checked=false}else{this.$.stShow.checked=true}}.bind(this),50)};var k=function(){Polymer.dom(this.$.overlay).classList.remove("in");Polymer.dom(this.$.coachmark).classList.remove("in");var l=this;setTimeout(function(){l.style.display="none"},150);this.onClose(this.$.stShow.checked)};var h=function(l){if(!l){console.log("status : unchecked")}else{console.log("status : checked")}};var a=function(){var m=Polymer.dom(this.$.articles).getDistributedNodes();var u=m;for(var r=u.length-1;r>=0;r--){if(u[r].nodeName!="ARTICLE"){u.splice(r,1)}}var x=u.length;this.size=x;if(x==0){this.$.lArrow.style.display="none";this.$.rArrow.style.display="none";return}var o=this.$.slider;var l=this.$.slides;var y=this.$.inner;if(!this.root){return}var w=true;if(!this.root.styleSheets){this.root.styleSheets=this.ownerDocument.styleSheets;w=false}if(!this.root.styleSheets){return}var p=document.createElement("style");p.type="text/css";this.appendChild(p);if(!p){return}p.textContent+="#inner { width:"+x*100+"% }";var q="content[select='article']::content article { width: "+100/x+"%; float: left; }";if(!w){q="#slider article { width: "+100/x+"%; float: left; }"}p.textContent+=q;for(var r=1;r<=x;r++){var v=document.createElement("input");Polymer.dom(v).setAttribute("type","radio");Polymer.dom(v).setAttribute("selected","false");Polymer.dom(v).setAttribute("name","slider");var n="slide"+r;Polymer.dom(v).setAttribute("id",n);if(r==1){v.checked=true}Polymer.dom(o).insertBefore(v,l);p.textContent+="#slide"+r+':checked ~ #labels > label[for="slide'+r+'"] { background: #333; }';p.textContent+="#slide"+r+":checked ~ #slides #inner { margin-left: -"+(r*100-100)+"%; }"}if(x>1){p.textContent+="#slide1:checked ~ #lArrow { display:none; }";p.textContent+="#slide"+x+":checked ~ #rArrow { display:none; }"}var s=this.$.labels;var t="";for(var r=1;r<=x;r++){t+='<label class="dots" for="slide'+r+'"></label>'}Polymer.dom(s).innerHTML=t};var d=function(){var l=i.call(this);if(l!=this.size){Polymer.dom(this.$.slider).querySelector("#slide"+(l+1)).checked=true}};var f=function(){var l=i.call(this);if(l!=1){Polymer.dom(this.$.slider).querySelector("#slide"+(l-1)).checked=true}};var c=function(){var l;for(l=i.call(this);l>1;l--){this.previous()}};var i=function(){for(var l=1;l<=this.size;l++){if(Polymer.dom(this.$.slider).querySelector("#slide"+l).checked){return l}}return 1};g.SPCoachMark=Polymer({is:"sp-coachmark",properties:{modalHeight:{notify:true},modalWidth:{notify:true},type:{notify:true}},next:function(){return d.apply(this,arguments)},previous:function(){return f.apply(this,arguments)},first:function(){return c.apply(this,arguments)},open:function(l){return e.apply(this,arguments)},close:function(){return k.apply(this,arguments)},onClose:function(){return h.apply(this,arguments)},currentChecked:function(){return i.apply(this,arguments)},ready:function(){console.log("coach mark componenet ready");this.$.close.addEventListener("click",j.bind(this),false);var m=this;var l=1;this.$.slides.addEventListener("touchstart",function(n){if(n.targetTouches.length==1){l=i.call(m);var o=n.targetTouches[0];this.pageX=o.pageX;Polymer.dom(m.$.inner).classList.remove("innerMove")}},false);this.$.slides.addEventListener("touchmove",function(n){if(n.targetTouches.length==1){var p=n.targetTouches[0];var o=p.pageX-this.pageX;m.$.inner.style.marginLeft=o-(l-1)*m.$.slider.clientWidth+"px"}},false);this.$.slides.addEventListener("touchend",function(n){Polymer.dom(m.$.inner).classList.add("innerMove");var o=parseInt(m.$.inner.style.marginLeft.substr(0,m.$.inner.style.marginLeft.length-2));if(o<(1-l)*m.$.slider.clientWidth){if(o<(0.7-l)*m.$.slider.clientWidth){if(l!=m.size){Polymer.dom(m.$.slider).querySelector("#slide"+(l+1)).checked=true}}}else{if(o>(1.3-l)*m.$.slider.clientWidth){if(l!=1){Polymer.dom(m.$.slider).querySelector("#slide"+(l-1)).checked=true}}}m.$.inner.style.marginLeft=""},false);Polymer.dom(document).querySelector("body").addEventListener("touchstart",function(o){for(var n=0;n<=o.path.length;n++){if(o.path.item(n)==m.$.slides){o.preventDefault();break}}},false);Polymer.dom(document).querySelector("body").addEventListener("touchmove",function(o){for(var n=0;n<=o.path.length;n++){if(o.path.item(n)==m.$.slides){o.preventDefault();break}}},false)},attached:function(){a.call(this)},behaviors:[SPBase],_computeStyle:function(n,m){var o="100%";var l="100%";if(n){l=n+"px"}if(m){o=m+"px"}return"width : "+o+";height : "+l+";"}})}(this));
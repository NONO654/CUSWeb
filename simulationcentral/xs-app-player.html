<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Process Experience Studio</title>
    
    <!-- Include the platform library for polyfill -->
    <script type="text/javascript" src="../webapps/Polymer-1.6.1/webcomponents-lite.min.js"></script>    
    
    <!--Amd loader-->
    <script type="text/javascript" src="../webapps/AmdLoader/AmdLoader.js"></script>

    <!--Web App Utils-->
    <script type="text/javascript" src="../webapps/WebappsUtils/WebappsUtils.js"></script>

    <!--WebUX-->
    <script type="text/javascript" src="../webapps/WebUX/WebUX.js"></script>

    <!-- Importing the components -->
    <link rel="import" href="../webapps/SMAProcSP/sp-queryparams/sp-queryparams.html">
    <link rel="import" href="../webapps/SMAProcXSUI/xs-player/xs-player.html">
</head>

<body>        
    <style>
        @font-face {
            font-family: "3ds-Light";
            src: url('../webapps/UIKIT/assets/fonts/3dslight.eot');
            src: url('../webapps/UIKIT/assets/fonts/3dslight.eot') format('eot'), url('../webapps/UIKIT/assets/fonts/3dslight.svg') format('svg'), url('../webapps/UIKIT/assets/fonts/3dslight.woff') format('woff'), url('../webapps/UIKIT/assets/fonts/3dslight.ttf') format('truetype');
            font-weight: normal;
            font-style: normal; }

            @font-face {
            font-family: "entypo";
            src: url('../webapps/UIKIT/assets/fonts/entypo.eot') format('embedded-opentype'), url('../webapps/WebUX/assets/fonts/entypo.woff') format('woff'), url('../webapps/WebUX/assets/fonts/entypo.ttf') format('truetype'), url('../webapps/WebUX/assets/fonts/entypo.svg') format('svg');
            font-weight: normal;
            font-style: normal; }

            * {
            /* Text */
            font-family: "3ds-Light"; }

            /**, *:before, *:after {
            box-sizing: border-box;
            }*/
            html, body {
            padding: 0;
            margin: 0;
            /* Display & Box Model */
            margin: 0px;
            height: 100%;
            font-size: 14px;
            font-family: "3ds-Light"; }

            .loading {
            height: 100%;
            background: white;
            margin-left: 50%;
            margin-top: 20%; }

            .spinner {
            display: none;
            vertical-align: middle;
            height: 28px;
            padding: 6px;
            -webkit-transform: translate3d(0px, 0px, 0px);
            transform: translate3d(0px, 0px, 0px);
            display: inline-block; }

            .spinner-bar {
            background-color: #3d6680;
            height: 100%;
            width: 3px;
            margin-right: 2px;
            display: inline-block; }

            .spinning .spinner-bar {
            -webkit-animation: stretchdelay 1s infinite ease-in-out;
            -moz-animation: stretchdelay 1s infinite ease-in-out;
            animation: stretchdelay 1s infinite ease-in-out; }

            .spinning .spinner-bar1 {
            -webkit-animation-delay: -0.9s;
            -moz-animation-delay: -0.9s;
            animation-delay: -0.9s; }

            .spinning .spinner-bar2 {
            -webkit-animation-delay: -0.8s;
            -moz-animation-delay: -0.8s;
            animation-delay: -0.8s; }

            .spinning .spinner-bar3 {
            -webkit-animation-delay: -0.7s;
            -moz-animation-delay: -0.7s;
            animation-delay: -0.7s; }

            .spinner.fade {
            -webkit-transition-duration: .3s;
            -moz-transition-duration: .3s;
            transition-duration: .3s; }

            .spinner-lg {
            height: 38px;
            padding: 8px; }

            .spinner-lg .spinner-bar {
            width: 5px;
            margin-right: 3px; }

            .spinner-sm {
            height: 25px; }

            .spinner-sm .spinner-bar {
            width: 2px;
            margin-right: 1px; }

            @-webkit-keyframes stretchdelay {
            0%, 40%, 100% {
                -webkit-transform: scaleY(1); }

            20% {
                -webkit-transform: scaleY(1.7); } }

            @keyframes stretchdelay {
            0%, 40%, 100% {
                -webkit-transform: scaleY(1);
                -moz-transform: scaleY(1);
                transform: scaleY(1); }

            15% {
                -webkit-transform: scaleY(1.7);
                -moz-transform: scaleY(1.7);
                transform: scaleY(1.7); } }

            .spinner-bar {
            background-color: #3d6680;
            height: 100%;
            width: 3px;
            margin-right: 2px;
            display: inline-block; }

            .spinning .spinner-bar {
            -webkit-animation: stretchdelay 1s infinite ease-in-out;
            -moz-animation: stretchdelay 1s infinite ease-in-out;
            animation: stretchdelay 1s infinite ease-in-out; }

            .spinning .spinner-bar1 {
            -webkit-animation-delay: -0.9s;
            -moz-animation-delay: -0.9s;
            animation-delay: -0.9s; }

            .spinning .spinner-bar2 {
            -webkit-animation-delay: -0.8s;
            -moz-animation-delay: -0.8s;
            animation-delay: -0.8s; }

            .spinning .spinner-bar3 {
            -webkit-animation-delay: -0.7s;
            -moz-animation-delay: -0.7s;
            animation-delay: -0.7s; }

            .spinner.fade {
            -webkit-transition-duration: .3s;
            -moz-transition-duration: .3s;
            transition-duration: .3s; }

            .spinner-lg {
            height: 38px;
            padding: 8px; }

            .spinner-lg .spinner-bar {
            width: 5px;
            margin-right: 3px; }

            .spinner-sm {
            height: 25px; }

            .spinner-sm .spinner-bar {
            width: 2px;
            margin-right: 1px; }

            @-webkit-keyframes stretchdelay {
            0%, 40%, 100% {
                -webkit-transform: scaleY(1); }

            20% {
                -webkit-transform: scaleY(1.7); } }

            @keyframes stretchdelay {
            0%, 40%, 100% {
                -webkit-transform: scaleY(1);
                -moz-transform: scaleY(1);
                transform: scaleY(1); }

            15% {
                -webkit-transform: scaleY(1.7);
                -moz-transform: scaleY(1.7);
                transform: scaleY(1.7); } }

            .player {
            display: block !important;
            height: 100%;
            width: 100%;
            }    

    </style>
    
    <!--Parse the page query params on load-->
    <sp-queryparams id="querystringParser" params="{{ params }}"></sp-queryparams>

    <!--Instantiation page-->
    <xs-player unresolved id="player" class="player">
         <!--Display this till the components are ready -->
        <div class="loading">
            <div class="spinner">
                <div class="spinner spinner-lg spinning fade in">
                    <span class="spinner-bar"></span>
                    <span class="spinner-bar spinner-bar1"></span>
                    <span class="spinner-bar spinner-bar2"></span>
                    <span class="spinner-bar spinner-bar3"></span>
                </div>
            </div>
        </div>
    </xs-player>
    <script type="application/javascript">
        (function () {
            'use strict';

            var queryStringParser,
                xsPlayer,

                // Methods
                initializePlayer;

            queryStringParser = document.getElementById('querystringParser');
            xsPlayer = document.getElementById('player');

            /**
             * Initialize xs-player attributes based on the parameters xs-app-player is launched with
             * @param {Object} params - Object containing all information player needs
             */
            initializePlayer = function (params) {
                xsPlayer.simid = params.physicalId;
            };

            /* Register an event listener for WebComponentsReady which indicates
            *all polymer element have been registered/upgraded
            */
            window.addEventListener('WebComponentsReady', function () {
                initializePlayer(queryStringParser.params);
            });
        }());
    </script>
</body>

</html>
